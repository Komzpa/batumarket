<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: callgraph Pages: 1 -->
<svg width="4120pt" height="4646pt"
 viewBox="0.00 0.00 4120.39 4646.36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 4642.36)">
<title>callgraph</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-4642.36 4116.39,-4642.36 4116.39,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_cli</title>
<polygon fill="none" stroke="black" points="65,-162.12 65,-291.12 1383.39,-291.12 1383.39,-162.12 65,-162.12"/>
<text text-anchor="middle" x="724.19" y="-275.92" font-family="Times,serif" font-size="14.00">CLI entrypoints</text>
</g>
<!-- debug_dump:cli -->
<g id="node1" class="node">
<title>debug_dump:cli</title>
<g id="a_node1"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="642.5,-206.12 513.5,-206.12 513.5,-170.12 642.5,-170.12 642.5,-206.12"/>
<text text-anchor="middle" x="578" y="-184.42" font-family="Times,serif" font-size="14.00">debug_dump:cli</text>
</a>
</g>
</g>
<!-- moderation:cli -->
<g id="node2" class="node">
<title>moderation:cli</title>
<g id="a_node2"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="802,-206.12 683,-206.12 683,-170.12 802,-170.12 802,-206.12"/>
<text text-anchor="middle" x="742.5" y="-184.42" font-family="Times,serif" font-size="14.00">moderation:cli</text>
</a>
</g>
</g>
<!-- debug_dump:cli&#45;&gt;moderation:cli -->
<!-- build_site:cli -->
<g id="node3" class="node">
<title>build_site:cli</title>
<g id="a_node3"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="961.69,-206.12 854.69,-206.12 854.69,-170.12 961.69,-170.12 961.69,-206.12"/>
<text text-anchor="middle" x="908.19" y="-184.42" font-family="Times,serif" font-size="14.00">build_site:cli</text>
</a>
</g>
</g>
<!-- moderation:cli&#45;&gt;build_site:cli -->
<!-- caption:cli -->
<g id="node4" class="node">
<title>caption:cli</title>
<g id="a_node4"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="1149.89,-206.12 1059.89,-206.12 1059.89,-170.12 1149.89,-170.12 1149.89,-206.12"/>
<text text-anchor="middle" x="1104.89" y="-184.42" font-family="Times,serif" font-size="14.00">caption:cli</text>
</a>
</g>
</g>
<!-- build_site:cli&#45;&gt;caption:cli -->
<!-- tg_client:cli -->
<g id="node5" class="node">
<title>tg_client:cli</title>
<g id="a_node5"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="1375.39,-206.12 1276.39,-206.12 1276.39,-170.12 1375.39,-170.12 1375.39,-206.12"/>
<text text-anchor="middle" x="1325.89" y="-184.42" font-family="Times,serif" font-size="14.00">tg_client:cli</text>
</a>
</g>
</g>
<!-- caption:cli&#45;&gt;tg_client:cli -->
<!-- clean_data:cli -->
<g id="node6" class="node">
<title>clean_data:cli</title>
<g id="a_node6"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="186,-260.12 73,-260.12 73,-224.12 186,-224.12 186,-260.12"/>
<text text-anchor="middle" x="129.5" y="-238.42" font-family="Times,serif" font-size="14.00">clean_data:cli</text>
</a>
</g>
</g>
<!-- telegram_bot:cli -->
<g id="node7" class="node">
<title>telegram_bot:cli</title>
<g id="a_node7"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="450,-260.12 318,-260.12 318,-224.12 450,-224.12 450,-260.12"/>
<text text-anchor="middle" x="384" y="-238.42" font-family="Times,serif" font-size="14.00">telegram_bot:cli</text>
</a>
</g>
</g>
<!-- clean_data:cli&#45;&gt;telegram_bot:cli -->
<!-- scan_ontology:cli -->
<g id="node8" class="node">
<title>scan_ontology:cli</title>
<g id="a_node8"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="647,-260.12 509,-260.12 509,-224.12 647,-224.12 647,-260.12"/>
<text text-anchor="middle" x="578" y="-238.42" font-family="Times,serif" font-size="14.00">scan_ontology:cli</text>
</a>
</g>
</g>
<!-- telegram_bot:cli&#45;&gt;scan_ontology:cli -->
<!-- chop:cli -->
<g id="node9" class="node">
<title>chop:cli</title>
<g id="a_node9"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="778,-260.12 707,-260.12 707,-224.12 778,-224.12 778,-260.12"/>
<text text-anchor="middle" x="742.5" y="-238.42" font-family="Times,serif" font-size="14.00">chop:cli</text>
</a>
</g>
</g>
<!-- scan_ontology:cli&#45;&gt;chop:cli -->
<!-- embed:cli -->
<g id="node10" class="node">
<title>embed:cli</title>
<g id="a_node10"><a xlink:title="Command line entrypoint">
<polygon fill="none" stroke="black" points="951.19,-260.12 865.19,-260.12 865.19,-224.12 951.19,-224.12 951.19,-260.12"/>
<text text-anchor="middle" x="908.19" y="-238.42" font-family="Times,serif" font-size="14.00">embed:cli</text>
</a>
</g>
</g>
<!-- chop:cli&#45;&gt;embed:cli -->
<!-- caption_io._get_langs -->
<g id="node11" class="node">
<title>caption_io._get_langs</title>
<g id="a_node11"><a xlink:title="Return configured languages, caching the result.">
<polygon fill="none" stroke="black" points="3866.39,-2452.12 3698.39,-2452.12 3698.39,-2416.12 3866.39,-2416.12 3866.39,-2452.12"/>
<text text-anchor="middle" x="3782.39" y="-2430.42" font-family="Times,serif" font-size="14.00">caption_io._get_langs</text>
</a>
</g>
</g>
<!-- config_utils.load_config -->
<g id="node12" class="node">
<title>config_utils.load_config</title>
<g id="a_node12"><a xlink:title="Return the ``config`` module or exit with a helpful message.&#10;&#10;When running the scripts directly from ``src/`` the repository root isn&#39;t on&#10;``sys.path`` and ``config.py`` can&#39;t be imported. &#160;Try adding the parent&#10;directory before failing so the configuration can live alongside&#10;``config.example.py`` in the project root.">
<polygon fill="none" stroke="black" points="4112.39,-3468.12 3930.39,-3468.12 3930.39,-3432.12 4112.39,-3432.12 4112.39,-3468.12"/>
<text text-anchor="middle" x="4021.39" y="-3446.42" font-family="Times,serif" font-size="14.00">config_utils.load_config</text>
</a>
</g>
</g>
<!-- caption_io._get_langs&#45;&gt;config_utils.load_config -->
<g id="edge1" class="edge">
<title>caption_io._get_langs&#45;&gt;config_utils.load_config</title>
<path fill="none" stroke="black" d="M3866.4,-2442.31C3877,-2446.57 3886.79,-2452.61 3894.39,-2461.12 3960.43,-2534.99 4009.14,-3268.11 4018.68,-3421.91"/>
<polygon fill="black" stroke="black" points="4015.19,-3422.19 4019.3,-3431.96 4022.18,-3421.76 4015.19,-3422.19"/>
</g>
<!-- caption_io.caption_json_path -->
<g id="node13" class="node">
<title>caption_io.caption_json_path</title>
<g id="a_node13"><a xlink:title="Return new&#45;style caption path for ``image``.">
<polygon fill="none" stroke="black" points="3892.89,-1807.12 3671.89,-1807.12 3671.89,-1771.12 3892.89,-1771.12 3892.89,-1807.12"/>
<text text-anchor="middle" x="3782.39" y="-1785.42" font-family="Times,serif" font-size="14.00">caption_io.caption_json_path</text>
</a>
</g>
</g>
<!-- caption_io.caption_md_path -->
<g id="node14" class="node">
<title>caption_io.caption_md_path</title>
<g id="a_node14"><a xlink:title="Return legacy Markdown caption path for ``image``.">
<polygon fill="none" stroke="black" points="3889.39,-1715.12 3675.39,-1715.12 3675.39,-1679.12 3889.39,-1679.12 3889.39,-1715.12"/>
<text text-anchor="middle" x="3782.39" y="-1693.42" font-family="Times,serif" font-size="14.00">caption_io.caption_md_path</text>
</a>
</g>
</g>
<!-- caption_io.has_caption -->
<g id="node15" class="node">
<title>caption_io.has_caption</title>
<g id="a_node15"><a xlink:title="Return ``True`` when any caption exists for ``image``.">
<polygon fill="none" stroke="black" points="3585.89,-1715.12 3408.89,-1715.12 3408.89,-1679.12 3585.89,-1679.12 3585.89,-1715.12"/>
<text text-anchor="middle" x="3497.39" y="-1693.42" font-family="Times,serif" font-size="14.00">caption_io.has_caption</text>
</a>
</g>
</g>
<!-- caption_io.has_caption&#45;&gt;caption_io.caption_json_path -->
<g id="edge2" class="edge">
<title>caption_io.has_caption&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3553.96,-1715.18C3600.59,-1730.34 3667.26,-1752.01 3716.37,-1767.98"/>
<polygon fill="black" stroke="black" points="3715.35,-1771.33 3725.94,-1771.09 3717.51,-1764.67 3715.35,-1771.33"/>
</g>
<!-- caption_io.has_caption&#45;&gt;caption_io.caption_md_path -->
<g id="edge3" class="edge">
<title>caption_io.has_caption&#45;&gt;caption_io.caption_md_path</title>
<path fill="none" stroke="black" d="M3585.99,-1697.12C3611.04,-1697.12 3638.73,-1697.12 3665.21,-1697.12"/>
<polygon fill="black" stroke="black" points="3665.28,-1700.62 3675.28,-1697.12 3665.28,-1693.62 3665.28,-1700.62"/>
</g>
<!-- caption_io.read_caption -->
<g id="node16" class="node">
<title>caption_io.read_caption</title>
<g id="a_node16"><a xlink:title="Return caption for ``image`` in ``lang`` or empty string when missing.">
<polygon fill="none" stroke="black" points="3589.89,-2051.12 3404.89,-2051.12 3404.89,-2015.12 3589.89,-2015.12 3589.89,-2051.12"/>
<text text-anchor="middle" x="3497.39" y="-2029.42" font-family="Times,serif" font-size="14.00">caption_io.read_caption</text>
</a>
</g>
</g>
<!-- caption_io.read_caption&#45;&gt;caption_io._get_langs -->
<g id="edge4" class="edge">
<title>caption_io.read_caption&#45;&gt;caption_io._get_langs</title>
<path fill="none" stroke="black" d="M3590.13,-2042.01C3606.21,-2046.93 3621.8,-2054.27 3634.39,-2065.12 3740.74,-2156.78 3770.91,-2336.05 3778.8,-2405.59"/>
<polygon fill="black" stroke="black" points="3775.35,-2406.21 3779.88,-2415.78 3782.31,-2405.47 3775.35,-2406.21"/>
</g>
<!-- caption_io.read_caption&#45;&gt;caption_io.caption_json_path -->
<g id="edge5" class="edge">
<title>caption_io.read_caption&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3560.76,-2015.05C3586.49,-2004.88 3614.82,-1989.76 3634.39,-1968.12 3666.07,-1933.08 3641.84,-1905.75 3670.39,-1868.12 3687.93,-1844.99 3714.16,-1825.88 3736.71,-1812.26"/>
<polygon fill="black" stroke="black" points="3738.62,-1815.2 3745.47,-1807.12 3735.08,-1809.16 3738.62,-1815.2"/>
</g>
<!-- caption_io.read_caption&#45;&gt;caption_io.caption_md_path -->
<g id="edge6" class="edge">
<title>caption_io.read_caption&#45;&gt;caption_io.caption_md_path</title>
<path fill="none" stroke="black" d="M3566.48,-2015.08C3591.42,-2005.16 3617.62,-1990.22 3634.39,-1968.12 3690.56,-1894.07 3617.37,-1838.45 3670.39,-1762.12 3683.09,-1743.83 3702.74,-1729.92 3721.99,-1719.76"/>
<polygon fill="black" stroke="black" points="3723.7,-1722.82 3731.08,-1715.22 3720.57,-1716.56 3723.7,-1722.82"/>
</g>
<!-- serde_utils.read_md -->
<g id="node17" class="node">
<title>serde_utils.read_md</title>
<g id="a_node17"><a xlink:title="Alias for :func:`read_text` used for Markdown files.">
<polygon fill="none" stroke="black" points="3862.89,-1020.12 3701.89,-1020.12 3701.89,-984.12 3862.89,-984.12 3862.89,-1020.12"/>
<text text-anchor="middle" x="3782.39" y="-998.42" font-family="Times,serif" font-size="14.00">serde_utils.read_md</text>
</a>
</g>
</g>
<!-- caption_io.read_caption&#45;&gt;serde_utils.read_md -->
<g id="edge7" class="edge">
<title>caption_io.read_caption&#45;&gt;serde_utils.read_md</title>
<path fill="none" stroke="black" d="M3570.9,-2015.06C3595.15,-2005.27 3619.72,-1990.42 3634.39,-1968.12 3691.75,-1880.87 3604.31,-1109.96 3670.39,-1029.12 3676.38,-1021.79 3684,-1016.25 3692.42,-1012.1"/>
<polygon fill="black" stroke="black" points="3694,-1015.23 3701.85,-1008.11 3691.27,-1008.78 3694,-1015.23"/>
</g>
<!-- serde_utils.load_json -->
<g id="node18" class="node">
<title>serde_utils.load_json</title>
<g id="a_node18"><a xlink:title="Return parsed JSON or ``None`` when invalid.">
<polygon fill="none" stroke="black" points="3864.89,-2506.12 3699.89,-2506.12 3699.89,-2470.12 3864.89,-2470.12 3864.89,-2506.12"/>
<text text-anchor="middle" x="3782.39" y="-2484.42" font-family="Times,serif" font-size="14.00">serde_utils.load_json</text>
</a>
</g>
</g>
<!-- caption_io.read_caption&#45;&gt;serde_utils.load_json -->
<g id="edge8" class="edge">
<title>caption_io.read_caption&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3590.07,-2038.41C3606.95,-2043.52 3622.86,-2051.84 3634.39,-2065.12 3692.33,-2131.83 3612.69,-2394.19 3670.39,-2461.12 3676.02,-2467.65 3682.94,-2472.74 3690.55,-2476.69"/>
<polygon fill="black" stroke="black" points="3689.21,-2479.93 3699.76,-2480.83 3692.07,-2473.54 3689.21,-2479.93"/>
</g>
<!-- serde_utils.read_text -->
<g id="node30" class="node">
<title>serde_utils.read_text</title>
<g id="a_node30"><a xlink:title="Return file contents as UTF&#45;8 or empty string when missing.">
<polygon fill="none" stroke="black" points="4104.89,-2124.12 3937.89,-2124.12 3937.89,-2088.12 4104.89,-2088.12 4104.89,-2124.12"/>
<text text-anchor="middle" x="4021.39" y="-2102.42" font-family="Times,serif" font-size="14.00">serde_utils.read_text</text>
</a>
</g>
</g>
<!-- serde_utils.read_md&#45;&gt;serde_utils.read_text -->
<g id="edge61" class="edge">
<title>serde_utils.read_md&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3863.13,-1008.96C3875.01,-1013.27 3886.04,-1019.68 3894.39,-1029.12 3966.18,-1110.26 4010.74,-1916.4 4018.99,-2078"/>
<polygon fill="black" stroke="black" points="4015.5,-2078.29 4019.51,-2088.1 4022.5,-2077.94 4015.5,-2078.29"/>
</g>
<!-- serde_utils.load_json&#45;&gt;serde_utils.read_text -->
<g id="edge63" class="edge">
<title>serde_utils.load_json&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3865.12,-2478.26C3875.84,-2474.23 3886,-2468.69 3894.39,-2461.12 3992.58,-2372.5 4014.26,-2202.34 4019.04,-2134.78"/>
<polygon fill="black" stroke="black" points="4022.56,-2134.69 4019.69,-2124.48 4015.57,-2134.24 4022.56,-2134.69"/>
</g>
<!-- caption_io.write_caption -->
<g id="node19" class="node">
<title>caption_io.write_caption</title>
<g id="a_node19"><a xlink:title="Write ``text`` as ``lang`` caption for ``image``.">
<polygon fill="none" stroke="black" points="3285.39,-2777.12 3095.39,-2777.12 3095.39,-2741.12 3285.39,-2741.12 3285.39,-2777.12"/>
<text text-anchor="middle" x="3190.39" y="-2755.42" font-family="Times,serif" font-size="14.00">caption_io.write_caption</text>
</a>
</g>
</g>
<!-- caption_io.write_caption&#45;&gt;caption_io._get_langs -->
<g id="edge9" class="edge">
<title>caption_io.write_caption&#45;&gt;caption_io._get_langs</title>
<path fill="none" stroke="black" d="M3266.44,-2741.01C3306.99,-2731.28 3350.72,-2720.93 3360.39,-2719.12 3420.81,-2707.8 3590.39,-2724.05 3634.39,-2681.12 3705.3,-2611.92 3603.06,-2533.8 3670.39,-2461.12 3675.79,-2455.28 3682.22,-2450.62 3689.23,-2446.89"/>
<polygon fill="black" stroke="black" points="3690.77,-2450.04 3698.37,-2442.66 3687.83,-2443.68 3690.77,-2450.04"/>
</g>
<!-- caption_io.write_caption&#45;&gt;caption_io.caption_json_path -->
<g id="edge10" class="edge">
<title>caption_io.write_caption&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3285.51,-2744.89C3299.18,-2740.48 3312.6,-2734.69 3324.39,-2727.12 3346.22,-2713.07 3337.77,-2693.86 3360.39,-2681.12 3413.81,-2651 3592.65,-2693.05 3634.39,-2648.12 3693.43,-2584.55 3628.85,-1944.29 3670.39,-1868.12 3683.68,-1843.73 3708.13,-1825.1 3730.71,-1812.07"/>
<polygon fill="black" stroke="black" points="3732.51,-1815.07 3739.57,-1807.17 3729.12,-1808.94 3732.51,-1815.07"/>
</g>
<!-- caption_io.write_caption&#45;&gt;serde_utils.load_json -->
<g id="edge11" class="edge">
<title>caption_io.write_caption&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3285.46,-2774.38C3381.07,-2784.79 3529.61,-2786.4 3634.39,-2719.12 3661.52,-2701.69 3653.49,-2683.58 3670.39,-2656.12 3701.53,-2605.49 3740.26,-2548.01 3762.77,-2515.11"/>
<polygon fill="black" stroke="black" points="3765.9,-2516.73 3768.67,-2506.51 3760.13,-2512.78 3765.9,-2516.73"/>
</g>
<!-- serde_utils.write_json -->
<g id="node20" class="node">
<title>serde_utils.write_json</title>
<g id="a_node20"><a xlink:title="Serialise ``data`` to ``path`` with standard options.">
<polygon fill="none" stroke="black" points="3583.89,-2975.12 3410.89,-2975.12 3410.89,-2939.12 3583.89,-2939.12 3583.89,-2975.12"/>
<text text-anchor="middle" x="3497.39" y="-2953.42" font-family="Times,serif" font-size="14.00">serde_utils.write_json</text>
</a>
</g>
</g>
<!-- caption_io.write_caption&#45;&gt;serde_utils.write_json -->
<g id="edge12" class="edge">
<title>caption_io.write_caption&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M3285.56,-2764.42C3299.94,-2768.9 3313.57,-2775.78 3324.39,-2786.12 3372.07,-2831.71 3312.61,-2884.62 3360.39,-2930.12 3371.61,-2940.8 3385.8,-2947.82 3400.74,-2952.34"/>
<polygon fill="black" stroke="black" points="3400.08,-2955.79 3410.65,-2954.97 3401.87,-2949.02 3400.08,-2955.79"/>
</g>
<!-- image_io.read_image_meta -->
<g id="node21" class="node">
<title>image_io.read_image_meta</title>
<g id="a_node21"><a xlink:title="Return metadata from ``path.with_suffix(&#39;.md&#39;)``.">
<polygon fill="none" stroke="black" points="3294.89,-325.12 3085.89,-325.12 3085.89,-289.12 3294.89,-289.12 3294.89,-325.12"/>
<text text-anchor="middle" x="3190.39" y="-303.42" font-family="Times,serif" font-size="14.00">image_io.read_image_meta</text>
</a>
</g>
</g>
<!-- serde_utils.parse_md -->
<g id="node22" class="node">
<title>serde_utils.parse_md</title>
<g id="a_node22"><a xlink:title="Return metadata dictionary and body text from ``path``.">
<polygon fill="none" stroke="black" points="3581.39,-371.12 3413.39,-371.12 3413.39,-335.12 3581.39,-335.12 3581.39,-371.12"/>
<text text-anchor="middle" x="3497.39" y="-349.42" font-family="Times,serif" font-size="14.00">serde_utils.parse_md</text>
</a>
</g>
</g>
<!-- image_io.read_image_meta&#45;&gt;serde_utils.parse_md -->
<g id="edge13" class="edge">
<title>image_io.read_image_meta&#45;&gt;serde_utils.parse_md</title>
<path fill="none" stroke="black" d="M3295.07,-322.75C3330.12,-328.04 3369.02,-333.91 3403.21,-339.06"/>
<polygon fill="black" stroke="black" points="3402.77,-342.54 3413.18,-340.57 3403.82,-335.61 3402.77,-342.54"/>
</g>
<!-- serde_utils.parse_md&#45;&gt;serde_utils.read_md -->
<g id="edge62" class="edge">
<title>serde_utils.parse_md&#45;&gt;serde_utils.read_md</title>
<path fill="none" stroke="black" d="M3581.42,-354.51C3600.89,-358.62 3620.09,-366.33 3634.39,-380.12 3722.31,-464.92 3767.73,-863.92 3778.72,-973.95"/>
<polygon fill="black" stroke="black" points="3775.24,-974.35 3779.71,-983.96 3782.21,-973.67 3775.24,-974.35"/>
</g>
<!-- image_io.write_image_meta -->
<g id="node23" class="node">
<title>image_io.write_image_meta</title>
<g id="a_node23"><a xlink:title="Write ``meta`` to ``path.with_suffix(&#39;.md&#39;)``.">
<polygon fill="none" stroke="black" points="2990.89,-939.12 2775.89,-939.12 2775.89,-903.12 2990.89,-903.12 2990.89,-939.12"/>
<text text-anchor="middle" x="2883.39" y="-917.42" font-family="Times,serif" font-size="14.00">image_io.write_image_meta</text>
</a>
</g>
</g>
<!-- serde_utils.write_md -->
<g id="node24" class="node">
<title>serde_utils.write_md</title>
<g id="a_node24"><a xlink:title="Write ``text`` to ``path`` ensuring a trailing newline.">
<polygon fill="none" stroke="black" points="3273.39,-741.12 3107.39,-741.12 3107.39,-705.12 3273.39,-705.12 3273.39,-741.12"/>
<text text-anchor="middle" x="3190.39" y="-719.42" font-family="Times,serif" font-size="14.00">serde_utils.write_md</text>
</a>
</g>
</g>
<!-- image_io.write_image_meta&#45;&gt;serde_utils.write_md -->
<g id="edge14" class="edge">
<title>image_io.write_image_meta&#45;&gt;serde_utils.write_md</title>
<path fill="none" stroke="black" d="M2991.21,-909.64C3001.64,-905.72 3011.6,-900.66 3020.39,-894.12 3047.82,-873.7 3034.37,-852.28 3056.39,-826.12 3083.39,-794.01 3121.96,-765.51 3150.62,-746.67"/>
<polygon fill="black" stroke="black" points="3152.68,-749.51 3159.17,-741.14 3148.88,-743.63 3152.68,-749.51"/>
</g>
<!-- debug_dump.parse_url -->
<g id="node25" class="node">
<title>debug_dump.parse_url</title>
<g id="a_node25"><a xlink:title="Return ``(lot_id, lang)`` extracted from ``url``.">
<polygon fill="none" stroke="black" points="3279.89,-1635.12 3100.89,-1635.12 3100.89,-1599.12 3279.89,-1599.12 3279.89,-1635.12"/>
<text text-anchor="middle" x="3190.39" y="-1613.42" font-family="Times,serif" font-size="14.00">debug_dump.parse_url</text>
</a>
</g>
</g>
<!-- debug_dump.guess_source_from_lot -->
<g id="node26" class="node">
<title>debug_dump.guess_source_from_lot</title>
<g id="a_node26"><a xlink:title="Guess ``(chat, message_id)`` directly from ``lot_id``.">
<polygon fill="none" stroke="black" points="3634.39,-1661.12 3360.39,-1661.12 3360.39,-1625.12 3634.39,-1625.12 3634.39,-1661.12"/>
<text text-anchor="middle" x="3497.39" y="-1639.42" font-family="Times,serif" font-size="14.00">debug_dump.guess_source_from_lot</text>
</a>
</g>
</g>
<!-- debug_dump.load_source_info -->
<g id="node27" class="node">
<title>debug_dump.load_source_info</title>
<g id="a_node27"><a xlink:title="Return ``(chat, message_id)`` for ``lot_id`` if available.">
<polygon fill="none" stroke="black" points="3305.39,-2539.12 3075.39,-2539.12 3075.39,-2503.12 3305.39,-2503.12 3305.39,-2539.12"/>
<text text-anchor="middle" x="3190.39" y="-2517.42" font-family="Times,serif" font-size="14.00">debug_dump.load_source_info</text>
</a>
</g>
</g>
<!-- debug_dump.load_source_info&#45;&gt;serde_utils.load_json -->
<g id="edge15" class="edge">
<title>debug_dump.load_source_info&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3281.22,-2503.11C3295.66,-2500.15 3310.44,-2497.08 3324.39,-2494.12 3340.42,-2490.71 3344.1,-2487.9 3360.39,-2486.12 3481.44,-2472.83 3512.61,-2485.29 3634.39,-2486.12 3652.26,-2486.24 3671.36,-2486.44 3689.67,-2486.68"/>
<polygon fill="black" stroke="black" points="3689.7,-2490.18 3699.75,-2486.81 3689.79,-2483.18 3689.7,-2490.18"/>
</g>
<!-- lot_io.lot_json_path -->
<g id="node28" class="node">
<title>lot_io.lot_json_path</title>
<g id="a_node28"><a xlink:title="Return full JSON path for ``lot_id`` given ``root`` directory.">
<polygon fill="none" stroke="black" points="3573.89,-2181.12 3420.89,-2181.12 3420.89,-2145.12 3573.89,-2145.12 3573.89,-2181.12"/>
<text text-anchor="middle" x="3497.39" y="-2159.42" font-family="Times,serif" font-size="14.00">lot_io.lot_json_path</text>
</a>
</g>
</g>
<!-- debug_dump.load_source_info&#45;&gt;lot_io.lot_json_path -->
<g id="edge16" class="edge">
<title>debug_dump.load_source_info&#45;&gt;lot_io.lot_json_path</title>
<path fill="none" stroke="black" d="M3305.43,-2508.88C3312.44,-2504.95 3318.88,-2500.1 3324.39,-2494.12 3416.55,-2394.03 3268.01,-2290 3360.39,-2190.12 3373.54,-2175.89 3391.86,-2167.94 3410.8,-2163.73"/>
<polygon fill="black" stroke="black" points="3411.57,-2167.15 3420.74,-2161.85 3410.27,-2160.27 3411.57,-2167.15"/>
</g>
<!-- lot_io.parse_lot_id -->
<g id="node170" class="node">
<title>lot_io.parse_lot_id</title>
<g id="a_node170"><a xlink:title="Return ``(relative_path, index)`` extracted from ``lot_id``.">
<polygon fill="none" stroke="black" points="3854.89,-2701.12 3709.89,-2701.12 3709.89,-2665.12 3854.89,-2665.12 3854.89,-2701.12"/>
<text text-anchor="middle" x="3782.39" y="-2679.42" font-family="Times,serif" font-size="14.00">lot_io.parse_lot_id</text>
</a>
</g>
</g>
<!-- lot_io.lot_json_path&#45;&gt;lot_io.parse_lot_id -->
<g id="edge266" class="edge">
<title>lot_io.lot_json_path&#45;&gt;lot_io.parse_lot_id</title>
<path fill="none" stroke="black" d="M3574.11,-2161.78C3596.45,-2165.29 3619.01,-2173.36 3634.39,-2190.12 3683.52,-2243.65 3645.67,-2446.78 3670.39,-2515.12 3690.47,-2570.64 3732.38,-2626.03 3758.56,-2657.29"/>
<polygon fill="black" stroke="black" points="3756.04,-2659.72 3765.18,-2665.08 3761.37,-2655.19 3756.04,-2659.72"/>
</g>
<!-- debug_dump.run_tg_fetch -->
<g id="node29" class="node">
<title>debug_dump.run_tg_fetch</title>
<g id="a_node29"><a xlink:title="Run ``tg_client.py &#45;&#45;fetch`` and return combined logs.">
<polygon fill="none" stroke="black" points="3883.39,-1913.12 3681.39,-1913.12 3681.39,-1877.12 3883.39,-1877.12 3883.39,-1913.12"/>
<text text-anchor="middle" x="3782.39" y="-1891.42" font-family="Times,serif" font-size="14.00">debug_dump.run_tg_fetch</text>
</a>
</g>
</g>
<!-- debug_dump.run_tg_fetch&#45;&gt;serde_utils.read_text -->
<g id="edge17" class="edge">
<title>debug_dump.run_tg_fetch&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3878.73,-1913.18C3884.22,-1915.77 3889.49,-1918.73 3894.39,-1922.12 3952.22,-1962.06 3991.39,-2037.88 4009.28,-2078.6"/>
<polygon fill="black" stroke="black" points="4006.12,-2080.11 4013.28,-2087.92 4012.56,-2077.35 4006.12,-2080.11"/>
</g>
<!-- serde_utils.read_text&#45;&gt;serde_utils.read_text -->
<g id="edge60" class="edge">
<title>serde_utils.read_text&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3978.33,-2124.27C3971.71,-2133.65 3986.06,-2142.12 4021.39,-2142.12 4042.92,-2142.12 4056.65,-2138.97 4062.6,-2134.39"/>
<polygon fill="black" stroke="black" points="4066.1,-2134.73 4064.44,-2124.27 4059.21,-2133.48 4066.1,-2134.73"/>
</g>
<!-- debug_dump.collect_files -->
<g id="node31" class="node">
<title>debug_dump.collect_files</title>
<g id="a_node31"><a xlink:title="Return ``[(name, content), ...]`` for files related to ``lot_id``.">
<polygon fill="none" stroke="black" points="3287.89,-1933.12 3092.89,-1933.12 3092.89,-1897.12 3287.89,-1897.12 3287.89,-1933.12"/>
<text text-anchor="middle" x="3190.39" y="-1911.42" font-family="Times,serif" font-size="14.00">debug_dump.collect_files</text>
</a>
</g>
</g>
<!-- debug_dump.collect_files&#45;&gt;caption_io.caption_json_path -->
<g id="edge18" class="edge">
<title>debug_dump.collect_files&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3288.2,-1899.16C3300.85,-1894.99 3313.27,-1889.74 3324.39,-1883.12 3344.94,-1870.88 3339.2,-1854.22 3360.39,-1843.12 3453.56,-1794.28 3573.72,-1783.12 3661.81,-1782.8"/>
<polygon fill="black" stroke="black" points="3661.84,-1786.3 3671.85,-1782.81 3661.85,-1779.3 3661.84,-1786.3"/>
</g>
<!-- debug_dump.collect_files&#45;&gt;caption_io.has_caption -->
<g id="edge19" class="edge">
<title>debug_dump.collect_files&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M3287.9,-1905.47C3301.49,-1900.47 3314.26,-1893.31 3324.39,-1883.12 3373.93,-1833.25 3310.72,-1778.85 3360.39,-1729.12 3371.07,-1718.41 3384.62,-1711.03 3399,-1705.98"/>
<polygon fill="black" stroke="black" points="3400.05,-1709.31 3408.55,-1702.98 3397.96,-1702.63 3400.05,-1709.31"/>
</g>
<!-- debug_dump.collect_files&#45;&gt;caption_io.read_caption -->
<g id="edge20" class="edge">
<title>debug_dump.collect_files&#45;&gt;caption_io.read_caption</title>
<path fill="none" stroke="black" d="M3287.95,-1924.82C3300.92,-1928.89 3313.49,-1934.47 3324.39,-1942.12 3349.54,-1959.75 3335.51,-1983.09 3360.39,-2001.12 3370.8,-2008.66 3382.72,-2014.45 3395.09,-2018.89"/>
<polygon fill="black" stroke="black" points="3394.03,-2022.22 3404.62,-2022.03 3396.22,-2015.57 3394.03,-2022.22"/>
</g>
<!-- debug_dump.collect_files&#45;&gt;serde_utils.load_json -->
<g id="edge22" class="edge">
<title>debug_dump.collect_files&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3288.17,-1921.87C3301.49,-1926.29 3314.1,-1932.77 3324.39,-1942.12 3364.97,-1978.99 3318.35,-2024.91 3360.39,-2060.12 3454.42,-2138.88 3548.63,-2005.42 3634.39,-2093.12 3691.84,-2151.86 3616.53,-2399.06 3670.39,-2461.12 3676.04,-2467.63 3682.98,-2472.71 3690.59,-2476.65"/>
<polygon fill="black" stroke="black" points="3689.26,-2479.89 3699.82,-2480.78 3692.12,-2473.5 3689.26,-2479.89"/>
</g>
<!-- debug_dump.collect_files&#45;&gt;lot_io.lot_json_path -->
<g id="edge24" class="edge">
<title>debug_dump.collect_files&#45;&gt;lot_io.lot_json_path</title>
<path fill="none" stroke="black" d="M3288.02,-1921.08C3301.52,-1925.59 3314.22,-1932.29 3324.39,-1942.12 3373.99,-1990.07 3317.83,-2038.81 3360.39,-2093.12 3377.31,-2114.71 3402.72,-2130.27 3427.01,-2141.16"/>
<polygon fill="black" stroke="black" points="3425.68,-2144.39 3436.25,-2145.1 3428.43,-2137.95 3425.68,-2144.39"/>
</g>
<!-- debug_dump.collect_files&#45;&gt;serde_utils.read_text -->
<g id="edge21" class="edge">
<title>debug_dump.collect_files&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3288.02,-1902.56C3301.35,-1897.53 3314.01,-1890.61 3324.39,-1881.12 3359.86,-1848.67 3321.92,-1807.95 3360.39,-1779.12 3407.89,-1743.51 3845.73,-1728.12 3894.39,-1762.12 4000.32,-1836.13 4017.47,-2009.36 4020.04,-2077.69"/>
<polygon fill="black" stroke="black" points="4016.55,-2078.19 4020.34,-2088.09 4023.55,-2077.99 4016.55,-2078.19"/>
</g>
<!-- post_io.raw_post_path -->
<g id="node32" class="node">
<title>post_io.raw_post_path</title>
<g id="a_node32"><a xlink:title="Return absolute message path for ``rel`` under ``root``.">
<polygon fill="none" stroke="black" points="3584.89,-1375.12 3409.89,-1375.12 3409.89,-1339.12 3584.89,-1339.12 3584.89,-1375.12"/>
<text text-anchor="middle" x="3497.39" y="-1353.42" font-family="Times,serif" font-size="14.00">post_io.raw_post_path</text>
</a>
</g>
</g>
<!-- debug_dump.collect_files&#45;&gt;post_io.raw_post_path -->
<g id="edge23" class="edge">
<title>debug_dump.collect_files&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3288.02,-1907.31C3301.95,-1902.14 3314.79,-1894.44 3324.39,-1883.12 3396.29,-1798.32 3286.79,-1467.45 3360.39,-1384.12 3370.78,-1372.35 3384.7,-1364.82 3399.68,-1360.15"/>
<polygon fill="black" stroke="black" points="3400.9,-1363.44 3409.65,-1357.47 3399.09,-1356.68 3400.9,-1363.44"/>
</g>
<!-- debug_dump.delete_files -->
<g id="node33" class="node">
<title>debug_dump.delete_files</title>
<g id="a_node33"><a xlink:title="Remove files related to ``lot_id`` from the filesystem.">
<polygon fill="none" stroke="black" points="3286.89,-1987.12 3093.89,-1987.12 3093.89,-1951.12 3286.89,-1951.12 3286.89,-1987.12"/>
<text text-anchor="middle" x="3190.39" y="-1965.42" font-family="Times,serif" font-size="14.00">debug_dump.delete_files</text>
</a>
</g>
</g>
<!-- debug_dump.delete_files&#45;&gt;caption_io.caption_json_path -->
<g id="edge25" class="edge">
<title>debug_dump.delete_files&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3287.03,-1959.87C3300.34,-1955.77 3313.26,-1950.04 3324.39,-1942.12 3350.03,-1923.85 3334.5,-1899.03 3360.39,-1881.12 3462.04,-1810.74 3514.07,-1861.56 3634.39,-1833.12 3661.74,-1826.65 3691.52,-1818.04 3717.08,-1810.15"/>
<polygon fill="black" stroke="black" points="3718.15,-1813.48 3726.65,-1807.17 3716.07,-1806.8 3718.15,-1813.48"/>
</g>
<!-- debug_dump.delete_files&#45;&gt;caption_io.caption_md_path -->
<g id="edge26" class="edge">
<title>debug_dump.delete_files&#45;&gt;caption_io.caption_md_path</title>
<path fill="none" stroke="black" d="M3286.96,-1962.48C3300.68,-1958.08 3313.73,-1951.58 3324.39,-1942.12 3362.54,-1908.24 3324.19,-1869.07 3360.39,-1833.12 3406.62,-1787.18 3576.56,-1742.38 3685.88,-1717.4"/>
<polygon fill="black" stroke="black" points="3686.96,-1720.74 3695.94,-1715.12 3685.41,-1713.92 3686.96,-1720.74"/>
</g>
<!-- debug_dump.delete_files&#45;&gt;serde_utils.load_json -->
<g id="edge27" class="edge">
<title>debug_dump.delete_files&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3213.23,-1987.19C3251.25,-2018.29 3328.55,-2079.87 3360.39,-2093.12 3474.2,-2140.47 3549.22,-2047 3634.39,-2136.12 3734.79,-2241.18 3574.42,-2351.98 3670.39,-2461.12 3676.04,-2467.54 3682.93,-2472.56 3690.49,-2476.48"/>
<polygon fill="black" stroke="black" points="3689.08,-2479.68 3699.64,-2480.58 3691.95,-2473.3 3689.08,-2479.68"/>
</g>
<!-- debug_dump.delete_files&#45;&gt;lot_io.lot_json_path -->
<g id="edge29" class="edge">
<title>debug_dump.delete_files&#45;&gt;lot_io.lot_json_path</title>
<path fill="none" stroke="black" d="M3220.6,-1987.19C3249.34,-2005.96 3293.33,-2037.4 3324.39,-2072.12 3344.87,-2095.01 3335.51,-2113.09 3360.39,-2131.12 3375.14,-2141.8 3392.94,-2148.97 3410.73,-2153.77"/>
<polygon fill="black" stroke="black" points="3410.04,-2157.21 3420.59,-2156.2 3411.72,-2150.41 3410.04,-2157.21"/>
</g>
<!-- debug_dump.delete_files&#45;&gt;post_io.raw_post_path -->
<g id="edge28" class="edge">
<title>debug_dump.delete_files&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3287.21,-1965.4C3301.41,-1960.73 3314.55,-1953.39 3324.39,-1942.12 3406.08,-1848.49 3278.49,-1477.56 3360.39,-1384.12 3370.73,-1372.31 3384.64,-1364.77 3399.61,-1360.08"/>
<polygon fill="black" stroke="black" points="3400.83,-1363.38 3409.58,-1357.4 3399.01,-1356.62 3400.83,-1363.38"/>
</g>
<!-- debug_dump._message_reason -->
<g id="node34" class="node">
<title>debug_dump._message_reason</title>
<g id="a_node34"><a xlink:title="Return explanation why a message would be skipped.">
<polygon fill="none" stroke="black" points="3615.39,-1429.12 3379.39,-1429.12 3379.39,-1393.12 3615.39,-1393.12 3615.39,-1429.12"/>
<text text-anchor="middle" x="3497.39" y="-1407.42" font-family="Times,serif" font-size="14.00">debug_dump._message_reason</text>
</a>
</g>
</g>
<!-- moderation.should_skip_user -->
<g id="node35" class="node">
<title>moderation.should_skip_user</title>
<g id="a_node35"><a xlink:title="Return ``True`` if ``username`` is blacklisted.">
<polygon fill="none" stroke="black" points="3894.39,-1421.12 3670.39,-1421.12 3670.39,-1385.12 3894.39,-1385.12 3894.39,-1421.12"/>
<text text-anchor="middle" x="3782.39" y="-1399.42" font-family="Times,serif" font-size="14.00">moderation.should_skip_user</text>
</a>
</g>
</g>
<!-- debug_dump._message_reason&#45;&gt;moderation.should_skip_user -->
<g id="edge30" class="edge">
<title>debug_dump._message_reason&#45;&gt;moderation.should_skip_user</title>
<path fill="none" stroke="black" d="M3615.54,-1407.8C3630.24,-1407.39 3645.3,-1406.96 3660.07,-1406.54"/>
<polygon fill="black" stroke="black" points="3660.34,-1410.04 3670.23,-1406.26 3660.14,-1403.04 3660.34,-1410.04"/>
</g>
<!-- debug_dump._lot_reason -->
<g id="node36" class="node">
<title>debug_dump._lot_reason</title>
<g id="a_node36"><a xlink:title="Return explanation why ``lot`` would be skipped.">
<polygon fill="none" stroke="black" points="3878.89,-1475.12 3685.89,-1475.12 3685.89,-1439.12 3878.89,-1439.12 3878.89,-1475.12"/>
<text text-anchor="middle" x="3782.39" y="-1453.42" font-family="Times,serif" font-size="14.00">debug_dump._lot_reason</text>
</a>
</g>
</g>
<!-- debug_dump.moderation_summary -->
<g id="node37" class="node">
<title>debug_dump.moderation_summary</title>
<g id="a_node37"><a xlink:title="Return a multi&#45;line summary of moderation checks for ``lot_id``.">
<polygon fill="none" stroke="black" points="3324.39,-1467.12 3056.39,-1467.12 3056.39,-1431.12 3324.39,-1431.12 3324.39,-1467.12"/>
<text text-anchor="middle" x="3190.39" y="-1445.42" font-family="Times,serif" font-size="14.00">debug_dump.moderation_summary</text>
</a>
</g>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;serde_utils.load_json -->
<g id="edge33" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3216.68,-1467.25C3248.06,-1491.34 3300.35,-1537.09 3324.39,-1590.12 3359.22,-1666.97 3302.01,-1907.18 3360.39,-1968.12 3445.44,-2056.89 3550.05,-1916.66 3634.39,-2006.12 3703.97,-2079.91 3604.62,-2383.9 3670.39,-2461.12 3675.98,-2467.68 3682.88,-2472.79 3690.47,-2476.76"/>
<polygon fill="black" stroke="black" points="3689.11,-2479.99 3699.67,-2480.91 3691.99,-2473.61 3689.11,-2479.99"/>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;lot_io.lot_json_path -->
<g id="edge36" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;lot_io.lot_json_path</title>
<path fill="none" stroke="black" d="M3216.84,-1467.18C3248.38,-1491.2 3300.84,-1536.87 3324.39,-1590.12 3366.75,-1685.92 3310.21,-1968.16 3360.39,-2060.12 3379.82,-2095.73 3417.4,-2122.72 3448.13,-2140.12"/>
<polygon fill="black" stroke="black" points="3446.56,-2143.25 3457.01,-2144.99 3449.93,-2137.11 3446.56,-2143.25"/>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;post_io.raw_post_path -->
<g id="edge35" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3305.22,-1431.02C3311.87,-1428.44 3318.31,-1425.49 3324.39,-1422.12 3344.73,-1410.83 3340.02,-1395.35 3360.39,-1384.12 3372.51,-1377.42 3386.06,-1372.38 3399.77,-1368.57"/>
<polygon fill="black" stroke="black" points="3400.95,-1371.88 3409.77,-1366.02 3399.21,-1365.1 3400.95,-1371.88"/>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;debug_dump._message_reason -->
<g id="edge31" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;debug_dump._message_reason</title>
<path fill="none" stroke="black" d="M3324.72,-1432.5C3339.44,-1430.67 3354.4,-1428.81 3369.04,-1426.98"/>
<polygon fill="black" stroke="black" points="3369.63,-1430.44 3379.12,-1425.73 3368.76,-1423.49 3369.63,-1430.44"/>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;debug_dump._lot_reason -->
<g id="edge32" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;debug_dump._lot_reason</title>
<path fill="none" stroke="black" d="M3324.53,-1450.92C3430.56,-1452.36 3576.99,-1454.34 3675.22,-1455.68"/>
<polygon fill="black" stroke="black" points="3675.42,-1459.18 3685.46,-1455.81 3675.51,-1452.18 3675.42,-1459.18"/>
</g>
<!-- post_io.read_post -->
<g id="node38" class="node">
<title>post_io.read_post</title>
<g id="a_node38"><a xlink:title="Return metadata dictionary and body text for ``path``.">
<polygon fill="none" stroke="black" points="3567.89,-1047.12 3426.89,-1047.12 3426.89,-1011.12 3567.89,-1011.12 3567.89,-1047.12"/>
<text text-anchor="middle" x="3497.39" y="-1025.42" font-family="Times,serif" font-size="14.00">post_io.read_post</text>
</a>
</g>
</g>
<!-- debug_dump.moderation_summary&#45;&gt;post_io.read_post -->
<g id="edge34" class="edge">
<title>debug_dump.moderation_summary&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M3311.66,-1431.04C3316.15,-1428.41 3320.42,-1425.45 3324.39,-1422.12 3358,-1393.86 3343.34,-1370.58 3360.39,-1330.12 3403.26,-1228.34 3458.6,-1109.34 3483.38,-1056.64"/>
<polygon fill="black" stroke="black" points="3486.68,-1057.83 3487.78,-1047.3 3480.35,-1054.85 3486.68,-1057.83"/>
</g>
<!-- post_io.read_post&#45;&gt;serde_utils.read_md -->
<g id="edge103" class="edge">
<title>post_io.read_post&#45;&gt;serde_utils.read_md</title>
<path fill="none" stroke="black" d="M3567.98,-1022.48C3605.32,-1018.91 3651.76,-1014.48 3691.78,-1010.66"/>
<polygon fill="black" stroke="black" points="3692.18,-1014.14 3701.8,-1009.71 3691.51,-1007.17 3692.18,-1014.14"/>
</g>
<!-- post_io._parse_block -->
<g id="node80" class="node">
<title>post_io._parse_block</title>
<g id="a_node80"><a xlink:title="Return metadata dict and remaining body from ``text``.">
<polygon fill="none" stroke="black" points="3863.39,-1074.12 3701.39,-1074.12 3701.39,-1038.12 3863.39,-1038.12 3863.39,-1074.12"/>
<text text-anchor="middle" x="3782.39" y="-1052.42" font-family="Times,serif" font-size="14.00">post_io._parse_block</text>
</a>
</g>
</g>
<!-- post_io.read_post&#45;&gt;post_io._parse_block -->
<g id="edge104" class="edge">
<title>post_io.read_post&#45;&gt;post_io._parse_block</title>
<path fill="none" stroke="black" d="M3567.98,-1035.75C3605.17,-1039.3 3651.39,-1043.71 3691.29,-1047.52"/>
<polygon fill="black" stroke="black" points="3691,-1051.01 3701.29,-1048.47 3691.67,-1044.04 3691,-1051.01"/>
</g>
<!-- debug_dump.main -->
<g id="node39" class="node">
<title>debug_dump.main</title>
<polygon fill="none" stroke="black" points="2957.39,-1960.12 2809.39,-1960.12 2809.39,-1924.12 2957.39,-1924.12 2957.39,-1960.12"/>
<text text-anchor="middle" x="2883.39" y="-1938.42" font-family="Times,serif" font-size="14.00">debug_dump.main</text>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.parse_url -->
<g id="edge37" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.parse_url</title>
<path fill="none" stroke="black" d="M2889.53,-1923.91C2905.14,-1872.08 2957.13,-1722.72 3056.39,-1649.12 3066.72,-1641.45 3078.64,-1635.6 3091.01,-1631.13"/>
<polygon fill="black" stroke="black" points="3092.15,-1634.44 3100.54,-1627.98 3089.95,-1627.8 3092.15,-1634.44"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.guess_source_from_lot -->
<g id="edge38" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.guess_source_from_lot</title>
<path fill="none" stroke="black" d="M2890.45,-1923.9C2907.6,-1875.54 2961.49,-1743.81 3056.39,-1687.12 3104.64,-1658.29 3241.65,-1648.04 3350.09,-1644.55"/>
<polygon fill="black" stroke="black" points="3350.27,-1648.05 3360.16,-1644.25 3350.06,-1641.05 3350.27,-1648.05"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.load_source_info -->
<g id="edge39" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.load_source_info</title>
<path fill="none" stroke="black" d="M2935.79,-1960.13C2965.77,-1973.48 3001.33,-1994.83 3020.39,-2026.12 3074.65,-2115.2 2987.32,-2415.95 3056.39,-2494.12 3059.54,-2497.69 3063.03,-2500.86 3066.78,-2503.69"/>
<polygon fill="black" stroke="black" points="3065.09,-2506.76 3075.37,-2509.31 3068.92,-2500.9 3065.09,-2506.76"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.run_tg_fetch -->
<g id="edge40" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.run_tg_fetch</title>
<path fill="none" stroke="black" d="M2928.77,-1960.16C2962.99,-1973.05 3011.84,-1989.29 3056.39,-1996.12 3174.12,-2014.16 3224.66,-2061.25 3324.39,-1996.12 3357.71,-1974.35 3327.56,-1936.63 3360.39,-1914.12 3408.98,-1880.79 3563.06,-1881.88 3670.67,-1887.27"/>
<polygon fill="black" stroke="black" points="3670.76,-1890.78 3680.93,-1887.8 3671.12,-1883.79 3670.76,-1890.78"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.collect_files -->
<g id="edge41" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.collect_files</title>
<path fill="none" stroke="black" d="M2957.44,-1935.65C2994.89,-1932.33 3041.2,-1928.23 3082.57,-1924.57"/>
<polygon fill="black" stroke="black" points="3083.04,-1928.04 3092.7,-1923.67 3082.43,-1921.07 3083.04,-1928.04"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.delete_files -->
<g id="edge42" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.delete_files</title>
<path fill="none" stroke="black" d="M2957.44,-1948.58C2995.21,-1951.93 3042.01,-1956.07 3083.65,-1959.76"/>
<polygon fill="black" stroke="black" points="3083.57,-1963.26 3093.84,-1960.66 3084.19,-1956.29 3083.57,-1963.26"/>
</g>
<!-- debug_dump.main&#45;&gt;debug_dump.moderation_summary -->
<g id="edge43" class="edge">
<title>debug_dump.main&#45;&gt;debug_dump.moderation_summary</title>
<path fill="none" stroke="black" d="M2891.04,-1923.87C2911.13,-1869.96 2974.91,-1707.85 3056.39,-1590.12 3087.37,-1545.35 3132.31,-1500.85 3161.2,-1474.16"/>
<polygon fill="black" stroke="black" points="3163.88,-1476.45 3168.89,-1467.12 3159.15,-1471.29 3163.88,-1476.45"/>
</g>
<!-- moderation.should_skip_text -->
<g id="node40" class="node">
<title>moderation.should_skip_text</title>
<g id="a_node40"><a xlink:title="Return ``True`` if ``text`` contains banned phrases.">
<polygon fill="none" stroke="black" points="3892.89,-1967.12 3671.89,-1967.12 3671.89,-1931.12 3892.89,-1931.12 3892.89,-1967.12"/>
<text text-anchor="middle" x="3782.39" y="-1945.42" font-family="Times,serif" font-size="14.00">moderation.should_skip_text</text>
</a>
</g>
</g>
<!-- moderation.message_skip_reason -->
<g id="node41" class="node">
<title>moderation.message_skip_reason</title>
<g id="a_node41"><a xlink:title="Return the moderation reason for ``meta`` and ``text`` or ``None``.">
<polygon fill="none" stroke="black" points="3625.39,-1959.12 3369.39,-1959.12 3369.39,-1923.12 3625.39,-1923.12 3625.39,-1959.12"/>
<text text-anchor="middle" x="3497.39" y="-1937.42" font-family="Times,serif" font-size="14.00">moderation.message_skip_reason</text>
</a>
</g>
</g>
<!-- moderation.message_skip_reason&#45;&gt;moderation.should_skip_user -->
<g id="edge45" class="edge">
<title>moderation.message_skip_reason&#45;&gt;moderation.should_skip_user</title>
<path fill="none" stroke="black" d="M3513.83,-1922.85C3542.97,-1887.26 3605.7,-1804.99 3634.39,-1724.12 3656.39,-1662.08 3626.64,-1479.29 3670.39,-1430.12 3671.02,-1429.4 3671.67,-1428.71 3672.34,-1428.03"/>
<polygon fill="black" stroke="black" points="3674.73,-1430.58 3679.97,-1421.38 3670.13,-1425.3 3674.73,-1430.58"/>
</g>
<!-- moderation.message_skip_reason&#45;&gt;moderation.should_skip_text -->
<g id="edge44" class="edge">
<title>moderation.message_skip_reason&#45;&gt;moderation.should_skip_text</title>
<path fill="none" stroke="black" d="M3625.4,-1944.71C3637.45,-1945.05 3649.65,-1945.39 3661.63,-1945.73"/>
<polygon fill="black" stroke="black" points="3661.54,-1949.23 3671.64,-1946.01 3661.74,-1942.23 3661.54,-1949.23"/>
</g>
<!-- moderation.should_skip_message -->
<g id="node42" class="node">
<title>moderation.should_skip_message</title>
<g id="a_node42"><a xlink:title="Return ``True`` when the raw Telegram message should be ignored.">
<polygon fill="none" stroke="black" points="3317.89,-2247.12 3062.89,-2247.12 3062.89,-2211.12 3317.89,-2211.12 3317.89,-2247.12"/>
<text text-anchor="middle" x="3190.39" y="-2225.42" font-family="Times,serif" font-size="14.00">moderation.should_skip_message</text>
</a>
</g>
</g>
<!-- moderation.should_skip_message&#45;&gt;moderation.message_skip_reason -->
<g id="edge46" class="edge">
<title>moderation.should_skip_message&#45;&gt;moderation.message_skip_reason</title>
<path fill="none" stroke="black" d="M3225.19,-2211.1C3255.41,-2193.32 3298.77,-2163.43 3324.39,-2126.12 3355.9,-2080.21 3324.17,-2048.41 3360.39,-2006.12 3376.77,-1986.99 3400.06,-1973.05 3422.74,-1963.11"/>
<polygon fill="black" stroke="black" points="3424.18,-1966.31 3432.06,-1959.23 3421.48,-1959.84 3424.18,-1966.31"/>
</g>
<!-- moderation.lot_skip_reason -->
<g id="node43" class="node">
<title>moderation.lot_skip_reason</title>
<g id="a_node43"><a xlink:title="Return the moderation reason for ``lot`` or ``None``.">
<polygon fill="none" stroke="black" points="3603.39,-3245.12 3391.39,-3245.12 3391.39,-3209.12 3603.39,-3209.12 3603.39,-3245.12"/>
<text text-anchor="middle" x="3497.39" y="-3223.42" font-family="Times,serif" font-size="14.00">moderation.lot_skip_reason</text>
</a>
</g>
</g>
<!-- moderation.should_skip_lot -->
<g id="node44" class="node">
<title>moderation.should_skip_lot</title>
<g id="a_node44"><a xlink:title="Return ``True`` when the lot fails additional checks.">
<polygon fill="none" stroke="black" points="3296.39,-3237.12 3084.39,-3237.12 3084.39,-3201.12 3296.39,-3201.12 3296.39,-3237.12"/>
<text text-anchor="middle" x="3190.39" y="-3215.42" font-family="Times,serif" font-size="14.00">moderation.should_skip_lot</text>
</a>
</g>
</g>
<!-- moderation.should_skip_lot&#45;&gt;moderation.lot_skip_reason -->
<g id="edge47" class="edge">
<title>moderation.should_skip_lot&#45;&gt;moderation.lot_skip_reason</title>
<path fill="none" stroke="black" d="M3296.78,-3221.88C3324,-3222.59 3353.44,-3223.37 3381.13,-3224.09"/>
<polygon fill="black" stroke="black" points="3381.16,-3227.59 3391.25,-3224.36 3381.35,-3220.6 3381.16,-3227.59"/>
</g>
<!-- moderation.is_misparsed -->
<g id="node45" class="node">
<title>moderation.is_misparsed</title>
<g id="a_node45"><a xlink:title="Return ``True`` for obviously invalid lots or source posts.">
<polygon fill="none" stroke="black" points="3288.39,-3805.12 3092.39,-3805.12 3092.39,-3769.12 3288.39,-3769.12 3288.39,-3805.12"/>
<text text-anchor="middle" x="3190.39" y="-3783.42" font-family="Times,serif" font-size="14.00">moderation.is_misparsed</text>
</a>
</g>
</g>
<!-- lot_io.get_seller -->
<g id="node46" class="node">
<title>lot_io.get_seller</title>
<g id="a_node46"><a xlink:title="Return the seller identifier or ``None`` when missing.">
<polygon fill="none" stroke="black" points="3561.89,-3828.12 3432.89,-3828.12 3432.89,-3792.12 3561.89,-3792.12 3561.89,-3828.12"/>
<text text-anchor="middle" x="3497.39" y="-3806.42" font-family="Times,serif" font-size="14.00">lot_io.get_seller</text>
</a>
</g>
</g>
<!-- moderation.is_misparsed&#45;&gt;lot_io.get_seller -->
<g id="edge48" class="edge">
<title>moderation.is_misparsed&#45;&gt;lot_io.get_seller</title>
<path fill="none" stroke="black" d="M3288.73,-3794.46C3332.12,-3797.73 3382.4,-3801.52 3422.62,-3804.55"/>
<polygon fill="black" stroke="black" points="3422.38,-3808.04 3432.61,-3805.31 3422.91,-3801.06 3422.38,-3808.04"/>
</g>
<!-- moderation.apply_to_history -->
<g id="node47" class="node">
<title>moderation.apply_to_history</title>
<g id="a_node47"><a xlink:title="Remove processed lots now failing moderation.">
<polygon fill="none" stroke="black" points="2993.39,-2247.12 2773.39,-2247.12 2773.39,-2211.12 2993.39,-2211.12 2993.39,-2247.12"/>
<text text-anchor="middle" x="2883.39" y="-2225.42" font-family="Times,serif" font-size="14.00">moderation.apply_to_history</text>
</a>
</g>
</g>
<!-- moderation.apply_to_history&#45;&gt;post_io.raw_post_path -->
<g id="edge52" class="edge">
<title>moderation.apply_to_history&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M2989.26,-2211C3001.14,-2205.09 3011.98,-2197.31 3020.39,-2187.12 3114.82,-2072.61 2954.74,-1963.27 3056.39,-1855.12 3139.15,-1767.05 3242.66,-1898.14 3324.39,-1809.12 3388.48,-1739.29 3297.2,-1454.77 3360.39,-1384.12 3370.85,-1372.41 3384.81,-1364.92 3399.8,-1360.25"/>
<polygon fill="black" stroke="black" points="3401.03,-1363.55 3409.78,-1357.58 3399.22,-1356.79 3401.03,-1363.55"/>
</g>
<!-- moderation.apply_to_history&#45;&gt;post_io.read_post -->
<g id="edge51" class="edge">
<title>moderation.apply_to_history&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M2990.99,-2211.08C3002.36,-2205.13 3012.6,-2197.33 3020.39,-2187.12 3096.83,-2086.87 2968.27,-1143.26 3056.39,-1053.12 3080.91,-1028.03 3296.13,-1026.57 3416.22,-1027.76"/>
<polygon fill="black" stroke="black" points="3416.44,-1031.26 3426.47,-1027.87 3416.51,-1024.26 3416.44,-1031.26"/>
</g>
<!-- moderation.apply_to_history&#45;&gt;moderation.should_skip_message -->
<g id="edge49" class="edge">
<title>moderation.apply_to_history&#45;&gt;moderation.should_skip_message</title>
<path fill="none" stroke="black" d="M2993.64,-2229.12C3012.71,-2229.12 3032.76,-2229.12 3052.46,-2229.12"/>
<polygon fill="black" stroke="black" points="3052.72,-2232.62 3062.72,-2229.12 3052.72,-2225.62 3052.72,-2232.62"/>
</g>
<!-- moderation.apply_to_history&#45;&gt;moderation.should_skip_lot -->
<g id="edge50" class="edge">
<title>moderation.apply_to_history&#45;&gt;moderation.should_skip_lot</title>
<path fill="none" stroke="black" d="M2893.28,-2247.37C2918.52,-2300.16 2990.68,-2458.2 3020.39,-2598.12 3045.87,-2718.15 2989.58,-3046.19 3056.39,-3149.12 3070.5,-3170.85 3093.68,-3186.26 3116.77,-3196.97"/>
<polygon fill="black" stroke="black" points="3115.37,-3200.18 3125.93,-3201 3118.18,-3193.77 3115.37,-3200.18"/>
</g>
<!-- lot_io.read_lots -->
<g id="node48" class="node">
<title>lot_io.read_lots</title>
<g id="a_node48"><a xlink:title="Return a list of lots from ``path`` or ``None`` when invalid.">
<polygon fill="none" stroke="black" points="3559.89,-3137.12 3434.89,-3137.12 3434.89,-3101.12 3559.89,-3101.12 3559.89,-3137.12"/>
<text text-anchor="middle" x="3497.39" y="-3115.42" font-family="Times,serif" font-size="14.00">lot_io.read_lots</text>
</a>
</g>
</g>
<!-- moderation.apply_to_history&#45;&gt;lot_io.read_lots -->
<g id="edge53" class="edge">
<title>moderation.apply_to_history&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M2893.25,-2247.37C2918.39,-2300.19 2990.35,-2458.27 3020.39,-2598.12 3032.39,-2653.98 3014.95,-3071.77 3056.39,-3111.12 3107.5,-3159.64 3313.46,-3142.38 3424.54,-3128.95"/>
<polygon fill="black" stroke="black" points="3425.16,-3132.4 3434.65,-3127.71 3424.3,-3125.45 3425.16,-3132.4"/>
</g>
<!-- lot_io.read_lots&#45;&gt;serde_utils.load_json -->
<g id="edge260" class="edge">
<title>lot_io.read_lots&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3559.94,-3122.36C3586.64,-3120.32 3615.96,-3112.77 3634.39,-3092.12 3699.12,-3019.58 3638.6,-2747.99 3670.39,-2656.12 3689.59,-2600.62 3731.39,-2545.61 3757.86,-2514.35"/>
<polygon fill="black" stroke="black" points="3760.7,-2516.42 3764.56,-2506.56 3755.39,-2511.86 3760.7,-2516.42"/>
</g>
<!-- lot_io._clean_lot -->
<g id="node167" class="node">
<title>lot_io._clean_lot</title>
<g id="a_node167"><a xlink:title="Return ``lot`` without empty or null fields.">
<polygon fill="none" stroke="black" points="3846.89,-3325.12 3717.89,-3325.12 3717.89,-3289.12 3846.89,-3289.12 3846.89,-3325.12"/>
<text text-anchor="middle" x="3782.39" y="-3303.42" font-family="Times,serif" font-size="14.00">lot_io._clean_lot</text>
</a>
</g>
</g>
<!-- lot_io.read_lots&#45;&gt;lot_io._clean_lot -->
<g id="edge261" class="edge">
<title>lot_io.read_lots&#45;&gt;lot_io._clean_lot</title>
<path fill="none" stroke="black" d="M3560.17,-3123.05C3584.51,-3126.67 3611.95,-3133.47 3634.39,-3146.12 3692.9,-3179.1 3740.93,-3243.72 3764.89,-3280.27"/>
<polygon fill="black" stroke="black" points="3762.1,-3282.4 3770.46,-3288.92 3767.99,-3278.61 3762.1,-3282.4"/>
</g>
<!-- price_utils.canonical_currency -->
<g id="node49" class="node">
<title>price_utils.canonical_currency</title>
<g id="a_node49"><a xlink:title="Return canonical currency code or ``None`` when unknown.">
<polygon fill="none" stroke="black" points="3613.39,-4011.12 3381.39,-4011.12 3381.39,-3975.12 3613.39,-3975.12 3613.39,-4011.12"/>
<text text-anchor="middle" x="3497.39" y="-3989.42" font-family="Times,serif" font-size="14.00">price_utils.canonical_currency</text>
</a>
</g>
</g>
<!-- price_utils.fetch_official_rates -->
<g id="node50" class="node">
<title>price_utils.fetch_official_rates</title>
<g id="a_node50"><a xlink:title="Return currency multipliers relative to USD from NBG.">
<polygon fill="none" stroke="black" points="2703.89,-3670.12 2474.89,-3670.12 2474.89,-3634.12 2703.89,-3634.12 2703.89,-3670.12"/>
<text text-anchor="middle" x="2589.39" y="-3648.42" font-family="Times,serif" font-size="14.00">price_utils.fetch_official_rates</text>
</a>
</g>
</g>
<!-- price_utils.train_price_regression -->
<g id="node51" class="node">
<title>price_utils.train_price_regression</title>
<g id="a_node51"><a xlink:title="Return ``(model, currency_map, counts)`` trained on ``lots``.&#10;&#10;``lots`` must contain ``price`` and ``price:currency`` fields. Only lots with&#10;embeddings present in ``id_to_vec`` are considered. Prices are regressed on&#10;the logarithm scale so coefficients are interpretable as multiplicative&#10;factors. ``USD`` is treated as the base currency so coefficients can be&#10;interpreted as exchange rate multipliers. The returned ``counts`` dictionary&#10;maps each currency to the number of training samples observed.">
<polygon fill="none" stroke="black" points="3010.89,-4038.12 2755.89,-4038.12 2755.89,-4002.12 3010.89,-4002.12 3010.89,-4038.12"/>
<text text-anchor="middle" x="2883.39" y="-4016.42" font-family="Times,serif" font-size="14.00">price_utils.train_price_regression</text>
</a>
</g>
</g>
<!-- price_utils.train_price_regression&#45;&gt;price_utils.canonical_currency -->
<g id="edge54" class="edge">
<title>price_utils.train_price_regression&#45;&gt;price_utils.canonical_currency</title>
<path fill="none" stroke="black" d="M3011.19,-4025.33C3099.21,-4027.67 3219.1,-4028.33 3324.39,-4020.12 3345.33,-4018.48 3367.58,-4015.75 3388.88,-4012.63"/>
<polygon fill="black" stroke="black" points="3389.55,-4016.06 3398.92,-4011.12 3388.51,-4009.14 3389.55,-4016.06"/>
</g>
<!-- price_utils.predict_price -->
<g id="node52" class="node">
<title>price_utils.predict_price</title>
<g id="a_node52"><a xlink:title="Return predicted price for ``vec`` in ``currency``.&#10;&#10;When ``model`` is ``None`` or ``vec`` is missing, ``None`` is returned.">
<polygon fill="none" stroke="black" points="3284.89,-4180.12 3095.89,-4180.12 3095.89,-4144.12 3284.89,-4144.12 3284.89,-4180.12"/>
<text text-anchor="middle" x="3190.39" y="-4158.42" font-family="Times,serif" font-size="14.00">price_utils.predict_price</text>
</a>
</g>
</g>
<!-- price_utils.currency_rates -->
<g id="node53" class="node">
<title>price_utils.currency_rates</title>
<g id="a_node53"><a xlink:title="Return estimated currency multipliers relative to the base.&#10;&#10;The regression model learns one coefficient per currency dummy feature. &#160;The&#10;coefficient is the logarithm of the multiplier relative to USD.">
<polygon fill="none" stroke="black" points="3598.39,-4134.12 3396.39,-4134.12 3396.39,-4098.12 3598.39,-4098.12 3598.39,-4134.12"/>
<text text-anchor="middle" x="3497.39" y="-4112.42" font-family="Times,serif" font-size="14.00">price_utils.currency_rates</text>
</a>
</g>
</g>
<!-- price_utils.guess_currency -->
<g id="node54" class="node">
<title>price_utils.guess_currency</title>
<g id="a_node54"><a xlink:title="Return currency with multiplier closest to ``price/pred_usd``.&#10;&#10;``pred_usd`` is the predicted price in USD. &#160;``price`` is the numeric value&#10;provided by the user without a currency. &#160;The function compares the implied&#10;multiplier ``price / pred_usd`` against the learnt exchange rates and picks&#10;the closest match. &#160;``counts`` may be provided to ignore rarely seen&#10;currencies when guessing. &#160;Any currency with fewer than ``min_samples``&#10;samples in the training set is skipped.">
<polygon fill="none" stroke="black" points="3293.39,-4234.12 3087.39,-4234.12 3087.39,-4198.12 3293.39,-4198.12 3293.39,-4234.12"/>
<text text-anchor="middle" x="3190.39" y="-4212.42" font-family="Times,serif" font-size="14.00">price_utils.guess_currency</text>
</a>
</g>
</g>
<!-- price_utils._guess_currency_verified -->
<g id="node55" class="node">
<title>price_utils._guess_currency_verified</title>
<g id="a_node55"><a xlink:title="Return currency when both AI and official rates agree.">
<polygon fill="none" stroke="black" points="3020.39,-4222.12 2746.39,-4222.12 2746.39,-4186.12 3020.39,-4186.12 3020.39,-4222.12"/>
<text text-anchor="middle" x="2883.39" y="-4200.42" font-family="Times,serif" font-size="14.00">price_utils._guess_currency_verified</text>
</a>
</g>
</g>
<!-- price_utils._guess_currency_verified&#45;&gt;price_utils.guess_currency -->
<g id="edge55" class="edge">
<title>price_utils._guess_currency_verified&#45;&gt;price_utils.guess_currency</title>
<path fill="none" stroke="black" d="M3020.83,-4209.48C3039.7,-4210.23 3058.9,-4210.98 3077.26,-4211.7"/>
<polygon fill="black" stroke="black" points="3077.24,-4215.21 3087.37,-4212.1 3077.51,-4208.21 3077.24,-4215.21"/>
</g>
<!-- price_utils.apply_price_model -->
<g id="node56" class="node">
<title>price_utils.apply_price_model</title>
<g id="a_node56"><a xlink:title="Predict prices in USD and guess missing currencies.">
<polygon fill="none" stroke="black" points="2702.89,-4138.12 2475.89,-4138.12 2475.89,-4102.12 2702.89,-4102.12 2702.89,-4138.12"/>
<text text-anchor="middle" x="2589.39" y="-4116.42" font-family="Times,serif" font-size="14.00">price_utils.apply_price_model</text>
</a>
</g>
</g>
<!-- price_utils.apply_price_model&#45;&gt;price_utils.train_price_regression -->
<g id="edge56" class="edge">
<title>price_utils.apply_price_model&#45;&gt;price_utils.train_price_regression</title>
<path fill="none" stroke="black" d="M2622.91,-4102.05C2653.83,-4085.58 2702.06,-4061.65 2746.39,-4047.12 2753.47,-4044.79 2760.82,-4042.64 2768.28,-4040.65"/>
<polygon fill="black" stroke="black" points="2769.31,-4043.99 2778.13,-4038.12 2767.57,-4037.21 2769.31,-4043.99"/>
</g>
<!-- price_utils.apply_price_model&#45;&gt;price_utils.predict_price -->
<g id="edge57" class="edge">
<title>price_utils.apply_price_model&#45;&gt;price_utils.predict_price</title>
<path fill="none" stroke="black" d="M2703.26,-4130.6C2717.77,-4131.84 2732.42,-4133.05 2746.39,-4134.12 2862.36,-4142.98 2995.57,-4151.13 3085.38,-4156.32"/>
<polygon fill="black" stroke="black" points="3085.39,-4159.82 3095.57,-4156.91 3085.79,-4152.84 3085.39,-4159.82"/>
</g>
<!-- price_utils.apply_price_model&#45;&gt;price_utils.currency_rates -->
<g id="edge58" class="edge">
<title>price_utils.apply_price_model&#45;&gt;price_utils.currency_rates</title>
<path fill="none" stroke="black" d="M2703.3,-4119.62C2878.29,-4118.84 3212.84,-4117.37 3386.17,-4116.6"/>
<polygon fill="black" stroke="black" points="3386.35,-4120.1 3396.33,-4116.56 3386.32,-4113.1 3386.35,-4120.1"/>
</g>
<!-- price_utils.apply_price_model&#45;&gt;price_utils._guess_currency_verified -->
<g id="edge59" class="edge">
<title>price_utils.apply_price_model&#45;&gt;price_utils._guess_currency_verified</title>
<path fill="none" stroke="black" d="M2640.61,-4138.15C2671.01,-4148.74 2710.68,-4161.99 2746.39,-4172.12 2760.65,-4176.16 2775.85,-4180.1 2790.73,-4183.75"/>
<polygon fill="black" stroke="black" points="2789.91,-4187.15 2800.45,-4186.11 2791.56,-4180.35 2789.91,-4187.15"/>
</g>
<!-- token_utils.estimate_tokens -->
<g id="node57" class="node">
<title>token_utils.estimate_tokens</title>
<g id="a_node57"><a xlink:title="Return a naive token count approximation.">
<polygon fill="none" stroke="black" points="3297.89,-1765.12 3082.89,-1765.12 3082.89,-1729.12 3297.89,-1729.12 3297.89,-1765.12"/>
<text text-anchor="middle" x="3190.39" y="-1743.42" font-family="Times,serif" font-size="14.00">token_utils.estimate_tokens</text>
</a>
</g>
</g>
<!-- phone_utils.format_georgian -->
<g id="node58" class="node">
<title>phone_utils.format_georgian</title>
<g id="a_node58"><a xlink:title="Return ``phone`` in ``+995...`` format if possible.">
<polygon fill="none" stroke="black" points="3300.89,-471.12 3079.89,-471.12 3079.89,-435.12 3300.89,-435.12 3300.89,-471.12"/>
<text text-anchor="middle" x="3190.39" y="-449.42" font-family="Times,serif" font-size="14.00">phone_utils.format_georgian</text>
</a>
</g>
</g>
<!-- build_site._load_ontology -->
<g id="node59" class="node">
<title>build_site._load_ontology</title>
<polygon fill="none" stroke="black" points="2980.89,-3417.12 2785.89,-3417.12 2785.89,-3381.12 2980.89,-3381.12 2980.89,-3417.12"/>
<text text-anchor="middle" x="2883.39" y="-3395.42" font-family="Times,serif" font-size="14.00">build_site._load_ontology</text>
</g>
<!-- build_site._load_ontology&#45;&gt;serde_utils.load_json -->
<g id="edge64" class="edge">
<title>build_site._load_ontology&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M2980.94,-3398.74C3173.26,-3396.99 3589.65,-3387.92 3634.39,-3342.12 3687.72,-3287.52 3646.51,-2728.61 3670.39,-2656.12 3688.76,-2600.34 3730.82,-2545.42 3757.56,-2514.25"/>
<polygon fill="black" stroke="black" points="3760.4,-2516.32 3764.34,-2506.48 3755.13,-2511.72 3760.4,-2516.32"/>
</g>
<!-- build_site._compile_locale -->
<g id="node60" class="node">
<title>build_site._compile_locale</title>
<polygon fill="none" stroke="black" points="3882.39,-4303.12 3682.39,-4303.12 3682.39,-4267.12 3882.39,-4267.12 3882.39,-4303.12"/>
<text text-anchor="middle" x="3782.39" y="-4281.42" font-family="Times,serif" font-size="14.00">build_site._compile_locale</text>
</g>
<!-- build_site._env_for_lang -->
<g id="node61" class="node">
<title>build_site._env_for_lang</title>
<polygon fill="none" stroke="black" points="3590.89,-4303.12 3403.89,-4303.12 3403.89,-4267.12 3590.89,-4267.12 3590.89,-4303.12"/>
<text text-anchor="middle" x="3497.39" y="-4281.42" font-family="Times,serif" font-size="14.00">build_site._env_for_lang</text>
</g>
<!-- build_site._env_for_lang&#45;&gt;build_site._compile_locale -->
<g id="edge65" class="edge">
<title>build_site._env_for_lang&#45;&gt;build_site._compile_locale</title>
<path fill="none" stroke="black" d="M3591.05,-4285.12C3616.92,-4285.12 3645.28,-4285.12 3672.02,-4285.12"/>
<polygon fill="black" stroke="black" points="3672.18,-4288.62 3682.18,-4285.12 3672.18,-4281.62 3672.18,-4288.62"/>
</g>
<!-- build_site._iter_lots -->
<g id="node62" class="node">
<title>build_site._iter_lots</title>
<g id="a_node62"><a xlink:title="Return all lots ready for rendering.">
<polygon fill="none" stroke="black" points="2960.89,-3237.12 2805.89,-3237.12 2805.89,-3201.12 2960.89,-3201.12 2960.89,-3237.12"/>
<text text-anchor="middle" x="2883.39" y="-3215.42" font-family="Times,serif" font-size="14.00">build_site._iter_lots</text>
</a>
</g>
</g>
<!-- build_site._iter_lots&#45;&gt;post_io.raw_post_path -->
<g id="edge69" class="edge">
<title>build_site._iter_lots&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M2891.48,-3201.09C2915.08,-3140.15 2991.09,-2935.75 3020.39,-2759.12 3028.31,-2711.34 3024.15,-1924.26 3056.39,-1888.12 3136.64,-1798.14 3242.51,-1934.61 3324.39,-1846.12 3394.32,-1770.53 3292,-1461.11 3360.39,-1384.12 3370.81,-1372.38 3384.75,-1364.87 3399.74,-1360.2"/>
<polygon fill="black" stroke="black" points="3400.96,-1363.49 3409.71,-1357.52 3399.15,-1356.73 3400.96,-1363.49"/>
</g>
<!-- build_site._iter_lots&#45;&gt;post_io.read_post -->
<g id="edge68" class="edge">
<title>build_site._iter_lots&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M2891.62,-3201.11C2915.64,-3140.24 2992.84,-2936.03 3020.39,-2759.12 3027.54,-2713.19 3025.22,-1120.6 3056.39,-1086.12 3096.62,-1041.6 3264.89,-1060.93 3324.39,-1053.12 3354.47,-1049.16 3387.48,-1044.61 3416.47,-1040.54"/>
<polygon fill="black" stroke="black" points="3417.13,-1043.98 3426.54,-1039.12 3416.15,-1037.05 3417.13,-1043.98"/>
</g>
<!-- build_site._iter_lots&#45;&gt;moderation.should_skip_message -->
<g id="edge66" class="edge">
<title>build_site._iter_lots&#45;&gt;moderation.should_skip_message</title>
<path fill="none" stroke="black" d="M2891.19,-3201.04C2913.87,-3139.94 2987.31,-2935.08 3020.39,-2759.12 3037.98,-2665.53 3010.9,-2415.78 3056.39,-2332.12 3075.54,-2296.89 3112.4,-2269.82 3142.47,-2252.29"/>
<polygon fill="black" stroke="black" points="3144.57,-2255.13 3151.56,-2247.16 3141.13,-2249.03 3144.57,-2255.13"/>
</g>
<!-- build_site._iter_lots&#45;&gt;moderation.should_skip_lot -->
<g id="edge67" class="edge">
<title>build_site._iter_lots&#45;&gt;moderation.should_skip_lot</title>
<path fill="none" stroke="black" d="M2960.96,-3219.12C2995.22,-3219.12 3036.34,-3219.12 3074.2,-3219.12"/>
<polygon fill="black" stroke="black" points="3074.26,-3222.62 3084.26,-3219.12 3074.26,-3215.62 3074.26,-3222.62"/>
</g>
<!-- build_site._iter_lots&#45;&gt;lot_io.read_lots -->
<g id="edge70" class="edge">
<title>build_site._iter_lots&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M2911.64,-3237.18C2986.45,-3284.29 3197.81,-3400.51 3324.39,-3300.12 3379.46,-3256.43 3309.86,-3194.97 3360.39,-3146.12 3377.42,-3129.64 3401.46,-3121.85 3424.61,-3118.49"/>
<polygon fill="black" stroke="black" points="3425.28,-3121.94 3434.79,-3117.28 3424.45,-3114.98 3425.28,-3121.94"/>
</g>
<!-- lot_io.iter_lot_files -->
<g id="node63" class="node">
<title>lot_io.iter_lot_files</title>
<g id="a_node63"><a xlink:title="Return ``*.json`` files under ``root``.&#10;&#10;When ``newest_first`` is ``True`` the result is ordered by modification&#10;time with the most recently changed files first. &#160;Both ``build_site.py`` and&#10;``pending_embed.py`` rely on this helper so they scan the lot directory in&#10;the same order.">
<polygon fill="none" stroke="black" points="3263.39,-3291.12 3117.39,-3291.12 3117.39,-3255.12 3263.39,-3255.12 3263.39,-3291.12"/>
<text text-anchor="middle" x="3190.39" y="-3269.42" font-family="Times,serif" font-size="14.00">lot_io.iter_lot_files</text>
</a>
</g>
</g>
<!-- build_site._iter_lots&#45;&gt;lot_io.iter_lot_files -->
<g id="edge71" class="edge">
<title>build_site._iter_lots&#45;&gt;lot_io.iter_lot_files</title>
<path fill="none" stroke="black" d="M2960.96,-3232.67C3005.5,-3240.56 3061.64,-3250.5 3107.12,-3258.55"/>
<polygon fill="black" stroke="black" points="3106.79,-3262.05 3117.25,-3260.34 3108.01,-3255.15 3106.79,-3262.05"/>
</g>
<!-- build_site._copy_images -->
<g id="node64" class="node">
<title>build_site._copy_images</title>
<polygon fill="none" stroke="black" points="3284.39,-3459.12 3096.39,-3459.12 3096.39,-3423.12 3284.39,-3423.12 3284.39,-3459.12"/>
<text text-anchor="middle" x="3190.39" y="-3437.42" font-family="Times,serif" font-size="14.00">build_site._copy_images</text>
</g>
<!-- build_site._copy_static -->
<g id="node65" class="node">
<title>build_site._copy_static</title>
<g id="a_node65"><a xlink:title="Copy CSS and JS so generated pages are standalone.">
<polygon fill="none" stroke="black" points="2971.39,-4330.12 2795.39,-4330.12 2795.39,-4294.12 2971.39,-4294.12 2971.39,-4330.12"/>
<text text-anchor="middle" x="2883.39" y="-4308.42" font-family="Times,serif" font-size="14.00">build_site._copy_static</text>
</a>
</g>
</g>
<!-- build_site._convert_prices -->
<g id="node66" class="node">
<title>build_site._convert_prices</title>
<g id="a_node66"><a xlink:title="Add `_display_price` and `_price_class` fields converted to `cur`.">
<polygon fill="none" stroke="black" points="3290.89,-4011.12 3089.89,-4011.12 3089.89,-3975.12 3290.89,-3975.12 3290.89,-4011.12"/>
<text text-anchor="middle" x="3190.39" y="-3989.42" font-family="Times,serif" font-size="14.00">build_site._convert_prices</text>
</a>
</g>
</g>
<!-- build_site._convert_prices&#45;&gt;price_utils.canonical_currency -->
<g id="edge72" class="edge">
<title>build_site._convert_prices&#45;&gt;price_utils.canonical_currency</title>
<path fill="none" stroke="black" d="M3291.26,-3993.12C3316.75,-3993.12 3344.48,-3993.12 3371.08,-3993.12"/>
<polygon fill="black" stroke="black" points="3371.21,-3996.62 3381.21,-3993.12 3371.21,-3989.62 3371.21,-3996.62"/>
</g>
<!-- build_site._load_state -->
<g id="node67" class="node">
<title>build_site._load_state</title>
<g id="a_node67"><a xlink:title="Return ontology fields, embeddings, lots and similarity cache.">
<polygon fill="none" stroke="black" points="2674.39,-3388.12 2504.39,-3388.12 2504.39,-3352.12 2674.39,-3352.12 2674.39,-3388.12"/>
<text text-anchor="middle" x="2589.39" y="-3366.42" font-family="Times,serif" font-size="14.00">build_site._load_state</text>
</a>
</g>
</g>
<!-- build_site._load_state&#45;&gt;build_site._load_ontology -->
<g id="edge73" class="edge">
<title>build_site._load_state&#45;&gt;build_site._load_ontology</title>
<path fill="none" stroke="black" d="M2674.45,-3378.46C2705.98,-3381.6 2742.24,-3385.2 2775.56,-3388.51"/>
<polygon fill="black" stroke="black" points="2775.51,-3392.02 2785.8,-3389.52 2776.2,-3385.05 2775.51,-3392.02"/>
</g>
<!-- build_site._load_state&#45;&gt;build_site._iter_lots -->
<g id="edge74" class="edge">
<title>build_site._load_state&#45;&gt;build_site._iter_lots</title>
<path fill="none" stroke="black" d="M2625.32,-3352.05C2678.63,-3324.48 2780.22,-3271.95 2838.46,-3241.83"/>
<polygon fill="black" stroke="black" points="2840.14,-3244.9 2847.42,-3237.2 2836.93,-3238.68 2840.14,-3244.9"/>
</g>
<!-- build_site._load_state&#45;&gt;build_site._copy_images -->
<g id="edge75" class="edge">
<title>build_site._load_state&#45;&gt;build_site._copy_images</title>
<path fill="none" stroke="black" d="M2638.56,-3388.26C2680.2,-3403.8 2735.4,-3424.01 2746.39,-3426.12 2861.01,-3448.07 2995.29,-3449.28 3085.72,-3446.61"/>
<polygon fill="black" stroke="black" points="3086.09,-3450.1 3095.97,-3446.29 3085.87,-3443.11 3086.09,-3450.1"/>
</g>
<!-- similar_utils._load_embeddings -->
<g id="node68" class="node">
<title>similar_utils._load_embeddings</title>
<g id="a_node68"><a xlink:title="Return mapping of lot id to embedding vector.">
<polygon fill="none" stroke="black" points="3616.89,-2639.12 3377.89,-2639.12 3377.89,-2603.12 3616.89,-2603.12 3616.89,-2639.12"/>
<text text-anchor="middle" x="3497.39" y="-2617.42" font-family="Times,serif" font-size="14.00">similar_utils._load_embeddings</text>
</a>
</g>
</g>
<!-- build_site._load_state&#45;&gt;similar_utils._load_embeddings -->
<g id="edge76" class="edge">
<title>build_site._load_state&#45;&gt;similar_utils._load_embeddings</title>
<path fill="none" stroke="black" d="M2604.75,-3352.06C2660.44,-3281.76 2866.72,-3018.98 3020.39,-2791.12 3037.56,-2765.65 3030.72,-2749 3056.39,-2732.12 3156.89,-2666 3221.44,-2756.36 3324.39,-2694.12 3347.82,-2679.95 3337.15,-2658.59 3360.39,-2644.12 3363.05,-2642.46 3365.79,-2640.91 3368.6,-2639.47"/>
<polygon fill="black" stroke="black" points="3370.19,-2642.59 3377.78,-2635.19 3367.24,-2636.24 3370.19,-2642.59"/>
</g>
<!-- similar_utils._load_similar -->
<g id="node69" class="node">
<title>similar_utils._load_similar</title>
<g id="a_node69"><a xlink:title="Return cached similar lots mapping.">
<polygon fill="none" stroke="black" points="3598.39,-3333.12 3396.39,-3333.12 3396.39,-3297.12 3598.39,-3297.12 3598.39,-3333.12"/>
<text text-anchor="middle" x="3497.39" y="-3311.42" font-family="Times,serif" font-size="14.00">similar_utils._load_similar</text>
</a>
</g>
</g>
<!-- build_site._load_state&#45;&gt;similar_utils._load_similar -->
<g id="edge77" class="edge">
<title>build_site._load_state&#45;&gt;similar_utils._load_similar</title>
<path fill="none" stroke="black" d="M2674.42,-3367.35C2810.91,-3362.54 3089.21,-3351.34 3324.39,-3333.12 3344.32,-3331.57 3365.53,-3329.61 3385.99,-3327.56"/>
<polygon fill="black" stroke="black" points="3386.38,-3331.04 3395.97,-3326.54 3385.67,-3324.07 3386.38,-3331.04"/>
</g>
<!-- similar_utils._load_embeddings&#45;&gt;serde_utils.load_json -->
<g id="edge198" class="edge">
<title>similar_utils._load_embeddings&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3610.18,-2603.01C3618.51,-2600.42 3626.66,-2597.48 3634.39,-2594.12 3680.6,-2574.01 3726.54,-2537.56 3754.45,-2513.1"/>
<polygon fill="black" stroke="black" points="3757.02,-2515.49 3762.17,-2506.23 3752.37,-2510.26 3757.02,-2515.49"/>
</g>
<!-- similar_utils._load_similar&#45;&gt;serde_utils.load_json -->
<g id="edge199" class="edge">
<title>similar_utils._load_similar&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3575.52,-3297.08C3598.08,-3287.95 3620.41,-3274.34 3634.39,-3254.12 3710.07,-3144.59 3628.26,-2782.4 3670.39,-2656.12 3688.97,-2600.41 3730.96,-2545.47 3757.64,-2514.28"/>
<polygon fill="black" stroke="black" points="3760.48,-2516.35 3764.4,-2506.5 3755.2,-2511.76 3760.48,-2516.35"/>
</g>
<!-- build_site._categorise -->
<g id="node70" class="node">
<title>build_site._categorise</title>
<g id="a_node70"><a xlink:title="Return category info and recent lot list.">
<polygon fill="none" stroke="black" points="2674.89,-3908.12 2503.89,-3908.12 2503.89,-3872.12 2674.89,-3872.12 2674.89,-3908.12"/>
<text text-anchor="middle" x="2589.39" y="-3886.42" font-family="Times,serif" font-size="14.00">build_site._categorise</text>
</a>
</g>
</g>
<!-- build_site._categorise&#45;&gt;lot_io.get_seller -->
<g id="edge78" class="edge">
<title>build_site._categorise&#45;&gt;lot_io.get_seller</title>
<path fill="none" stroke="black" d="M2674.94,-3883.84C2811.59,-3873.52 3089.41,-3851.85 3324.39,-3829.12 3356.63,-3826 3392.22,-3822.13 3422.62,-3818.71"/>
<polygon fill="black" stroke="black" points="3423.17,-3822.17 3432.72,-3817.56 3422.39,-3815.21 3423.17,-3822.17"/>
</g>
<!-- build_site._render_site -->
<g id="node71" class="node">
<title>build_site._render_site</title>
<polygon fill="none" stroke="black" points="2972.39,-3816.12 2794.39,-3816.12 2794.39,-3780.12 2972.39,-3780.12 2972.39,-3816.12"/>
<text text-anchor="middle" x="2883.39" y="-3794.42" font-family="Times,serif" font-size="14.00">build_site._render_site</text>
</g>
<!-- build_site._render_site&#45;&gt;serde_utils.read_text -->
<g id="edge79" class="edge">
<title>build_site._render_site&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M2936.81,-3816.25C3063.22,-3856.79 3392.26,-3943.21 3634.39,-3837.12 3790.53,-3768.7 3825.53,-3711.07 3894.39,-3555.12 3953.92,-3420.29 4009.66,-2326.23 4019.01,-2134.68"/>
<polygon fill="black" stroke="black" points="4022.52,-2134.72 4019.51,-2124.56 4015.53,-2134.38 4022.52,-2134.72"/>
</g>
<!-- build_site._render_site&#45;&gt;lot_io.get_seller -->
<g id="edge82" class="edge">
<title>build_site._render_site&#45;&gt;lot_io.get_seller</title>
<path fill="none" stroke="black" d="M2972.66,-3807.91C2999.51,-3810.46 3029.13,-3812.85 3056.39,-3814.12 3185.03,-3820.09 3335.04,-3816.46 3422.5,-3813.29"/>
<polygon fill="black" stroke="black" points="3422.73,-3816.78 3432.59,-3812.91 3422.47,-3809.78 3422.73,-3816.78"/>
</g>
<!-- build_site.build_page -->
<g id="node72" class="node">
<title>build_site.build_page</title>
<g id="a_node72"><a xlink:title="Render ``lot`` into separate HTML files for every language.">
<polygon fill="none" stroke="black" points="3273.89,-2485.12 3106.89,-2485.12 3106.89,-2449.12 3273.89,-2449.12 3273.89,-2485.12"/>
<text text-anchor="middle" x="3190.39" y="-2463.42" font-family="Times,serif" font-size="14.00">build_site.build_page</text>
</a>
</g>
</g>
<!-- build_site._render_site&#45;&gt;build_site.build_page -->
<g id="edge80" class="edge">
<title>build_site._render_site&#45;&gt;build_site.build_page</title>
<path fill="none" stroke="black" d="M2972.63,-3797.91C2990.91,-3793.57 3008.27,-3785.46 3020.39,-3771.12 3111.99,-3662.69 2965.01,-2602.74 3056.39,-2494.12 3066.88,-2481.65 3081.4,-2473.95 3097.02,-2469.34"/>
<polygon fill="black" stroke="black" points="3098.01,-2472.7 3106.86,-2466.86 3096.3,-2465.91 3098.01,-2472.7"/>
</g>
<!-- similar_utils._format_vector -->
<g id="node73" class="node">
<title>similar_utils._format_vector</title>
<g id="a_node73"><a xlink:title="Return compact JSON representation for ``vec``.">
<polygon fill="none" stroke="black" points="3604.89,-2585.12 3389.89,-2585.12 3389.89,-2549.12 3604.89,-2549.12 3604.89,-2585.12"/>
<text text-anchor="middle" x="3497.39" y="-2563.42" font-family="Times,serif" font-size="14.00">similar_utils._format_vector</text>
</a>
</g>
</g>
<!-- build_site._render_site&#45;&gt;similar_utils._format_vector -->
<g id="edge81" class="edge">
<title>build_site._render_site&#45;&gt;similar_utils._format_vector</title>
<path fill="none" stroke="black" d="M2972.47,-3792.16C2989.51,-3787.94 3006.39,-3781.33 3020.39,-3771.12 3047.06,-3751.65 3029.19,-3724.84 3056.39,-3706.12 3155.48,-3637.9 3244.01,-3757.62 3324.39,-3668.12 3404.17,-3579.28 3283.09,-2685.12 3360.39,-2594.12 3366.1,-2587.39 3372.97,-2582.04 3380.54,-2577.8"/>
<polygon fill="black" stroke="black" points="3382.26,-2580.85 3389.72,-2573.33 3379.2,-2574.56 3382.26,-2580.85"/>
</g>
<!-- build_site.build_page&#45;&gt;caption_io.read_caption -->
<g id="edge83" class="edge">
<title>build_site.build_page&#45;&gt;caption_io.read_caption</title>
<path fill="none" stroke="black" d="M3274.05,-2466.35C3292.95,-2462.21 3311.3,-2454.33 3324.39,-2440.12 3416.55,-2340.03 3292.76,-2254.17 3360.39,-2136.12 3380.69,-2100.68 3418.58,-2073.53 3449.22,-2056.03"/>
<polygon fill="black" stroke="black" points="3451.01,-2059.04 3458.05,-2051.13 3447.61,-2052.92 3451.01,-2059.04"/>
</g>
<!-- build_site.build_page&#45;&gt;post_io.raw_post_path -->
<g id="edge86" class="edge">
<title>build_site.build_page&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3274.2,-2467.24C3293.33,-2463.13 3311.76,-2455.04 3324.39,-2440.12 3400.23,-2350.5 3284.36,-1473.57 3360.39,-1384.12 3370.62,-1372.08 3384.54,-1364.44 3399.59,-1359.73"/>
<polygon fill="black" stroke="black" points="3400.86,-1363.02 3409.61,-1357.05 3399.05,-1356.25 3400.86,-1363.02"/>
</g>
<!-- build_site.build_page&#45;&gt;post_io.read_post -->
<g id="edge85" class="edge">
<title>build_site.build_page&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M3274.22,-2467.26C3293.35,-2463.14 3311.77,-2455.05 3324.39,-2440.12 3364.2,-2392.98 3346.42,-1390.21 3360.39,-1330.12 3385.32,-1222.85 3449.38,-1107.13 3479.83,-1056"/>
<polygon fill="black" stroke="black" points="3482.96,-1057.6 3485.11,-1047.22 3476.96,-1053.99 3482.96,-1057.6"/>
</g>
<!-- build_site.build_page&#45;&gt;build_site._env_for_lang -->
<g id="edge84" class="edge">
<title>build_site.build_page&#45;&gt;build_site._env_for_lang</title>
<path fill="none" stroke="black" d="M3273.98,-2466.81C3293.24,-2470.9 3311.77,-2479.02 3324.39,-2494.12 3383.15,-2564.43 3325.31,-4058.46 3360.39,-4143.12 3381.17,-4193.26 3428.61,-4235.9 3461.57,-4261.01"/>
<polygon fill="black" stroke="black" points="3459.51,-4263.84 3469.61,-4267.01 3463.69,-4258.23 3459.51,-4263.84"/>
</g>
<!-- build_site.build_page&#45;&gt;similar_utils._format_vector -->
<g id="edge87" class="edge">
<title>build_site.build_page&#45;&gt;similar_utils._format_vector</title>
<path fill="none" stroke="black" d="M3273.94,-2474.51C3291.48,-2478.58 3309.25,-2484.76 3324.39,-2494.12 3346.47,-2507.76 3338.27,-2526.52 3360.39,-2540.12 3366.59,-2543.93 3373.23,-2547.22 3380.11,-2550.06"/>
<polygon fill="black" stroke="black" points="3379.03,-2553.39 3389.62,-2553.65 3381.5,-2546.84 3379.03,-2553.39"/>
</g>
<!-- build_site.main -->
<g id="node74" class="node">
<title>build_site.main</title>
<polygon fill="none" stroke="black" points="2383.39,-3831.12 2258.39,-3831.12 2258.39,-3795.12 2383.39,-3795.12 2383.39,-3831.12"/>
<text text-anchor="middle" x="2320.89" y="-3809.42" font-family="Times,serif" font-size="14.00">build_site.main</text>
</g>
<!-- build_site.main&#45;&gt;config_utils.load_config -->
<g id="edge102" class="edge">
<title>build_site.main&#45;&gt;config_utils.load_config</title>
<path fill="none" stroke="black" d="M2321.66,-3831.51C2321.79,-3903.62 2331.83,-4170.36 2468.39,-4317.12 2600.04,-4458.6 2689.13,-4450.12 2882.39,-4450.12 2882.39,-4450.12 2882.39,-4450.12 3498.39,-4450.12 3684.77,-4450.12 3775.71,-4455.82 3894.39,-4312.12 4002.93,-4180.68 4018.02,-3612.39 4020.07,-3478.46"/>
<polygon fill="black" stroke="black" points="4023.57,-3478.27 4020.21,-3468.22 4016.57,-3478.17 4023.57,-3478.27"/>
</g>
<!-- build_site.main&#45;&gt;price_utils.canonical_currency -->
<g id="edge88" class="edge">
<title>build_site.main&#45;&gt;price_utils.canonical_currency</title>
<path fill="none" stroke="black" d="M2340.25,-3831.5C2366.2,-3856.12 2416.29,-3898.85 2468.39,-3917.12 2558.29,-3948.64 3229.66,-3955.99 3324.39,-3966.12 3343.2,-3968.13 3363.09,-3970.77 3382.42,-3973.61"/>
<polygon fill="black" stroke="black" points="3382.05,-3977.09 3392.46,-3975.11 3383.09,-3970.17 3382.05,-3977.09"/>
</g>
<!-- build_site.main&#45;&gt;price_utils.fetch_official_rates -->
<g id="edge89" class="edge">
<title>build_site.main&#45;&gt;price_utils.fetch_official_rates</title>
<path fill="none" stroke="black" d="M2337.49,-3794.77C2362.34,-3766.72 2413.71,-3713.37 2468.39,-3684.12 2475.77,-3680.17 2483.67,-3676.68 2491.76,-3673.61"/>
<polygon fill="black" stroke="black" points="2493.09,-3676.85 2501.33,-3670.18 2490.73,-3670.26 2493.09,-3676.85"/>
</g>
<!-- build_site.main&#45;&gt;price_utils.apply_price_model -->
<g id="edge90" class="edge">
<title>build_site.main&#45;&gt;price_utils.apply_price_model</title>
<path fill="none" stroke="black" d="M2336.62,-3831.21C2362.77,-3863.19 2419.15,-3931.69 2468.39,-3988.12 2501.05,-4025.55 2539.89,-4067.9 2564.35,-4094.3"/>
<polygon fill="black" stroke="black" points="2562.09,-4097.01 2571.45,-4101.96 2567.22,-4092.25 2562.09,-4097.01"/>
</g>
<!-- build_site.main&#45;&gt;build_site._env_for_lang -->
<g id="edge91" class="edge">
<title>build_site.main&#45;&gt;build_site._env_for_lang</title>
<path fill="none" stroke="black" d="M2323.94,-3831.32C2331.74,-3893.29 2364.62,-4099.19 2468.39,-4226.12 2559.62,-4337.7 2607.49,-4354.6 2746.39,-4393.12 2870.16,-4427.43 3200.96,-4428.65 3324.39,-4393.12 3380.37,-4377 3435.74,-4336.69 3467.97,-4310.14"/>
<polygon fill="black" stroke="black" points="3470.62,-4312.48 3476.04,-4303.38 3466.12,-4307.12 3470.62,-4312.48"/>
</g>
<!-- build_site.main&#45;&gt;build_site._copy_static -->
<g id="edge92" class="edge">
<title>build_site.main&#45;&gt;build_site._copy_static</title>
<path fill="none" stroke="black" d="M2325.33,-3831.49C2336.45,-3886.23 2376.18,-4050.43 2468.39,-4147.12 2553.14,-4235.99 2691.94,-4278.08 2785.19,-4297.24"/>
<polygon fill="black" stroke="black" points="2784.7,-4300.72 2795.19,-4299.25 2786.08,-4293.85 2784.7,-4300.72"/>
</g>
<!-- build_site.main&#45;&gt;build_site._convert_prices -->
<g id="edge93" class="edge">
<title>build_site.main&#45;&gt;build_site._convert_prices</title>
<path fill="none" stroke="black" d="M2334.67,-3831.51C2357.42,-3862.5 2408.24,-3924.28 2468.39,-3950.12 2522.94,-3973.55 2891.39,-3985.84 3079.43,-3990.66"/>
<polygon fill="black" stroke="black" points="3079.54,-3994.16 3089.62,-3990.91 3079.72,-3987.16 3079.54,-3994.16"/>
</g>
<!-- build_site.main&#45;&gt;build_site._load_state -->
<g id="edge94" class="edge">
<title>build_site.main&#45;&gt;build_site._load_state</title>
<path fill="none" stroke="black" d="M2323.33,-3794.83C2329.18,-3732.75 2356.53,-3527.65 2468.39,-3415.12 2477.7,-3405.75 2489.15,-3398.3 2501.24,-3392.4"/>
<polygon fill="black" stroke="black" points="2502.91,-3395.48 2510.58,-3388.17 2500.03,-3389.1 2502.91,-3395.48"/>
</g>
<!-- build_site.main&#45;&gt;build_site._categorise -->
<g id="edge95" class="edge">
<title>build_site.main&#45;&gt;build_site._categorise</title>
<path fill="none" stroke="black" d="M2370.64,-3831.23C2398.94,-3841.37 2435.41,-3853.81 2468.39,-3863.12 2476.67,-3865.45 2485.33,-3867.73 2494.03,-3869.89"/>
<polygon fill="black" stroke="black" points="2493.31,-3873.32 2503.85,-3872.3 2494.97,-3866.52 2493.31,-3873.32"/>
</g>
<!-- build_site.main&#45;&gt;build_site._render_site -->
<g id="edge96" class="edge">
<title>build_site.main&#45;&gt;build_site._render_site</title>
<path fill="none" stroke="black" d="M2383.55,-3811.42C2409.71,-3810.71 2440.54,-3809.87 2468.39,-3809.12 2576.48,-3806.2 2700.44,-3802.92 2784.33,-3800.7"/>
<polygon fill="black" stroke="black" points="2784.45,-3804.2 2794.36,-3800.44 2784.27,-3797.2 2784.45,-3804.2"/>
</g>
<!-- similar_utils._save_similar -->
<g id="node75" class="node">
<title>similar_utils._save_similar</title>
<g id="a_node75"><a xlink:title="Write ``sim_map`` to ``SIMILAR_DIR`` mirroring ``LOTS_DIR`` layout.">
<polygon fill="none" stroke="black" points="3292.39,-3015.12 3088.39,-3015.12 3088.39,-2979.12 3292.39,-2979.12 3292.39,-3015.12"/>
<text text-anchor="middle" x="3190.39" y="-2993.42" font-family="Times,serif" font-size="14.00">similar_utils._save_similar</text>
</a>
</g>
</g>
<!-- build_site.main&#45;&gt;similar_utils._save_similar -->
<g id="edge97" class="edge">
<title>build_site.main&#45;&gt;similar_utils._save_similar</title>
<path fill="none" stroke="black" d="M2322.77,-3795.1C2326.94,-3727.78 2349.85,-3487.42 2468.39,-3343.12 2474.68,-3335.45 3033.76,-3032.34 3056.39,-3024.12 3063.55,-3021.51 3071.03,-3019.14 3078.62,-3016.97"/>
<polygon fill="black" stroke="black" points="3079.56,-3020.34 3088.29,-3014.34 3077.72,-3013.59 3079.56,-3020.34"/>
</g>
<!-- similar_utils._prune_similar -->
<g id="node76" class="node">
<title>similar_utils._prune_similar</title>
<g id="a_node76"><a xlink:title="Drop cache entries referring to ids not in ``valid_ids``.">
<polygon fill="none" stroke="black" points="2990.39,-3708.12 2776.39,-3708.12 2776.39,-3672.12 2990.39,-3672.12 2990.39,-3708.12"/>
<text text-anchor="middle" x="2883.39" y="-3686.42" font-family="Times,serif" font-size="14.00">similar_utils._prune_similar</text>
</a>
</g>
</g>
<!-- build_site.main&#45;&gt;similar_utils._prune_similar -->
<g id="edge98" class="edge">
<title>build_site.main&#45;&gt;similar_utils._prune_similar</title>
<path fill="none" stroke="black" d="M2341.91,-3795.04C2368.56,-3772.21 2418.21,-3733.89 2468.39,-3717.12 2565.05,-3684.8 2681.33,-3679.96 2766.02,-3682.1"/>
<polygon fill="black" stroke="black" points="2766.09,-3685.6 2776.19,-3682.39 2766.29,-3678.6 2766.09,-3685.6"/>
</g>
<!-- similar_utils._calc_similar_nn -->
<g id="node77" class="node">
<title>similar_utils._calc_similar_nn</title>
<g id="a_node77"><a xlink:title="Fill ``sim_map`` for ``new_ids`` using a nearest neighbour search.&#10;&#10;``vec_ids`` lists all lots that have an embedding. &#160;``new_ids`` is a subset&#10;for which we still need recommendations. &#160;We gather vectors for&#10;``vec_ids`` and use ``NearestNeighbors`` from scikit&#45;learn to find the&#10;closest items. &#160;Embeddings of lots without a vector are skipped.">
<polygon fill="none" stroke="black" points="3302.39,-3605.12 3078.39,-3605.12 3078.39,-3569.12 3302.39,-3569.12 3302.39,-3605.12"/>
<text text-anchor="middle" x="3190.39" y="-3583.42" font-family="Times,serif" font-size="14.00">similar_utils._calc_similar_nn</text>
</a>
</g>
</g>
<!-- build_site.main&#45;&gt;similar_utils._calc_similar_nn -->
<g id="edge99" class="edge">
<title>build_site.main&#45;&gt;similar_utils._calc_similar_nn</title>
<path fill="none" stroke="black" d="M2326.93,-3795.08C2340.72,-3749.74 2383.73,-3631.34 2468.39,-3585.12 2568.28,-3530.57 2890.05,-3554.52 3068.09,-3572.98"/>
<polygon fill="black" stroke="black" points="3067.98,-3576.49 3078.29,-3574.05 3068.71,-3569.52 3067.98,-3576.49"/>
</g>
<!-- similar_utils._sync_embeddings -->
<g id="node78" class="node">
<title>similar_utils._sync_embeddings</title>
<g id="a_node78"><a xlink:title="Drop lots or vectors that do not match and return cleaned data.">
<polygon fill="none" stroke="black" points="2710.39,-3854.12 2468.39,-3854.12 2468.39,-3818.12 2710.39,-3818.12 2710.39,-3854.12"/>
<text text-anchor="middle" x="2589.39" y="-3832.42" font-family="Times,serif" font-size="14.00">similar_utils._sync_embeddings</text>
</a>
</g>
</g>
<!-- build_site.main&#45;&gt;similar_utils._sync_embeddings -->
<g id="edge100" class="edge">
<title>build_site.main&#45;&gt;similar_utils._sync_embeddings</title>
<path fill="none" stroke="black" d="M2383.7,-3818.45C2405.96,-3820.37 2432,-3822.62 2457.9,-3824.85"/>
<polygon fill="black" stroke="black" points="2457.93,-3828.37 2468.2,-3825.74 2458.53,-3821.4 2457.93,-3828.37"/>
</g>
<!-- similar_utils._similar_by_user -->
<g id="node79" class="node">
<title>similar_utils._similar_by_user</title>
<g id="a_node79"><a xlink:title="Return map of lot id to other lots from the same user.">
<polygon fill="none" stroke="black" points="2996.89,-3643.12 2769.89,-3643.12 2769.89,-3607.12 2996.89,-3607.12 2996.89,-3643.12"/>
<text text-anchor="middle" x="2883.39" y="-3621.42" font-family="Times,serif" font-size="14.00">similar_utils._similar_by_user</text>
</a>
</g>
</g>
<!-- build_site.main&#45;&gt;similar_utils._similar_by_user -->
<g id="edge101" class="edge">
<title>build_site.main&#45;&gt;similar_utils._similar_by_user</title>
<path fill="none" stroke="black" d="M2329.31,-3794.98C2346.68,-3755.28 2394.21,-3661.35 2468.39,-3625.12 2574.41,-3573.32 2714.71,-3587.96 2801.72,-3605.12"/>
<polygon fill="black" stroke="black" points="2801.05,-3608.56 2811.54,-3607.12 2802.44,-3601.7 2801.05,-3608.56"/>
</g>
<!-- similar_utils._save_similar&#45;&gt;serde_utils.write_json -->
<g id="edge200" class="edge">
<title>similar_utils._save_similar&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M3292.52,-2983.85C3327.4,-2979.28 3366.34,-2974.17 3400.77,-2969.66"/>
<polygon fill="black" stroke="black" points="3401.36,-2973.11 3410.82,-2968.34 3400.45,-2966.17 3401.36,-2973.11"/>
</g>
<!-- similar_utils._save_similar&#45;&gt;lot_io.lot_json_path -->
<g id="edge202" class="edge">
<title>similar_utils._save_similar&#45;&gt;lot_io.lot_json_path</title>
<path fill="none" stroke="black" d="M3229.85,-2979.07C3261.36,-2962.01 3303.97,-2933.2 3324.39,-2894.12 3360.66,-2824.7 3309.16,-2249.36 3360.39,-2190.12 3373.19,-2175.31 3391.59,-2167.18 3410.73,-2162.99"/>
<polygon fill="black" stroke="black" points="3411.57,-2166.39 3420.78,-2161.14 3410.31,-2159.51 3411.57,-2166.39"/>
</g>
<!-- similar_utils._similar_path -->
<g id="node133" class="node">
<title>similar_utils._similar_path</title>
<g id="a_node133"><a xlink:title="Return cache file path for ``lot_path`` under ``SIMILAR_DIR``.">
<polygon fill="none" stroke="black" points="3599.39,-3029.12 3395.39,-3029.12 3395.39,-2993.12 3599.39,-2993.12 3599.39,-3029.12"/>
<text text-anchor="middle" x="3497.39" y="-3007.42" font-family="Times,serif" font-size="14.00">similar_utils._similar_path</text>
</a>
</g>
</g>
<!-- similar_utils._save_similar&#45;&gt;similar_utils._similar_path -->
<g id="edge201" class="edge">
<title>similar_utils._save_similar&#45;&gt;similar_utils._similar_path</title>
<path fill="none" stroke="black" d="M3292.52,-3001.76C3322.2,-3003.12 3354.82,-3004.62 3385.09,-3006.01"/>
<polygon fill="black" stroke="black" points="3385.11,-3009.51 3395.26,-3006.47 3385.44,-3002.52 3385.11,-3009.51"/>
</g>
<!-- similar_utils._update_reciprocal -->
<g id="node134" class="node">
<title>similar_utils._update_reciprocal</title>
<g id="a_node134"><a xlink:title="Insert ``lot_id`` into caches of lots listed in ``sims`` if closer.">
<polygon fill="none" stroke="black" points="3618.89,-3605.12 3375.89,-3605.12 3375.89,-3569.12 3618.89,-3569.12 3618.89,-3605.12"/>
<text text-anchor="middle" x="3497.39" y="-3583.42" font-family="Times,serif" font-size="14.00">similar_utils._update_reciprocal</text>
</a>
</g>
</g>
<!-- similar_utils._calc_similar_nn&#45;&gt;similar_utils._update_reciprocal -->
<g id="edge203" class="edge">
<title>similar_utils._calc_similar_nn&#45;&gt;similar_utils._update_reciprocal</title>
<path fill="none" stroke="black" d="M3302.79,-3587.12C3323.19,-3587.12 3344.66,-3587.12 3365.56,-3587.12"/>
<polygon fill="black" stroke="black" points="3365.77,-3590.62 3375.77,-3587.12 3365.77,-3583.62 3365.77,-3590.62"/>
</g>
<!-- similar_utils._cos_sim -->
<g id="node132" class="node">
<title>similar_utils._cos_sim</title>
<g id="a_node132"><a xlink:title="Return cosine similarity between two embeddings.">
<polygon fill="none" stroke="black" points="3275.89,-3659.12 3104.89,-3659.12 3104.89,-3623.12 3275.89,-3623.12 3275.89,-3659.12"/>
<text text-anchor="middle" x="3190.39" y="-3637.42" font-family="Times,serif" font-size="14.00">similar_utils._cos_sim</text>
</a>
</g>
</g>
<!-- similar_utils._similar_by_user&#45;&gt;similar_utils._cos_sim -->
<g id="edge204" class="edge">
<title>similar_utils._similar_by_user&#45;&gt;similar_utils._cos_sim</title>
<path fill="none" stroke="black" d="M2997.09,-3631.03C3029.11,-3632.71 3063.64,-3634.52 3094.49,-3636.14"/>
<polygon fill="black" stroke="black" points="3094.63,-3639.65 3104.8,-3636.68 3095,-3632.66 3094.63,-3639.65"/>
</g>
<!-- post_io.get_contact -->
<g id="node81" class="node">
<title>post_io.get_contact</title>
<g id="a_node81"><a xlink:title="Return a contact identifier from ``meta`` or ``None`` when missing.">
<polygon fill="none" stroke="black" points="3267.39,-633.12 3113.39,-633.12 3113.39,-597.12 3267.39,-597.12 3267.39,-633.12"/>
<text text-anchor="middle" x="3190.39" y="-611.42" font-family="Times,serif" font-size="14.00">post_io.get_contact</text>
</a>
</g>
</g>
<!-- post_io.get_timestamp -->
<g id="node82" class="node">
<title>post_io.get_timestamp</title>
<g id="a_node82"><a xlink:title="Return ``meta[&#39;date&#39;]`` as a timezone&#45;aware ``datetime``.">
<polygon fill="none" stroke="black" points="3279.39,-579.12 3101.39,-579.12 3101.39,-543.12 3279.39,-543.12 3279.39,-579.12"/>
<text text-anchor="middle" x="3190.39" y="-557.42" font-family="Times,serif" font-size="14.00">post_io.get_timestamp</text>
</a>
</g>
</g>
<!-- post_io.write_post -->
<g id="node83" class="node">
<title>post_io.write_post</title>
<g id="a_node83"><a xlink:title="Write metadata and body as a Markdown post.">
<polygon fill="none" stroke="black" points="2956.39,-617.12 2810.39,-617.12 2810.39,-581.12 2956.39,-581.12 2956.39,-617.12"/>
<text text-anchor="middle" x="2883.39" y="-595.42" font-family="Times,serif" font-size="14.00">post_io.write_post</text>
</a>
</g>
</g>
<!-- post_io.write_post&#45;&gt;serde_utils.write_md -->
<g id="edge105" class="edge">
<title>post_io.write_post&#45;&gt;serde_utils.write_md</title>
<path fill="none" stroke="black" d="M2910.23,-617.13C2942.83,-639.02 3001.3,-675.57 3056.39,-696.12 3069.36,-700.95 3083.38,-704.99 3097.28,-708.34"/>
<polygon fill="black" stroke="black" points="3096.84,-711.83 3107.37,-710.66 3098.41,-705.01 3096.84,-711.83"/>
</g>
<!-- post_io.write_post&#45;&gt;post_io.get_contact -->
<g id="edge106" class="edge">
<title>post_io.write_post&#45;&gt;post_io.get_contact</title>
<path fill="none" stroke="black" d="M2956.67,-602.91C3000.65,-605.21 3057.08,-608.17 3103.36,-610.6"/>
<polygon fill="black" stroke="black" points="3103.2,-614.1 3113.37,-611.13 3103.57,-607.11 3103.2,-614.1"/>
</g>
<!-- post_io.write_post&#45;&gt;post_io.get_timestamp -->
<g id="edge107" class="edge">
<title>post_io.write_post&#45;&gt;post_io.get_timestamp</title>
<path fill="none" stroke="black" d="M2956.67,-590.11C2996.87,-585.1 3047.47,-578.8 3091.21,-573.35"/>
<polygon fill="black" stroke="black" points="3091.81,-576.8 3101.3,-572.09 3090.95,-569.85 3091.81,-576.8"/>
</g>
<!-- post_io.raw_post_path_from_lot -->
<g id="node84" class="node">
<title>post_io.raw_post_path_from_lot</title>
<g id="a_node84"><a xlink:title="Return raw post path referenced by ``lot`` or ``None``.">
<polygon fill="none" stroke="black" points="3310.89,-1413.12 3069.89,-1413.12 3069.89,-1377.12 3310.89,-1377.12 3310.89,-1413.12"/>
<text text-anchor="middle" x="3190.39" y="-1391.42" font-family="Times,serif" font-size="14.00">post_io.raw_post_path_from_lot</text>
</a>
</g>
</g>
<!-- post_io.raw_post_path_from_lot&#45;&gt;post_io.raw_post_path -->
<g id="edge108" class="edge">
<title>post_io.raw_post_path_from_lot&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3311.06,-1380.21C3340.34,-1376.56 3371.31,-1372.7 3399.39,-1369.2"/>
<polygon fill="black" stroke="black" points="3400.1,-1372.64 3409.59,-1367.93 3399.23,-1365.69 3400.1,-1372.64"/>
</g>
<!-- caption._identify_size -->
<g id="node85" class="node">
<title>caption._identify_size</title>
<g id="a_node85"><a xlink:title="Return ``(width, height)`` for ``path`` using ImageMagick.">
<polygon fill="none" stroke="black" points="3867.39,-2929.12 3697.39,-2929.12 3697.39,-2893.12 3867.39,-2893.12 3867.39,-2929.12"/>
<text text-anchor="middle" x="3782.39" y="-2907.42" font-family="Times,serif" font-size="14.00">caption._identify_size</text>
</a>
</g>
</g>
<!-- caption._prepare_image -->
<g id="node86" class="node">
<title>caption._prepare_image</title>
<g id="a_node86"><a xlink:title="Resize ``path`` and return the processed JPEG bytes.">
<polygon fill="none" stroke="black" points="3590.89,-2921.12 3403.89,-2921.12 3403.89,-2885.12 3590.89,-2885.12 3590.89,-2921.12"/>
<text text-anchor="middle" x="3497.39" y="-2899.42" font-family="Times,serif" font-size="14.00">caption._prepare_image</text>
</a>
</g>
</g>
<!-- caption._prepare_image&#45;&gt;caption._identify_size -->
<g id="edge109" class="edge">
<title>caption._prepare_image&#45;&gt;caption._identify_size</title>
<path fill="none" stroke="black" d="M3591.05,-2905.73C3621.76,-2906.6 3655.96,-2907.57 3686.8,-2908.44"/>
<polygon fill="black" stroke="black" points="3687.03,-2911.95 3697.12,-2908.73 3687.23,-2904.95 3687.03,-2911.95"/>
</g>
<!-- caption._guess_chat -->
<g id="node87" class="node">
<title>caption._guess_chat</title>
<g id="a_node87"><a xlink:title="Return chat name for ``path`` relative to ``MEDIA_DIR``.">
<polygon fill="none" stroke="black" points="3861.89,-2875.12 3702.89,-2875.12 3702.89,-2839.12 3861.89,-2839.12 3861.89,-2875.12"/>
<text text-anchor="middle" x="3782.39" y="-2853.42" font-family="Times,serif" font-size="14.00">caption._guess_chat</text>
</a>
</g>
</g>
<!-- caption.caption_file -->
<g id="node88" class="node">
<title>caption.caption_file</title>
<g id="a_node88"><a xlink:title="Caption ``path`` with GPT&#45;4o and save ``.caption.json`` beside it.">
<polygon fill="none" stroke="black" points="3267.89,-2885.12 3112.89,-2885.12 3112.89,-2849.12 3267.89,-2849.12 3267.89,-2885.12"/>
<text text-anchor="middle" x="3190.39" y="-2863.42" font-family="Times,serif" font-size="14.00">caption.caption_file</text>
</a>
</g>
</g>
<!-- caption.caption_file&#45;&gt;caption_io.caption_json_path -->
<g id="edge110" class="edge">
<title>caption.caption_file&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3267.95,-2860.9C3287.37,-2856.88 3307.5,-2850.43 3324.39,-2840.12 3346.25,-2826.77 3339.99,-2810.61 3360.39,-2795.12 3465.82,-2715 3558.99,-2786.97 3634.39,-2678.12 3685.69,-2604.06 3627.33,-1947.25 3670.39,-1868.12 3683.66,-1843.72 3708.11,-1825.09 3730.69,-1812.06"/>
<polygon fill="black" stroke="black" points="3732.49,-1815.06 3739.55,-1807.17 3729.1,-1808.93 3732.49,-1815.06"/>
</g>
<!-- caption.caption_file&#45;&gt;caption_io.has_caption -->
<g id="edge111" class="edge">
<title>caption.caption_file&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M3267.91,-2868.4C3289.22,-2864.76 3310.35,-2856.63 3324.39,-2840.12 3391.09,-2761.67 3330.02,-2012.5 3360.39,-1914.12 3383.91,-1837.89 3441.27,-1761.91 3473.48,-1723.28"/>
<polygon fill="black" stroke="black" points="3476.55,-1725.07 3480.33,-1715.18 3471.2,-1720.56 3476.55,-1725.07"/>
</g>
<!-- caption.caption_file&#45;&gt;serde_utils.load_json -->
<g id="edge112" class="edge">
<title>caption.caption_file&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M3268.08,-2859.23C3387.67,-2846.26 3607.72,-2819.43 3634.39,-2795.12 3681.55,-2752.12 3644.44,-2714.42 3670.39,-2656.12 3694.39,-2602.17 3735.04,-2546.27 3759.92,-2514.49"/>
<polygon fill="black" stroke="black" points="3762.73,-2516.58 3766.19,-2506.56 3757.24,-2512.23 3762.73,-2516.58"/>
</g>
<!-- caption.caption_file&#45;&gt;serde_utils.write_json -->
<g id="edge113" class="edge">
<title>caption.caption_file&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M3268.17,-2879.06C3287.18,-2883.76 3307.06,-2890.23 3324.39,-2899.12 3343.18,-2908.74 3341.41,-2920.87 3360.39,-2930.12 3372.92,-2936.22 3386.75,-2940.95 3400.65,-2944.61"/>
<polygon fill="black" stroke="black" points="3400.21,-2948.11 3410.76,-2947.09 3401.88,-2941.31 3400.21,-2948.11"/>
</g>
<!-- caption.caption_file&#45;&gt;caption._prepare_image -->
<g id="edge114" class="edge">
<title>caption.caption_file&#45;&gt;caption._prepare_image</title>
<path fill="none" stroke="black" d="M3267.96,-2876.15C3306.02,-2880.65 3352.56,-2886.14 3393.68,-2890.99"/>
<polygon fill="black" stroke="black" points="3393.39,-2894.48 3403.73,-2892.18 3394.21,-2887.53 3393.39,-2894.48"/>
</g>
<!-- caption.caption_file&#45;&gt;caption._guess_chat -->
<g id="edge115" class="edge">
<title>caption.caption_file&#45;&gt;caption._guess_chat</title>
<path fill="none" stroke="black" d="M3267.91,-2865.82C3377.02,-2863.97 3576.85,-2860.58 3692.42,-2858.62"/>
<polygon fill="black" stroke="black" points="3692.71,-2862.12 3702.65,-2858.45 3692.59,-2855.12 3692.71,-2862.12"/>
</g>
<!-- caption.main -->
<g id="node89" class="node">
<title>caption.main</title>
<polygon fill="none" stroke="black" points="797,-2872.12 688,-2872.12 688,-2836.12 797,-2836.12 797,-2872.12"/>
<text text-anchor="middle" x="742.5" y="-2850.42" font-family="Times,serif" font-size="14.00">caption.main</text>
</g>
<!-- caption.main&#45;&gt;caption.caption_file -->
<g id="edge116" class="edge">
<title>caption.main&#45;&gt;caption.caption_file</title>
<path fill="none" stroke="black" d="M797.23,-2854.12C867.65,-2854.12 995.02,-2854.12 1103.89,-2854.12 1103.89,-2854.12 1103.89,-2854.12 2590.39,-2854.12 2772.64,-2854.12 2986.01,-2860.21 3102.53,-2864.05"/>
<polygon fill="black" stroke="black" points="3102.7,-2867.56 3112.81,-2864.39 3102.93,-2860.56 3102.7,-2867.56"/>
</g>
<!-- testing_mode.apply_testing_mode -->
<g id="node90" class="node">
<title>testing_mode.apply_testing_mode</title>
<polygon fill="none" stroke="black" points="259,-154.12 0,-154.12 0,-118.12 259,-118.12 259,-154.12"/>
<text text-anchor="middle" x="129.5" y="-132.42" font-family="Times,serif" font-size="14.00">testing_mode.apply_testing_mode</text>
</g>
<!-- lot_io.embedding_path -->
<g id="node91" class="node">
<title>lot_io.embedding_path</title>
<g id="a_node91"><a xlink:title="Return embedding file path for ``lot_path``.">
<polygon fill="none" stroke="black" points="473,-154.12 295,-154.12 295,-118.12 473,-118.12 473,-154.12"/>
<text text-anchor="middle" x="384" y="-132.42" font-family="Times,serif" font-size="14.00">lot_io.embedding_path</text>
</a>
</g>
</g>
<!-- testing_mode.apply_testing_mode&#45;&gt;lot_io.embedding_path -->
<!-- lot_io.embedding_path&#45;&gt;debug_dump:cli -->
<!-- tg_client._mark_activity -->
<g id="node92" class="node">
<title>tg_client._mark_activity</title>
<g id="a_node92"><a xlink:title="Update ``_last_event`` to the current time.">
<polygon fill="none" stroke="black" points="2413.89,-487.12 2227.89,-487.12 2227.89,-451.12 2413.89,-451.12 2413.89,-487.12"/>
<text text-anchor="middle" x="2320.89" y="-465.42" font-family="Times,serif" font-size="14.00">tg_client._mark_activity</text>
</a>
</g>
</g>
<!-- tg_client._heartbeat -->
<g id="node93" class="node">
<title>tg_client._heartbeat</title>
<g id="a_node93"><a xlink:title="Periodically log a heartbeat and warn if idle for too long.">
<polygon fill="none" stroke="black" points="1184.39,-663.12 1025.39,-663.12 1025.39,-627.12 1184.39,-627.12 1184.39,-663.12"/>
<text text-anchor="middle" x="1104.89" y="-641.42" font-family="Times,serif" font-size="14.00">tg_client._heartbeat</text>
</a>
</g>
</g>
<!-- tg_client._progress_logger -->
<g id="node94" class="node">
<title>tg_client._progress_logger</title>
<g id="a_node94"><a xlink:title="Return a progress callback that logs received bytes.">
<polygon fill="none" stroke="black" points="2423.39,-793.12 2218.39,-793.12 2218.39,-757.12 2423.39,-757.12 2423.39,-793.12"/>
<text text-anchor="middle" x="2320.89" y="-771.42" font-family="Times,serif" font-size="14.00">tg_client._progress_logger</text>
</a>
</g>
</g>
<!-- tg_client._write_md -->
<g id="node95" class="node">
<title>tg_client._write_md</title>
<g id="a_node95"><a xlink:title="Helper to store a raw post in Markdown format.">
<polygon fill="none" stroke="black" points="2667.39,-617.12 2511.39,-617.12 2511.39,-581.12 2667.39,-581.12 2667.39,-617.12"/>
<text text-anchor="middle" x="2589.39" y="-595.42" font-family="Times,serif" font-size="14.00">tg_client._write_md</text>
</a>
</g>
</g>
<!-- tg_client._write_md&#45;&gt;post_io.write_post -->
<g id="edge118" class="edge">
<title>tg_client._write_md&#45;&gt;post_io.write_post</title>
<path fill="none" stroke="black" d="M2667.49,-599.12C2708.39,-599.12 2758.64,-599.12 2800.27,-599.12"/>
<polygon fill="black" stroke="black" points="2800.38,-602.62 2810.38,-599.12 2800.38,-595.62 2800.38,-602.62"/>
</g>
<!-- tg_client._scan_group_cache -->
<g id="node96" class="node">
<title>tg_client._scan_group_cache</title>
<g id="a_node96"><a xlink:title="Build group_id &#45;&gt; Path mapping for ``chat`` quickly.">
<polygon fill="none" stroke="black" points="3299.39,-871.12 3081.39,-871.12 3081.39,-835.12 3299.39,-835.12 3299.39,-871.12"/>
<text text-anchor="middle" x="3190.39" y="-849.42" font-family="Times,serif" font-size="14.00">tg_client._scan_group_cache</text>
</a>
</g>
</g>
<!-- tg_client._scan_group_cache&#45;&gt;post_io.raw_post_path -->
<g id="edge119" class="edge">
<title>tg_client._scan_group_cache&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3299.5,-863.22C3308.71,-867.44 3317.22,-872.96 3324.39,-880.12 3380.89,-936.53 3335.8,-980.15 3360.39,-1056.12 3394.39,-1161.15 3454.16,-1278.43 3481.72,-1330.14"/>
<polygon fill="black" stroke="black" points="3478.67,-1331.86 3486.48,-1339.02 3484.84,-1328.55 3478.67,-1331.86"/>
</g>
<!-- tg_client._find_group_path -->
<g id="node97" class="node">
<title>tg_client._find_group_path</title>
<g id="a_node97"><a xlink:title="Return stored message path for ``group_id`` if known.">
<polygon fill="none" stroke="black" points="2985.39,-885.12 2781.39,-885.12 2781.39,-849.12 2985.39,-849.12 2985.39,-885.12"/>
<text text-anchor="middle" x="2883.39" y="-863.42" font-family="Times,serif" font-size="14.00">tg_client._find_group_path</text>
</a>
</g>
</g>
<!-- tg_client._find_group_path&#45;&gt;tg_client._scan_group_cache -->
<g id="edge120" class="edge">
<title>tg_client._find_group_path&#45;&gt;tg_client._scan_group_cache</title>
<path fill="none" stroke="black" d="M2985.52,-862.47C3012.86,-861.22 3042.69,-859.85 3070.88,-858.55"/>
<polygon fill="black" stroke="black" points="3071.36,-862.04 3081.19,-858.08 3071.04,-855.04 3071.36,-862.04"/>
</g>
<!-- tg_client._get_message_path -->
<g id="node98" class="node">
<title>tg_client._get_message_path</title>
<g id="a_node98"><a xlink:title="Return path of stored message ``msg_id`` in ``chat`` if any.">
<polygon fill="none" stroke="black" points="2173.39,-1348.12 1952.39,-1348.12 1952.39,-1312.12 2173.39,-1312.12 2173.39,-1348.12"/>
<text text-anchor="middle" x="2062.89" y="-1326.42" font-family="Times,serif" font-size="14.00">tg_client._get_message_path</text>
</a>
</g>
</g>
<!-- tg_client._get_message_path&#45;&gt;post_io.raw_post_path -->
<g id="edge121" class="edge">
<title>tg_client._get_message_path&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M2173.64,-1326.01C2392.7,-1318.82 2899.66,-1307.22 3324.39,-1335.12 3348.81,-1336.72 3375.07,-1339.52 3399.53,-1342.6"/>
<polygon fill="black" stroke="black" points="3399.17,-1346.09 3409.53,-1343.89 3400.06,-1339.14 3399.17,-1346.09"/>
</g>
<!-- tg_client._should_skip_media -->
<g id="node99" class="node">
<title>tg_client._should_skip_media</title>
<g id="a_node99"><a xlink:title="Return reason string if ``msg`` media should be skipped.">
<polygon fill="none" stroke="black" points="2432.39,-701.12 2209.39,-701.12 2209.39,-665.12 2432.39,-665.12 2432.39,-701.12"/>
<text text-anchor="middle" x="2320.89" y="-679.42" font-family="Times,serif" font-size="14.00">tg_client._should_skip_media</text>
</a>
</g>
</g>
<!-- tg_client._allowed_topic -->
<g id="node100" class="node">
<title>tg_client._allowed_topic</title>
<g id="a_node100"><a xlink:title="Return ``True`` if ``msg`` belongs to an allowed forum topic.">
<polygon fill="none" stroke="black" points="2682.39,-747.12 2496.39,-747.12 2496.39,-711.12 2682.39,-711.12 2682.39,-747.12"/>
<text text-anchor="middle" x="2589.39" y="-725.42" font-family="Times,serif" font-size="14.00">tg_client._allowed_topic</text>
</a>
</g>
</g>
<!-- tg_client._extract_author -->
<g id="node101" class="node">
<title>tg_client._extract_author</title>
<g id="a_node101"><a xlink:title="Return a metadata dictionary describing the message author.">
<polygon fill="none" stroke="black" points="2980.39,-471.12 2786.39,-471.12 2786.39,-435.12 2980.39,-435.12 2980.39,-471.12"/>
<text text-anchor="middle" x="2883.39" y="-449.42" font-family="Times,serif" font-size="14.00">tg_client._extract_author</text>
</a>
</g>
</g>
<!-- tg_client._extract_author&#45;&gt;phone_utils.format_georgian -->
<g id="edge122" class="edge">
<title>tg_client._extract_author&#45;&gt;phone_utils.format_georgian</title>
<path fill="none" stroke="black" d="M2980.47,-453.12C3008.67,-453.12 3039.85,-453.12 3069.34,-453.12"/>
<polygon fill="black" stroke="black" points="3069.7,-456.62 3079.7,-453.12 3069.7,-449.62 3069.7,-456.62"/>
</g>
<!-- tg_client._schedule_caption -->
<g id="node102" class="node">
<title>tg_client._schedule_caption</title>
<g id="a_node102"><a xlink:title="Run captioning in a separate process so downloads continue.">
<polygon fill="none" stroke="black" points="3296.39,-925.12 3084.39,-925.12 3084.39,-889.12 3296.39,-889.12 3296.39,-925.12"/>
<text text-anchor="middle" x="3190.39" y="-903.42" font-family="Times,serif" font-size="14.00">tg_client._schedule_caption</text>
</a>
</g>
</g>
<!-- tg_client._schedule_chop -->
<g id="node103" class="node">
<title>tg_client._schedule_chop</title>
<g id="a_node103"><a xlink:title="Run lot extraction in a separate process.">
<polygon fill="none" stroke="black" points="3593.89,-525.12 3400.89,-525.12 3400.89,-489.12 3593.89,-489.12 3593.89,-525.12"/>
<text text-anchor="middle" x="3497.39" y="-503.42" font-family="Times,serif" font-size="14.00">tg_client._schedule_chop</text>
</a>
</g>
</g>
<!-- tg_client._enqueue_chop -->
<g id="node104" class="node">
<title>tg_client._enqueue_chop</title>
<g id="a_node104"><a xlink:title="Queue ``path`` for chopping once captions are available.">
<polygon fill="none" stroke="black" points="2416.39,-1093.12 2225.39,-1093.12 2225.39,-1057.12 2416.39,-1057.12 2416.39,-1093.12"/>
<text text-anchor="middle" x="2320.89" y="-1071.42" font-family="Times,serif" font-size="14.00">tg_client._enqueue_chop</text>
</a>
</g>
</g>
<!-- tg_client._enqueue_chop&#45;&gt;caption_io.has_caption -->
<g id="edge123" class="edge">
<title>tg_client._enqueue_chop&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M2342.61,-1093.18C2425.61,-1164.44 2744.55,-1427.91 3056.39,-1547.12 3169.07,-1590.19 3228.61,-1516.77 3324.39,-1590.12 3355.34,-1613.82 3329.87,-1645.84 3360.39,-1670.12 3371.64,-1679.06 3385.04,-1685.31 3398.98,-1689.62"/>
<polygon fill="black" stroke="black" points="3398.12,-1693.01 3408.69,-1692.31 3399.99,-1686.27 3398.12,-1693.01"/>
</g>
<!-- tg_client._enqueue_chop&#45;&gt;moderation.should_skip_message -->
<g id="edge124" class="edge">
<title>tg_client._enqueue_chop&#45;&gt;moderation.should_skip_message</title>
<path fill="none" stroke="black" d="M2323.45,-1093.38C2334.05,-1205.43 2405.75,-1804.03 2746.39,-2080.12 2842.75,-2158.21 2919.29,-2061.26 3020.39,-2133.12 3046.36,-2151.57 3030.97,-2175.9 3056.39,-2195.12 3062.27,-2199.56 3068.67,-2203.43 3075.38,-2206.8"/>
<polygon fill="black" stroke="black" points="3074.16,-2210.09 3084.7,-2211.08 3077.08,-2203.73 3074.16,-2210.09"/>
</g>
<!-- tg_client._start_chop_worker -->
<g id="node105" class="node">
<title>tg_client._start_chop_worker</title>
<g id="a_node105"><a xlink:title="Ensure the chop queue worker task is running.">
<polygon fill="none" stroke="black" points="2699.89,-961.12 2478.89,-961.12 2478.89,-925.12 2699.89,-925.12 2699.89,-961.12"/>
<text text-anchor="middle" x="2589.39" y="-939.42" font-family="Times,serif" font-size="14.00">tg_client._start_chop_worker</text>
</a>
</g>
</g>
<!-- tg_client._enqueue_chop&#45;&gt;tg_client._start_chop_worker -->
<g id="edge125" class="edge">
<title>tg_client._enqueue_chop&#45;&gt;tg_client._start_chop_worker</title>
<path fill="none" stroke="black" d="M2410.13,-1057.1C2418.14,-1053.3 2425.73,-1048.69 2432.39,-1043.12 2460.12,-1019.89 2439.96,-992.49 2468.39,-970.12 2469.99,-968.85 2471.64,-967.65 2473.34,-966.49"/>
<polygon fill="black" stroke="black" points="2475.39,-969.35 2482.13,-961.17 2471.76,-963.36 2475.39,-969.35"/>
</g>
<!-- tg_client._chop_worker -->
<g id="node106" class="node">
<title>tg_client._chop_worker</title>
<g id="a_node106"><a xlink:title="Background task processing ``_CHOP_QUEUE``.">
<polygon fill="none" stroke="black" points="2973.39,-563.12 2793.39,-563.12 2793.39,-527.12 2973.39,-527.12 2973.39,-563.12"/>
<text text-anchor="middle" x="2883.39" y="-541.42" font-family="Times,serif" font-size="14.00">tg_client._chop_worker</text>
</a>
</g>
</g>
<!-- tg_client._start_chop_worker&#45;&gt;tg_client._chop_worker -->
<g id="edge126" class="edge">
<title>tg_client._start_chop_worker&#45;&gt;tg_client._chop_worker</title>
<path fill="none" stroke="black" d="M2605.36,-925.04C2631.04,-893.09 2683.29,-823.59 2710.39,-756.12 2741.44,-678.79 2687.55,-631.12 2746.39,-572.12 2756.68,-561.8 2769.7,-554.85 2783.6,-550.26"/>
<polygon fill="black" stroke="black" points="2784.7,-553.58 2793.33,-547.44 2782.75,-546.86 2784.7,-553.58"/>
</g>
<!-- tg_client._process_chop_queue -->
<g id="node107" class="node">
<title>tg_client._process_chop_queue</title>
<g id="a_node107"><a xlink:title="Check queued posts and chop cooled down ones.">
<polygon fill="none" stroke="black" points="3307.89,-525.12 3072.89,-525.12 3072.89,-489.12 3307.89,-489.12 3307.89,-525.12"/>
<text text-anchor="middle" x="3190.39" y="-503.42" font-family="Times,serif" font-size="14.00">tg_client._process_chop_queue</text>
</a>
</g>
</g>
<!-- tg_client._chop_worker&#45;&gt;tg_client._process_chop_queue -->
<g id="edge129" class="edge">
<title>tg_client._chop_worker&#45;&gt;tg_client._process_chop_queue</title>
<path fill="none" stroke="black" d="M2973.43,-534.02C3001.31,-530.55 3032.64,-526.65 3062.6,-522.91"/>
<polygon fill="black" stroke="black" points="3063.21,-526.36 3072.7,-521.65 3062.34,-519.42 3063.21,-526.36"/>
</g>
<!-- tg_client._process_chop_queue&#45;&gt;caption_io.has_caption -->
<g id="edge127" class="edge">
<title>tg_client._process_chop_queue&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M3308.09,-520.09C3314.16,-523.91 3319.68,-528.53 3324.39,-534.12 3405.85,-630.61 3278.72,-1573.79 3360.39,-1670.12 3370.48,-1682.01 3384.17,-1689.62 3399,-1694.34"/>
<polygon fill="black" stroke="black" points="3398.32,-1697.78 3408.89,-1697.04 3400.16,-1691.03 3398.32,-1697.78"/>
</g>
<!-- tg_client._process_chop_queue&#45;&gt;tg_client._schedule_chop -->
<g id="edge128" class="edge">
<title>tg_client._process_chop_queue&#45;&gt;tg_client._schedule_chop</title>
<path fill="none" stroke="black" d="M3308,-507.12C3335.14,-507.12 3363.89,-507.12 3390.53,-507.12"/>
<polygon fill="black" stroke="black" points="3390.63,-510.62 3400.63,-507.12 3390.63,-503.62 3390.63,-510.62"/>
</g>
<!-- tg_client._flush_chop_queue -->
<g id="node108" class="node">
<title>tg_client._flush_chop_queue</title>
<g id="a_node108"><a xlink:title="Run the chop worker until the queue is empty and cancel it.">
<polygon fill="none" stroke="black" points="2170.39,-440.12 1955.39,-440.12 1955.39,-404.12 2170.39,-404.12 2170.39,-440.12"/>
<text text-anchor="middle" x="2062.89" y="-418.42" font-family="Times,serif" font-size="14.00">tg_client._flush_chop_queue</text>
</a>
</g>
</g>
<!-- tg_client._flush_chop_queue&#45;&gt;tg_client._process_chop_queue -->
<g id="edge130" class="edge">
<title>tg_client._flush_chop_queue&#45;&gt;tg_client._process_chop_queue</title>
<path fill="none" stroke="black" d="M2170.45,-426.03C2244.11,-429.19 2344.31,-434.4 2432.39,-442.12 2572.43,-454.38 2606.39,-467.39 2746.39,-480.12 2852.79,-489.79 2973.89,-496.9 3062.55,-501.39"/>
<polygon fill="black" stroke="black" points="3062.49,-504.9 3072.65,-501.9 3062.84,-497.9 3062.49,-504.9"/>
</g>
<!-- tg_client._get_id_date -->
<g id="node109" class="node">
<title>tg_client._get_id_date</title>
<g id="a_node109"><a xlink:title="Return the stored date for ``msg_id`` in ``chat`` if available.">
<polygon fill="none" stroke="black" points="3275.89,-379.12 3104.89,-379.12 3104.89,-343.12 3275.89,-343.12 3275.89,-379.12"/>
<text text-anchor="middle" x="3190.39" y="-357.42" font-family="Times,serif" font-size="14.00">tg_client._get_id_date</text>
</a>
</g>
</g>
<!-- tg_client._get_id_date&#45;&gt;serde_utils.read_text -->
<g id="edge131" class="edge">
<title>tg_client._get_id_date&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3276.22,-344.14C3292.23,-340.86 3308.83,-337.42 3324.39,-334.12 3459.2,-305.46 3520.24,-248.88 3634.39,-326.12 3942.81,-534.81 4010.45,-1866.27 4019.29,-2077.81"/>
<polygon fill="black" stroke="black" points="4015.81,-2078.23 4019.71,-2088.08 4022.8,-2077.94 4015.81,-2078.23"/>
</g>
<!-- tg_client._get_id_date&#45;&gt;post_io.raw_post_path -->
<g id="edge132" class="edge">
<title>tg_client._get_id_date&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3261.07,-379.25C3285.1,-389.1 3309.66,-403.96 3324.39,-426.12 3363.2,-484.51 3343.67,-988.02 3360.39,-1056.12 3386.64,-1163.07 3450.04,-1278.95 3480.08,-1330.17"/>
<polygon fill="black" stroke="black" points="3477.18,-1332.14 3485.29,-1338.97 3483.21,-1328.58 3477.18,-1332.14"/>
</g>
<!-- tg_client._load_progress -->
<g id="node110" class="node">
<title>tg_client._load_progress</title>
<g id="a_node110"><a xlink:title="Return saved resume timestamp for ``chat`` if available.">
<polygon fill="none" stroke="black" points="1420.39,-533.12 1231.39,-533.12 1231.39,-497.12 1420.39,-497.12 1420.39,-533.12"/>
<text text-anchor="middle" x="1325.89" y="-511.42" font-family="Times,serif" font-size="14.00">tg_client._load_progress</text>
</a>
</g>
</g>
<!-- tg_client._load_progress&#45;&gt;serde_utils.read_text -->
<g id="edge133" class="edge">
<title>tg_client._load_progress&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M1360.1,-496.97C1612.15,-361.85 3231.6,459.89 3894.39,-358.12 4007.29,-497.46 4019.1,-1862.85 4020.27,-2077.72"/>
<polygon fill="black" stroke="black" points="4016.77,-2077.89 4020.32,-2087.87 4023.77,-2077.85 4016.77,-2077.89"/>
</g>
<!-- tg_client._save_progress -->
<g id="node111" class="node">
<title>tg_client._save_progress</title>
<g id="a_node111"><a xlink:title="Persist resume timestamp for ``chat`` to ``STATE_DIR``.">
<polygon fill="none" stroke="black" points="1668.89,-801.12 1477.89,-801.12 1477.89,-765.12 1668.89,-765.12 1668.89,-801.12"/>
<text text-anchor="middle" x="1573.39" y="-779.42" font-family="Times,serif" font-size="14.00">tg_client._save_progress</text>
</a>
</g>
</g>
<!-- tg_client.get_first_id -->
<g id="node112" class="node">
<title>tg_client.get_first_id</title>
<g id="a_node112"><a xlink:title="Return the smallest saved message id for ``chat``.">
<polygon fill="none" stroke="black" points="1902.39,-995.12 1740.39,-995.12 1740.39,-959.12 1902.39,-959.12 1902.39,-995.12"/>
<text text-anchor="middle" x="1821.39" y="-973.42" font-family="Times,serif" font-size="14.00">tg_client.get_first_id</text>
</a>
</g>
</g>
<!-- tg_client.get_first_id&#45;&gt;post_io.raw_post_path -->
<g id="edge134" class="edge">
<title>tg_client.get_first_id&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M1867.72,-995.15C1939.16,-1022.78 2082.83,-1075.22 2209.39,-1102.12 2270.32,-1115.06 3269.91,-1190.89 3324.39,-1221.12 3347.09,-1233.71 3341.32,-1249.5 3360.39,-1267.12 3388.92,-1293.46 3425.91,-1317.41 3454.12,-1333.97"/>
<polygon fill="black" stroke="black" points="3452.53,-1337.1 3462.94,-1339.08 3456.04,-1331.04 3452.53,-1337.1"/>
</g>
<!-- tg_client.get_last_id -->
<g id="node113" class="node">
<title>tg_client.get_last_id</title>
<g id="a_node113"><a xlink:title="Return the highest saved message id for ``chat``.">
<polygon fill="none" stroke="black" points="1405.39,-1003.12 1246.39,-1003.12 1246.39,-967.12 1405.39,-967.12 1405.39,-1003.12"/>
<text text-anchor="middle" x="1325.89" y="-981.42" font-family="Times,serif" font-size="14.00">tg_client.get_last_id</text>
</a>
</g>
</g>
<!-- tg_client.get_last_id&#45;&gt;post_io.raw_post_path -->
<g id="edge135" class="edge">
<title>tg_client.get_last_id&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M1405.53,-998.9C1559.53,-1025.64 1911.8,-1085.58 2209.39,-1127.12 2332.94,-1144.36 3205.88,-1220.12 3324.39,-1259.12 3376.38,-1276.22 3430.26,-1309.98 3463.54,-1333.04"/>
<polygon fill="black" stroke="black" points="3461.76,-1336.07 3471.96,-1338.95 3465.79,-1330.34 3461.76,-1336.07"/>
</g>
<!-- tg_client._save_message -->
<g id="node114" class="node">
<title>tg_client._save_message</title>
<g id="a_node114"><a xlink:title="Write ``msg`` to disk with metadata and any media references.&#10;&#10;Returns the path of the stored message or ``None`` when skipped.">
<polygon fill="none" stroke="black" points="2158.39,-747.12 1967.39,-747.12 1967.39,-711.12 2158.39,-711.12 2158.39,-747.12"/>
<text text-anchor="middle" x="2062.89" y="-725.42" font-family="Times,serif" font-size="14.00">tg_client._save_message</text>
</a>
</g>
</g>
<!-- tg_client._save_message&#45;&gt;post_io.raw_post_path -->
<g id="edge139" class="edge">
<title>tg_client._save_message&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M2070.29,-747.31C2086.42,-790.45 2133.01,-899.48 2209.39,-955.12 2305.67,-1025.26 2351.75,-999.89 2468.39,-1024.12 2711.29,-1074.57 2796.52,-1000.19 3020.39,-1107.12 3039.97,-1116.47 3036.85,-1130.66 3056.39,-1140.12 3164.99,-1192.64 3229.27,-1108.91 3324.39,-1183.12 3356.41,-1208.1 3334.36,-1235.93 3360.39,-1267.12 3384.21,-1295.65 3419.37,-1318.59 3447.97,-1334.17"/>
<polygon fill="black" stroke="black" points="3446.53,-1337.37 3457,-1338.96 3449.81,-1331.18 3446.53,-1337.37"/>
</g>
<!-- tg_client._save_message&#45;&gt;moderation.should_skip_user -->
<g id="edge136" class="edge">
<title>tg_client._save_message&#45;&gt;moderation.should_skip_user</title>
<path fill="none" stroke="black" d="M2071.44,-711.01C2089.05,-671.24 2136.96,-576.26 2209.39,-532.12 2295.11,-479.87 2333.79,-515.05 2432.39,-496.12 2572.8,-469.15 2604.27,-441.76 2746.39,-426.12 3001.73,-398 3069.03,-398.08 3324.39,-426.12 3340.68,-427.9 3344.3,-430.98 3360.39,-434.12 3420.99,-445.93 3593.12,-434.19 3634.39,-480.12 3679.25,-530.04 3657.27,-1017.29 3670.39,-1083.12 3692.68,-1194.95 3744.9,-1320.98 3768.91,-1375.53"/>
<polygon fill="black" stroke="black" points="3765.79,-1377.14 3773.05,-1384.86 3772.19,-1374.3 3765.79,-1377.14"/>
</g>
<!-- tg_client._save_message&#45;&gt;post_io.read_post -->
<g id="edge138" class="edge">
<title>tg_client._save_message&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M2090.31,-747.15C2118.4,-765.14 2164.84,-791.57 2209.39,-802.12 2305.83,-824.95 2333.28,-802.83 2432.39,-802.12 2531.5,-801.4 3243.98,-735.16 3324.39,-793.12 3365.43,-822.7 3333.14,-858.48 3360.39,-901.12 3387.44,-943.44 3431.56,-981.42 3462.18,-1004.81"/>
<polygon fill="black" stroke="black" points="3460.34,-1007.8 3470.44,-1011.01 3464.54,-1002.21 3460.34,-1007.8"/>
</g>
<!-- tg_client._save_message&#45;&gt;post_io.get_contact -->
<g id="edge137" class="edge">
<title>tg_client._save_message&#45;&gt;post_io.get_contact</title>
<path fill="none" stroke="black" d="M2090.92,-711.09C2119.13,-693.38 2165.31,-667.42 2209.39,-656.12 2384.08,-611.32 2840.28,-635.31 3020.39,-626.12 3047.34,-624.74 3076.68,-622.94 3103.25,-621.19"/>
<polygon fill="black" stroke="black" points="3103.53,-624.68 3113.28,-620.52 3103.07,-617.69 3103.53,-624.68"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._mark_activity -->
<g id="edge140" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._mark_activity</title>
<path fill="none" stroke="black" d="M2070.32,-710.87C2086.52,-667.59 2133.25,-558.08 2209.39,-501.12 2214.15,-497.55 2219.3,-494.38 2224.69,-491.57"/>
<polygon fill="black" stroke="black" points="2226.42,-494.62 2233.94,-487.15 2223.41,-488.3 2226.42,-494.62"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._progress_logger -->
<g id="edge141" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._progress_logger</title>
<path fill="none" stroke="black" d="M2158.49,-746.11C2175.15,-749.11 2192.64,-752.25 2209.69,-755.31"/>
<polygon fill="black" stroke="black" points="2209.21,-758.78 2219.67,-757.11 2210.44,-751.89 2209.21,-758.78"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._write_md -->
<g id="edge142" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._write_md</title>
<path fill="none" stroke="black" d="M2081.61,-710.85C2107.16,-685.87 2157.06,-642 2209.39,-623.12 2304.64,-588.73 2422.04,-586.97 2500.71,-591.06"/>
<polygon fill="black" stroke="black" points="2500.88,-594.57 2511.06,-591.64 2501.28,-587.59 2500.88,-594.57"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._find_group_path -->
<g id="edge143" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._find_group_path</title>
<path fill="none" stroke="black" d="M2081.56,-747.49C2107.07,-772.61 2156.92,-816.64 2209.39,-835.12 2397.89,-901.49 2634.54,-893.52 2771.11,-880.88"/>
<polygon fill="black" stroke="black" points="2771.55,-884.35 2781.17,-879.92 2770.89,-877.39 2771.55,-884.35"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._should_skip_media -->
<g id="edge144" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._should_skip_media</title>
<path fill="none" stroke="black" d="M2158.49,-712.12C2175.15,-709.12 2192.64,-705.98 2209.69,-702.92"/>
<polygon fill="black" stroke="black" points="2210.44,-706.34 2219.67,-701.12 2209.21,-699.45 2210.44,-706.34"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._allowed_topic -->
<g id="edge145" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._allowed_topic</title>
<path fill="none" stroke="black" d="M2158.57,-729.12C2250.95,-729.12 2391.08,-729.12 2486.01,-729.12"/>
<polygon fill="black" stroke="black" points="2486.2,-732.62 2496.2,-729.12 2486.2,-725.62 2486.2,-732.62"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._extract_author -->
<g id="edge146" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._extract_author</title>
<path fill="none" stroke="black" d="M2076.28,-710.97C2098.77,-679.6 2149.57,-615.67 2209.39,-585.12 2309.89,-533.79 2600.28,-526.84 2710.39,-502.12 2745.39,-494.26 2783.84,-483.51 2815.49,-474.08"/>
<polygon fill="black" stroke="black" points="2816.51,-477.43 2825.08,-471.2 2814.5,-470.73 2816.51,-477.43"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._enqueue_chop -->
<g id="edge147" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._enqueue_chop</title>
<path fill="none" stroke="black" d="M2069.71,-747.21C2085.6,-794.38 2133.68,-923.14 2209.39,-1005.12 2227.05,-1024.24 2251.05,-1040.27 2272.17,-1052.15"/>
<polygon fill="black" stroke="black" points="2270.56,-1055.26 2281.02,-1056.98 2273.92,-1049.11 2270.56,-1055.26"/>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._save_message -->
<g id="edge148" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._save_message</title>
<path fill="none" stroke="black" d="M2019.47,-747.27C2012.79,-756.65 2027.26,-765.12 2062.89,-765.12 2084.6,-765.12 2098.45,-761.97 2104.45,-757.39"/>
<polygon fill="black" stroke="black" points="2107.95,-757.74 2106.31,-747.27 2101.06,-756.47 2107.95,-757.74"/>
</g>
<!-- tg_client._save_media -->
<g id="node115" class="node">
<title>tg_client._save_media</title>
<g id="a_node115"><a xlink:title="Store ``data`` and return relative file path.">
<polygon fill="none" stroke="black" points="2675.39,-1015.12 2503.39,-1015.12 2503.39,-979.12 2675.39,-979.12 2675.39,-1015.12"/>
<text text-anchor="middle" x="2589.39" y="-993.42" font-family="Times,serif" font-size="14.00">tg_client._save_media</text>
</a>
</g>
</g>
<!-- tg_client._save_message&#45;&gt;tg_client._save_media -->
<g id="edge149" class="edge">
<title>tg_client._save_message&#45;&gt;tg_client._save_media</title>
<path fill="none" stroke="black" d="M2072.9,-747.2C2092.36,-784.25 2142.05,-868.88 2209.39,-911.12 2255.97,-940.33 2396.85,-967.2 2493.09,-982.88"/>
<polygon fill="black" stroke="black" points="2492.7,-986.36 2503.13,-984.5 2493.82,-979.45 2492.7,-986.36"/>
</g>
<!-- tg_client._save_media&#45;&gt;caption_io.caption_json_path -->
<g id="edge150" class="edge">
<title>tg_client._save_media&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M2675.64,-990.14C2774.56,-987.22 2935,-999.46 3020.39,-1097.12 3076.08,-1160.8 2997.4,-1415.47 3056.39,-1476.12 3098.22,-1519.13 3265.93,-1495.59 3324.39,-1509.12 3466.39,-1541.98 3531.87,-1512.51 3634.39,-1616.12 3669.97,-1652.08 3638.52,-1684.82 3670.39,-1724.12 3684.96,-1742.09 3705.93,-1756.16 3725.72,-1766.55"/>
<polygon fill="black" stroke="black" points="3724.2,-1769.7 3734.7,-1771.06 3727.34,-1763.45 3724.2,-1769.7"/>
</g>
<!-- tg_client._save_media&#45;&gt;caption_io.has_caption -->
<g id="edge151" class="edge">
<title>tg_client._save_media&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M2623.94,-1015.23C2648.54,-1028.99 2682.41,-1048.94 2710.39,-1069.12 2728.79,-1082.39 3008.86,-1315.57 3020.39,-1335.12 3060.5,-1403.14 2999.8,-1454.03 3056.39,-1509.12 3143.09,-1593.53 3233.4,-1477.34 3324.39,-1557.12 3364.02,-1591.86 3321.08,-1635 3360.39,-1670.12 3371.33,-1679.89 3384.76,-1686.54 3398.89,-1691"/>
<polygon fill="black" stroke="black" points="3398.18,-1694.44 3408.76,-1693.75 3400.06,-1687.69 3398.18,-1694.44"/>
</g>
<!-- tg_client._save_media&#45;&gt;image_io.write_image_meta -->
<g id="edge152" class="edge">
<title>tg_client._save_media&#45;&gt;image_io.write_image_meta</title>
<path fill="none" stroke="black" d="M2675.61,-980.38C2687.41,-977.36 2699.28,-973.94 2710.39,-970.12 2727.12,-964.36 2729.68,-958.95 2746.39,-953.12 2758.34,-948.94 2771.07,-945.14 2783.77,-941.73"/>
<polygon fill="black" stroke="black" points="2784.67,-945.11 2793.46,-939.2 2782.9,-938.34 2784.67,-945.11"/>
</g>
<!-- tg_client._save_media&#45;&gt;tg_client._schedule_caption -->
<g id="edge153" class="edge">
<title>tg_client._save_media&#45;&gt;tg_client._schedule_caption</title>
<path fill="none" stroke="black" d="M2675.72,-990.72C2762.83,-983.41 2901.73,-969.61 3020.39,-948.12 3036.62,-945.18 3040.37,-943.04 3056.39,-939.12 3071.76,-935.34 3088.15,-931.37 3103.98,-927.55"/>
<polygon fill="black" stroke="black" points="3104.85,-930.94 3113.75,-925.19 3103.21,-924.13 3104.85,-930.94"/>
</g>
<!-- tg_client._save_bounded -->
<g id="node116" class="node">
<title>tg_client._save_bounded</title>
<g id="a_node116"><a xlink:title="Run ``_save_message`` under the global semaphore and return path.">
<polygon fill="none" stroke="black" points="1916.39,-747.12 1726.39,-747.12 1726.39,-711.12 1916.39,-711.12 1916.39,-747.12"/>
<text text-anchor="middle" x="1821.39" y="-725.42" font-family="Times,serif" font-size="14.00">tg_client._save_bounded</text>
</a>
</g>
</g>
<!-- tg_client._save_bounded&#45;&gt;tg_client._save_message -->
<g id="edge154" class="edge">
<title>tg_client._save_bounded&#45;&gt;tg_client._save_message</title>
<path fill="none" stroke="black" d="M1916.7,-729.12C1929.95,-729.12 1943.63,-729.12 1957.06,-729.12"/>
<polygon fill="black" stroke="black" points="1957.27,-732.62 1967.27,-729.12 1957.27,-725.62 1957.27,-732.62"/>
</g>
<!-- tg_client._remove_local_message -->
<g id="node117" class="node">
<title>tg_client._remove_local_message</title>
<g id="a_node117"><a xlink:title="Delete ``path`` and related media if the post no longer exists.">
<polygon fill="none" stroke="black" points="3315.89,-687.12 3064.89,-687.12 3064.89,-651.12 3315.89,-651.12 3315.89,-687.12"/>
<text text-anchor="middle" x="3190.39" y="-665.42" font-family="Times,serif" font-size="14.00">tg_client._remove_local_message</text>
</a>
</g>
</g>
<!-- tg_client._remove_local_message&#45;&gt;caption_io.caption_json_path -->
<g id="edge155" class="edge">
<title>tg_client._remove_local_message&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3310.76,-687.2C3315.55,-689.82 3320.12,-692.77 3324.39,-696.12 3353.81,-719.16 3337.55,-742.53 3360.39,-772.12 3457.55,-897.97 3563.64,-859.73 3634.39,-1002.12 3705.87,-1145.98 3587.05,-1586.78 3670.39,-1724.12 3681.64,-1742.66 3700.33,-1756.49 3719.19,-1766.51"/>
<polygon fill="black" stroke="black" points="3717.63,-1769.64 3728.14,-1770.99 3720.77,-1763.38 3717.63,-1769.64"/>
</g>
<!-- tg_client._remove_local_message&#45;&gt;caption_io.caption_md_path -->
<g id="edge156" class="edge">
<title>tg_client._remove_local_message&#45;&gt;caption_io.caption_md_path</title>
<path fill="none" stroke="black" d="M3316.14,-677C3420.48,-690.97 3563.33,-728.92 3634.39,-831.12 3675.87,-890.78 3651.16,-1414.04 3670.39,-1484.12 3690.1,-1555.97 3736.37,-1631.28 3762.52,-1670.22"/>
<polygon fill="black" stroke="black" points="3759.88,-1672.57 3768.4,-1678.87 3765.67,-1668.63 3759.88,-1672.57"/>
</g>
<!-- tg_client._remove_local_message&#45;&gt;post_io.read_post -->
<g id="edge157" class="edge">
<title>tg_client._remove_local_message&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M3313.51,-687.22C3317.38,-689.86 3321.03,-692.81 3324.39,-696.12 3377.29,-748.13 3328.38,-792.18 3360.39,-859.12 3387.9,-916.64 3438.21,-972.17 3469.33,-1003.36"/>
<polygon fill="black" stroke="black" points="3467.23,-1006.21 3476.8,-1010.75 3472.15,-1001.23 3467.23,-1006.21"/>
</g>
<!-- tg_client._download_messages -->
<g id="node118" class="node">
<title>tg_client._download_messages</title>
<g id="a_node118"><a xlink:title="Save ``messages`` with a progress bar and return count saved.">
<polygon fill="none" stroke="black" points="1690.39,-747.12 1456.39,-747.12 1456.39,-711.12 1690.39,-711.12 1690.39,-747.12"/>
<text text-anchor="middle" x="1573.39" y="-725.42" font-family="Times,serif" font-size="14.00">tg_client._download_messages</text>
</a>
</g>
</g>
<!-- tg_client._download_messages&#45;&gt;tg_client._save_bounded -->
<g id="edge158" class="edge">
<title>tg_client._download_messages&#45;&gt;tg_client._save_bounded</title>
<path fill="none" stroke="black" d="M1690.54,-729.12C1699.03,-729.12 1707.57,-729.12 1715.98,-729.12"/>
<polygon fill="black" stroke="black" points="1716.18,-732.62 1726.18,-729.12 1716.18,-725.62 1716.18,-732.62"/>
</g>
<!-- tg_client.ensure_chat_access -->
<g id="node119" class="node">
<title>tg_client.ensure_chat_access</title>
<g id="a_node119"><a xlink:title="Join chats listed in ``CHATS`` if not already joined.">
<polygon fill="none" stroke="black" points="1684.39,-327.12 1462.39,-327.12 1462.39,-291.12 1684.39,-291.12 1684.39,-327.12"/>
<text text-anchor="middle" x="1573.39" y="-305.42" font-family="Times,serif" font-size="14.00">tg_client.ensure_chat_access</text>
</a>
</g>
</g>
<!-- tg_client.refetch_messages -->
<g id="node120" class="node">
<title>tg_client.refetch_messages</title>
<g id="a_node120"><a xlink:title="Re&#45;fetch posts that failed parsing or are empty.">
<polygon fill="none" stroke="black" points="1678.39,-1340.12 1468.39,-1340.12 1468.39,-1304.12 1678.39,-1304.12 1678.39,-1340.12"/>
<text text-anchor="middle" x="1573.39" y="-1318.42" font-family="Times,serif" font-size="14.00">tg_client.refetch_messages</text>
</a>
</g>
</g>
<!-- tg_client.refetch_messages&#45;&gt;serde_utils.load_json -->
<g id="edge159" class="edge">
<title>tg_client.refetch_messages&#45;&gt;serde_utils.load_json</title>
<path fill="none" stroke="black" d="M1582.28,-1340.3C1640.78,-1472.05 2020.66,-2275.12 2588.39,-2275.12 2588.39,-2275.12 2588.39,-2275.12 2884.39,-2275.12 2968.44,-2275.12 3567.81,-2322.81 3634.39,-2374.12 3667.53,-2399.66 3638.61,-2433.89 3670.39,-2461.12 3676.37,-2466.24 3683.17,-2470.43 3690.39,-2473.84"/>
<polygon fill="black" stroke="black" points="3689.15,-2477.12 3699.72,-2477.77 3691.86,-2470.66 3689.15,-2477.12"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;serde_utils.write_json -->
<g id="edge160" class="edge">
<title>tg_client.refetch_messages&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M1576.26,-1340.12C1585.96,-1430.89 1633.73,-1846.86 1726.39,-2175.12 1745.06,-2241.28 1899.23,-2707.51 1952.39,-2751.12 2008.92,-2797.49 3072.38,-2912.58 3400.68,-2947.15"/>
<polygon fill="black" stroke="black" points="3400.34,-2950.63 3410.65,-2948.19 3401.07,-2943.67 3400.34,-2950.63"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;post_io.raw_post_path -->
<g id="edge162" class="edge">
<title>tg_client.refetch_messages&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M1658.05,-1340.14C1754.79,-1359.37 1919.08,-1387.12 2061.89,-1387.12 2061.89,-1387.12 2061.89,-1387.12 2590.39,-1387.12 2797.67,-1387.12 2849.22,-1374.93 3056.39,-1368.12 3174.42,-1364.23 3310.29,-1361.03 3399.45,-1359.1"/>
<polygon fill="black" stroke="black" points="3399.63,-1362.6 3409.55,-1358.88 3399.48,-1355.6 3399.63,-1362.6"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;post_io.read_post -->
<g id="edge161" class="edge">
<title>tg_client.refetch_messages&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M1615.53,-1304.04C1679.84,-1275.73 1808.05,-1219.11 1916.39,-1170.12 2278.09,-1006.53 2354.23,-901.79 2746.39,-840.12 2873.31,-820.15 3215.64,-757.69 3324.39,-826.12 3355.68,-845.81 3338.56,-871.27 3360.39,-901.12 3390.31,-942.02 3434.39,-980.69 3464.19,-1004.61"/>
<polygon fill="black" stroke="black" points="3462.18,-1007.48 3472.19,-1010.95 3466.53,-1002 3462.18,-1007.48"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;tg_client._get_message_path -->
<g id="edge163" class="edge">
<title>tg_client.refetch_messages&#45;&gt;tg_client._get_message_path</title>
<path fill="none" stroke="black" d="M1678.67,-1323.83C1755.92,-1325.09 1861.34,-1326.82 1942.06,-1328.15"/>
<polygon fill="black" stroke="black" points="1942.22,-1331.65 1952.27,-1328.32 1942.33,-1324.65 1942.22,-1331.65"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;tg_client._save_bounded -->
<g id="edge164" class="edge">
<title>tg_client.refetch_messages&#45;&gt;tg_client._save_bounded</title>
<path fill="none" stroke="black" d="M1581.73,-1303.88C1603.53,-1249.82 1669.87,-1085.66 1726.39,-950.12 1755.58,-880.11 1790.75,-798 1808.66,-756.34"/>
<polygon fill="black" stroke="black" points="1811.89,-757.7 1812.62,-747.13 1805.46,-754.93 1811.89,-757.7"/>
</g>
<!-- tg_client.refetch_messages&#45;&gt;tg_client._remove_local_message -->
<g id="edge165" class="edge">
<title>tg_client.refetch_messages&#45;&gt;tg_client._remove_local_message</title>
<path fill="none" stroke="black" d="M1596.74,-1304.11C1625.68,-1281.23 1678.14,-1241.23 1726.39,-1212.12 2041.4,-1022.05 2123.26,-972.57 2468.39,-845.12 2675.54,-768.62 2928.48,-715.66 3073.05,-689.01"/>
<polygon fill="black" stroke="black" points="3074.07,-692.39 3083.27,-687.14 3072.8,-685.5 3074.07,-692.39"/>
</g>
<!-- tg_client.fetch_missing -->
<g id="node121" class="node">
<title>tg_client.fetch_missing</title>
<g id="a_node121"><a xlink:title="Pull new messages and back&#45;fill history until fully synced.">
<polygon fill="none" stroke="black" points="1195.39,-778.12 1014.39,-778.12 1014.39,-742.12 1195.39,-742.12 1195.39,-778.12"/>
<text text-anchor="middle" x="1104.89" y="-756.42" font-family="Times,serif" font-size="14.00">tg_client.fetch_missing</text>
</a>
</g>
</g>
<!-- tg_client.fetch_missing&#45;&gt;post_io.raw_post_path -->
<g id="edge166" class="edge">
<title>tg_client.fetch_missing&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M1111.97,-778.37C1143.68,-869.76 1299.12,-1273.12 1572.39,-1273.12 1572.39,-1273.12 1572.39,-1273.12 2884.39,-1273.12 3080.96,-1273.12 3130.4,-1286.32 3324.39,-1318.12 3354.39,-1323.03 3386.99,-1330 3415.67,-1336.69"/>
<polygon fill="black" stroke="black" points="3415.1,-1340.15 3425.64,-1339.04 3416.71,-1333.34 3415.1,-1340.15"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client._get_id_date -->
<g id="edge167" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client._get_id_date</title>
<path fill="none" stroke="black" d="M1152.89,-742.01C1252.68,-703.31 1492.78,-608.94 1690.39,-521.12 1749.42,-494.88 1889.6,-410.34 1952.39,-395.12 2168.49,-342.72 2843.93,-352.83 3094.55,-358.62"/>
<polygon fill="black" stroke="black" points="3094.65,-362.12 3104.72,-358.86 3094.81,-355.12 3094.65,-362.12"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client._load_progress -->
<g id="edge168" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client._load_progress</title>
<path fill="none" stroke="black" d="M1129.03,-741.94C1148.79,-725.45 1176.87,-699.58 1195.39,-672.12 1218.78,-637.42 1205.72,-618.17 1231.39,-585.12 1245.6,-566.81 1265.76,-550.9 1283.72,-538.89"/>
<polygon fill="black" stroke="black" points="1285.84,-541.69 1292.33,-533.31 1282.03,-535.81 1285.84,-541.69"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client._save_progress -->
<g id="edge169" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client._save_progress</title>
<path fill="none" stroke="black" d="M1195.56,-764.54C1273.3,-768.37 1385.88,-773.92 1467.72,-777.96"/>
<polygon fill="black" stroke="black" points="1467.64,-781.46 1477.8,-778.45 1467.99,-774.46 1467.64,-781.46"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client.get_first_id -->
<g id="edge170" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client.get_first_id</title>
<path fill="none" stroke="black" d="M1165.27,-778.15C1296.65,-818.05 1611.36,-913.63 1751.29,-956.13"/>
<polygon fill="black" stroke="black" points="1750.47,-959.54 1761.05,-959.1 1752.5,-952.84 1750.47,-959.54"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client.get_last_id -->
<g id="edge171" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client.get_last_id</title>
<path fill="none" stroke="black" d="M1120.68,-778.23C1143.5,-805.84 1189.09,-859.73 1231.39,-902.12 1251.91,-922.69 1276.54,-944.44 1295.37,-960.51"/>
<polygon fill="black" stroke="black" points="1293.16,-963.23 1303.05,-967.04 1297.69,-957.9 1293.16,-963.23"/>
</g>
<!-- tg_client.fetch_missing&#45;&gt;tg_client._download_messages -->
<g id="edge172" class="edge">
<title>tg_client.fetch_missing&#45;&gt;tg_client._download_messages</title>
<path fill="none" stroke="black" d="M1195.56,-754.16C1266.62,-749.43 1366.79,-742.78 1445.99,-737.51"/>
<polygon fill="black" stroke="black" points="1446.29,-741 1456.04,-736.85 1445.83,-734.02 1446.29,-741"/>
</g>
<!-- tg_client.remove_deleted -->
<g id="node122" class="node">
<title>tg_client.remove_deleted</title>
<g id="a_node122"><a xlink:title="Delete locally stored messages removed from Telegram recently.">
<polygon fill="none" stroke="black" points="3288.39,-1131.12 3092.39,-1131.12 3092.39,-1095.12 3288.39,-1095.12 3288.39,-1131.12"/>
<text text-anchor="middle" x="3190.39" y="-1109.42" font-family="Times,serif" font-size="14.00">tg_client.remove_deleted</text>
</a>
</g>
</g>
<!-- tg_client.remove_deleted&#45;&gt;caption_io.caption_json_path -->
<g id="edge173" class="edge">
<title>tg_client.remove_deleted&#45;&gt;caption_io.caption_json_path</title>
<path fill="none" stroke="black" d="M3288.51,-1130.74C3300.92,-1134.64 3313.19,-1139.38 3324.39,-1145.12 3343.18,-1154.74 3343.1,-1163.99 3360.39,-1176.12 3474.77,-1256.31 3558.42,-1212.88 3634.39,-1330.12 3730.01,-1477.69 3576.08,-1575.7 3670.39,-1724.12 3682.12,-1742.58 3701.14,-1756.44 3720.14,-1766.5"/>
<polygon fill="black" stroke="black" points="3718.62,-1769.66 3729.13,-1771 3721.76,-1763.4 3718.62,-1769.66"/>
</g>
<!-- tg_client.remove_deleted&#45;&gt;caption_io.caption_md_path -->
<g id="edge174" class="edge">
<title>tg_client.remove_deleted&#45;&gt;caption_io.caption_md_path</title>
<path fill="none" stroke="black" d="M3288.63,-1106.58C3390.47,-1105.53 3547.44,-1121.33 3634.39,-1217.12 3674.63,-1261.44 3652.28,-1427.05 3670.39,-1484.12 3692.98,-1555.32 3738.3,-1631.17 3763.49,-1670.3"/>
<polygon fill="black" stroke="black" points="3760.75,-1672.5 3769.13,-1678.98 3766.61,-1668.69 3760.75,-1672.5"/>
</g>
<!-- tg_client.remove_deleted&#45;&gt;post_io.raw_post_path -->
<g id="edge176" class="edge">
<title>tg_client.remove_deleted&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3288.59,-1124.43C3301.69,-1129.25 3314.13,-1135.92 3324.39,-1145.12 3359.57,-1176.64 3333.18,-1206.5 3360.39,-1245.12 3386.28,-1281.87 3427.28,-1313.34 3457.49,-1333.48"/>
<polygon fill="black" stroke="black" points="3455.82,-1336.57 3466.1,-1339.11 3459.65,-1330.71 3455.82,-1336.57"/>
</g>
<!-- tg_client.remove_deleted&#45;&gt;post_io.read_post -->
<g id="edge175" class="edge">
<title>tg_client.remove_deleted&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M3269.64,-1095.08C3287.67,-1090.7 3306.74,-1085.9 3324.39,-1081.12 3359.45,-1071.61 3398.2,-1059.99 3430.04,-1050.15"/>
<polygon fill="black" stroke="black" points="3431.17,-1053.46 3439.68,-1047.15 3429.09,-1046.78 3431.17,-1053.46"/>
</g>
<!-- tg_client.main -->
<g id="node123" class="node">
<title>tg_client.main</title>
<polygon fill="none" stroke="black" points="967.19,-663.12 849.19,-663.12 849.19,-627.12 967.19,-627.12 967.19,-663.12"/>
<text text-anchor="middle" x="908.19" y="-641.42" font-family="Times,serif" font-size="14.00">tg_client.main</text>
</g>
<!-- tg_client.main&#45;&gt;tg_client._mark_activity -->
<g id="edge177" class="edge">
<title>tg_client.main&#45;&gt;tg_client._mark_activity</title>
<path fill="none" stroke="black" d="M932.99,-626.94C994.31,-581.98 1164.23,-469.12 1324.89,-469.12 1324.89,-469.12 1324.89,-469.12 1822.39,-469.12 1959.12,-469.12 2117,-469.12 2217.58,-469.12"/>
<polygon fill="black" stroke="black" points="2217.74,-472.62 2227.74,-469.12 2217.74,-465.62 2217.74,-472.62"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client._heartbeat -->
<g id="edge178" class="edge">
<title>tg_client.main&#45;&gt;tg_client._heartbeat</title>
<path fill="none" stroke="black" d="M967.34,-645.12C982.38,-645.12 998.91,-645.12 1015.12,-645.12"/>
<polygon fill="black" stroke="black" points="1015.15,-648.62 1025.15,-645.12 1015.15,-641.62 1015.15,-648.62"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client._flush_chop_queue -->
<g id="edge179" class="edge">
<title>tg_client.main&#45;&gt;tg_client._flush_chop_queue</title>
<path fill="none" stroke="black" d="M914.24,-627.01C925.65,-589.38 957.02,-502.3 1014.39,-455.12 1126.35,-363.01 1179.91,-355.12 1324.89,-355.12 1324.89,-355.12 1324.89,-355.12 1574.39,-355.12 1713.77,-355.12 1873.49,-382.33 1971.02,-402.07"/>
<polygon fill="black" stroke="black" points="1970.35,-405.5 1980.84,-404.07 1971.75,-398.64 1970.35,-405.5"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client._save_bounded -->
<g id="edge180" class="edge">
<title>tg_client.main&#45;&gt;tg_client._save_bounded</title>
<path fill="none" stroke="black" d="M967.39,-627.41C982.54,-623.56 998.95,-620.06 1014.39,-618.12 1094.2,-608.04 1115.23,-611.36 1195.39,-618.12 1390.32,-634.54 1615.42,-681.55 1735.13,-708.84"/>
<polygon fill="black" stroke="black" points="1734.44,-712.28 1744.97,-711.1 1736.01,-705.45 1734.44,-712.28"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client.ensure_chat_access -->
<g id="edge181" class="edge">
<title>tg_client.main&#45;&gt;tg_client.ensure_chat_access</title>
<path fill="none" stroke="black" d="M909.09,-626.83C909.88,-572.62 920.4,-412.19 1014.39,-341.12 1080.8,-290.89 1308.98,-293.63 1452.16,-300.89"/>
<polygon fill="black" stroke="black" points="1452.15,-304.39 1462.32,-301.42 1452.51,-297.4 1452.15,-304.39"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client.refetch_messages -->
<g id="edge182" class="edge">
<title>tg_client.main&#45;&gt;tg_client.refetch_messages</title>
<path fill="none" stroke="black" d="M910.85,-663.23C918.66,-745.17 953.86,-1080.67 1014.39,-1164.12 1114.43,-1302.03 1326.02,-1326.65 1457.98,-1327.5"/>
<polygon fill="black" stroke="black" points="1458.12,-1331 1468.13,-1327.52 1458.13,-1324 1458.12,-1331"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client.fetch_missing -->
<g id="edge183" class="edge">
<title>tg_client.main&#45;&gt;tg_client.fetch_missing</title>
<path fill="none" stroke="black" d="M940.04,-663.34C973.65,-683.19 1027.51,-715 1064.24,-736.7"/>
<polygon fill="black" stroke="black" points="1062.79,-739.91 1073.18,-741.98 1066.35,-733.88 1062.79,-739.91"/>
</g>
<!-- tg_client.main&#45;&gt;tg_client.remove_deleted -->
<g id="edge184" class="edge">
<title>tg_client.main&#45;&gt;tg_client.remove_deleted</title>
<path fill="none" stroke="black" d="M914.15,-663.39C939.92,-753.92 1067.4,-1150.12 1324.89,-1150.12 1324.89,-1150.12 1324.89,-1150.12 1574.39,-1150.12 1905.75,-1150.12 1988.53,-1159.12 2319.89,-1159.12 2319.89,-1159.12 2319.89,-1159.12 2590.39,-1159.12 2762.8,-1159.12 2962.31,-1139.93 3082.04,-1126.34"/>
<polygon fill="black" stroke="black" points="3082.76,-1129.78 3092.3,-1125.17 3081.97,-1122.83 3082.76,-1129.78"/>
</g>
<!-- clean_data._parse_date -->
<g id="node124" class="node">
<title>clean_data._parse_date</title>
<g id="a_node124"><a xlink:title="Return the ``date`` field from a markdown file if present.">
<polygon fill="none" stroke="black" points="3588.39,-2419.12 3406.39,-2419.12 3406.39,-2383.12 3588.39,-2383.12 3588.39,-2419.12"/>
<text text-anchor="middle" x="3497.39" y="-2397.42" font-family="Times,serif" font-size="14.00">clean_data._parse_date</text>
</a>
</g>
</g>
<!-- clean_data._parse_date&#45;&gt;serde_utils.read_text -->
<g id="edge185" class="edge">
<title>clean_data._parse_date&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M3588.52,-2406.28C3674.69,-2406.69 3804.46,-2395 3894.39,-2331.12 3963.42,-2282.08 3999.22,-2182.7 4013.22,-2134.12"/>
<polygon fill="black" stroke="black" points="4016.64,-2134.86 4015.95,-2124.29 4009.9,-2132.98 4016.64,-2134.86"/>
</g>
<!-- clean_data._clean_raw -->
<g id="node125" class="node">
<title>clean_data._clean_raw</title>
<polygon fill="none" stroke="black" points="3277.89,-2377.12 3102.89,-2377.12 3102.89,-2341.12 3277.89,-2341.12 3277.89,-2377.12"/>
<text text-anchor="middle" x="3190.39" y="-2355.42" font-family="Times,serif" font-size="14.00">clean_data._clean_raw</text>
</g>
<!-- clean_data._clean_raw&#45;&gt;post_io.raw_post_path -->
<g id="edge186" class="edge">
<title>clean_data._clean_raw&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3230.26,-2340.95C3261.8,-2323.9 3304.23,-2295.17 3324.39,-2256.12 3368.87,-2169.95 3297.32,-1457.78 3360.39,-1384.12 3370.66,-1372.12 3384.6,-1364.49 3399.66,-1359.79"/>
<polygon fill="black" stroke="black" points="3400.93,-1363.08 3409.69,-1357.11 3399.12,-1356.31 3400.93,-1363.08"/>
</g>
<!-- clean_data._clean_raw&#45;&gt;clean_data._parse_date -->
<g id="edge187" class="edge">
<title>clean_data._clean_raw&#45;&gt;clean_data._parse_date</title>
<path fill="none" stroke="black" d="M3277.97,-2371.04C3314.75,-2376.1 3357.87,-2382.04 3396.03,-2387.3"/>
<polygon fill="black" stroke="black" points="3395.75,-2390.79 3406.13,-2388.69 3396.7,-2383.86 3395.75,-2390.79"/>
</g>
<!-- clean_data._clean_media -->
<g id="node126" class="node">
<title>clean_data._clean_media</title>
<polygon fill="none" stroke="black" points="3285.89,-2431.12 3094.89,-2431.12 3094.89,-2395.12 3285.89,-2395.12 3285.89,-2431.12"/>
<text text-anchor="middle" x="3190.39" y="-2409.42" font-family="Times,serif" font-size="14.00">clean_data._clean_media</text>
</g>
<!-- clean_data._clean_media&#45;&gt;caption_io.has_caption -->
<g id="edge188" class="edge">
<title>clean_data._clean_media&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M3286.09,-2409.62C3300.69,-2404.99 3314.25,-2397.6 3324.39,-2386.12 3394.01,-2307.26 3327.5,-2014.04 3360.39,-1914.12 3385.33,-1838.34 3442.12,-1762.18 3473.86,-1723.4"/>
<polygon fill="black" stroke="black" points="3476.92,-1725.2 3480.61,-1715.26 3471.53,-1720.73 3476.92,-1725.2"/>
</g>
<!-- clean_data._clean_media&#45;&gt;clean_data._parse_date -->
<g id="edge189" class="edge">
<title>clean_data._clean_media&#45;&gt;clean_data._parse_date</title>
<path fill="none" stroke="black" d="M3286.22,-2409.38C3321.08,-2408.01 3360.64,-2406.46 3395.98,-2405.07"/>
<polygon fill="black" stroke="black" points="3396.45,-2408.55 3406.31,-2404.66 3396.18,-2401.56 3396.45,-2408.55"/>
</g>
<!-- clean_data._clean_lots -->
<g id="node127" class="node">
<title>clean_data._clean_lots</title>
<polygon fill="none" stroke="black" points="3277.39,-2631.12 3103.39,-2631.12 3103.39,-2595.12 3277.39,-2595.12 3277.39,-2631.12"/>
<text text-anchor="middle" x="3190.39" y="-2609.42" font-family="Times,serif" font-size="14.00">clean_data._clean_lots</text>
</g>
<!-- clean_data._clean_lots&#45;&gt;post_io.raw_post_path -->
<g id="edge190" class="edge">
<title>clean_data._clean_lots&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M3261.73,-2595.04C3285.69,-2585.22 3310.02,-2570.35 3324.39,-2548.12 3394.6,-2439.43 3276.75,-1482.84 3360.39,-1384.12 3370.6,-1372.06 3384.51,-1364.41 3399.56,-1359.71"/>
<polygon fill="black" stroke="black" points="3400.83,-1362.99 3409.58,-1357.02 3399.02,-1356.23 3400.83,-1362.99"/>
</g>
<!-- clean_data._clean_lots&#45;&gt;lot_io.read_lots -->
<g id="edge192" class="edge">
<title>clean_data._clean_lots&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M3277.54,-2614.26C3295.31,-2618.58 3312.28,-2626.45 3324.39,-2640.12 3391.21,-2715.54 3293.41,-3016.84 3360.39,-3092.12 3376.49,-3110.21 3400.94,-3118.25 3424.7,-3121.35"/>
<polygon fill="black" stroke="black" points="3424.51,-3124.85 3434.81,-3122.39 3425.22,-3117.88 3424.51,-3124.85"/>
</g>
<!-- lot_io.needs_cleanup -->
<g id="node128" class="node">
<title>lot_io.needs_cleanup</title>
<g id="a_node128"><a xlink:title="Return ``True`` when ``clean_data`` would drop ``lots``.">
<polygon fill="none" stroke="black" points="3579.39,-2531.12 3415.39,-2531.12 3415.39,-2495.12 3579.39,-2495.12 3579.39,-2531.12"/>
<text text-anchor="middle" x="3497.39" y="-2509.42" font-family="Times,serif" font-size="14.00">lot_io.needs_cleanup</text>
</a>
</g>
</g>
<!-- clean_data._clean_lots&#45;&gt;lot_io.needs_cleanup -->
<g id="edge191" class="edge">
<title>clean_data._clean_lots&#45;&gt;lot_io.needs_cleanup</title>
<path fill="none" stroke="black" d="M3277.45,-2600.59C3293.76,-2595.99 3310.16,-2589.71 3324.39,-2581.12 3345.15,-2568.58 3339.38,-2552.23 3360.39,-2540.12 3374.12,-2532.2 3389.78,-2526.57 3405.47,-2522.57"/>
<polygon fill="black" stroke="black" points="3406.29,-2525.97 3415.23,-2520.29 3404.7,-2519.16 3406.29,-2525.97"/>
</g>
<!-- clean_data._clean_embeddings -->
<g id="node129" class="node">
<title>clean_data._clean_embeddings</title>
<g id="a_node129"><a xlink:title="Delete embedding files when the matching lot JSON is absent.">
<polygon fill="none" stroke="black" points="3307.89,-2831.12 3072.89,-2831.12 3072.89,-2795.12 3307.89,-2795.12 3307.89,-2831.12"/>
<text text-anchor="middle" x="3190.39" y="-2809.42" font-family="Times,serif" font-size="14.00">clean_data._clean_embeddings</text>
</a>
</g>
</g>
<!-- clean_data._remove_empty_dirs -->
<g id="node130" class="node">
<title>clean_data._remove_empty_dirs</title>
<g id="a_node130"><a xlink:title="Recursively remove empty folders under ``root``.">
<polygon fill="none" stroke="black" points="3618.89,-3191.12 3375.89,-3191.12 3375.89,-3155.12 3618.89,-3155.12 3618.89,-3191.12"/>
<text text-anchor="middle" x="3497.39" y="-3169.42" font-family="Times,serif" font-size="14.00">clean_data._remove_empty_dirs</text>
</a>
</g>
</g>
<!-- clean_data.main -->
<g id="node131" class="node">
<title>clean_data.main</title>
<polygon fill="none" stroke="black" points="2949.39,-2643.12 2817.39,-2643.12 2817.39,-2607.12 2949.39,-2607.12 2949.39,-2643.12"/>
<text text-anchor="middle" x="2883.39" y="-2621.42" font-family="Times,serif" font-size="14.00">clean_data.main</text>
</g>
<!-- clean_data.main&#45;&gt;clean_data._clean_raw -->
<g id="edge193" class="edge">
<title>clean_data.main&#45;&gt;clean_data._clean_raw</title>
<path fill="none" stroke="black" d="M2891.81,-2606.88C2911.3,-2561.45 2968.58,-2442.85 3056.39,-2386.12 3067.43,-2378.98 3079.97,-2373.68 3092.84,-2369.74"/>
<polygon fill="black" stroke="black" points="3094.03,-2373.04 3102.72,-2366.99 3092.15,-2366.3 3094.03,-2373.04"/>
</g>
<!-- clean_data.main&#45;&gt;clean_data._clean_media -->
<g id="edge194" class="edge">
<title>clean_data.main&#45;&gt;clean_data._clean_media</title>
<path fill="none" stroke="black" d="M2895.58,-2606.9C2919.8,-2569.14 2981.03,-2482.37 3056.39,-2440.12 3065.34,-2435.09 3075.1,-2431 3085.13,-2427.66"/>
<polygon fill="black" stroke="black" points="3086.28,-2430.97 3094.82,-2424.69 3084.23,-2424.28 3086.28,-2430.97"/>
</g>
<!-- clean_data.main&#45;&gt;clean_data._clean_lots -->
<g id="edge195" class="edge">
<title>clean_data.main&#45;&gt;clean_data._clean_lots</title>
<path fill="none" stroke="black" d="M2949.44,-2622.56C2991.25,-2620.91 3046.3,-2618.75 3093.13,-2616.9"/>
<polygon fill="black" stroke="black" points="3093.44,-2620.39 3103.29,-2616.5 3093.16,-2613.4 3093.44,-2620.39"/>
</g>
<!-- clean_data.main&#45;&gt;clean_data._clean_embeddings -->
<g id="edge196" class="edge">
<title>clean_data.main&#45;&gt;clean_data._clean_embeddings</title>
<path fill="none" stroke="black" d="M2929.99,-2643.2C2959.02,-2656.63 2995.67,-2677.42 3020.39,-2705.12 3046.62,-2734.51 3025.67,-2761.45 3056.39,-2786.12 3058.83,-2788.08 3061.39,-2789.91 3064.03,-2791.62"/>
<polygon fill="black" stroke="black" points="3062.33,-2794.69 3072.74,-2796.68 3065.85,-2788.63 3062.33,-2794.69"/>
</g>
<!-- clean_data.main&#45;&gt;clean_data._remove_empty_dirs -->
<g id="edge197" class="edge">
<title>clean_data.main&#45;&gt;clean_data._remove_empty_dirs</title>
<path fill="none" stroke="black" d="M2939.11,-2643.13C2968.29,-2655.72 3001.91,-2675.64 3020.39,-2705.12 3072.97,-2788.99 2985.47,-3080.05 3056.39,-3149.12 3098.95,-3190.57 3251.82,-3190.55 3365.48,-3184.13"/>
<polygon fill="black" stroke="black" points="3365.89,-3187.62 3375.67,-3183.54 3365.48,-3180.63 3365.89,-3187.62"/>
</g>
<!-- telegram_bot._t -->
<g id="node135" class="node">
<title>telegram_bot._t</title>
<g id="a_node135"><a xlink:title="Return ``text`` translated to ``lang`` using gettext files.">
<polygon fill="none" stroke="black" points="2653.39,-4606.12 2525.39,-4606.12 2525.39,-4570.12 2653.39,-4570.12 2653.39,-4606.12"/>
<text text-anchor="middle" x="2589.39" y="-4584.42" font-family="Times,serif" font-size="14.00">telegram_bot._t</text>
</a>
</g>
</g>
<!-- telegram_bot.ensure_profile -->
<g id="node136" class="node">
<title>telegram_bot.ensure_profile</title>
<g id="a_node136"><a xlink:title="Return profile for ``uid`` creating one if needed.">
<polygon fill="none" stroke="black" points="2697.89,-4552.12 2480.89,-4552.12 2480.89,-4516.12 2697.89,-4516.12 2697.89,-4552.12"/>
<text text-anchor="middle" x="2589.39" y="-4530.42" font-family="Times,serif" font-size="14.00">telegram_bot.ensure_profile</text>
</a>
</g>
</g>
<!-- telegram_bot.save_profiles -->
<g id="node137" class="node">
<title>telegram_bot.save_profiles</title>
<g id="a_node137"><a xlink:title="Write ``profiles`` to disk.">
<polygon fill="none" stroke="black" points="2987.39,-4514.12 2779.39,-4514.12 2779.39,-4478.12 2987.39,-4478.12 2987.39,-4514.12"/>
<text text-anchor="middle" x="2883.39" y="-4492.42" font-family="Times,serif" font-size="14.00">telegram_bot.save_profiles</text>
</a>
</g>
</g>
<!-- telegram_bot.ensure_profile&#45;&gt;telegram_bot.save_profiles -->
<g id="edge205" class="edge">
<title>telegram_bot.ensure_profile&#45;&gt;telegram_bot.save_profiles</title>
<path fill="none" stroke="black" d="M2698.29,-4520.07C2721.46,-4517.06 2746.01,-4513.86 2769.37,-4510.82"/>
<polygon fill="black" stroke="black" points="2769.83,-4514.29 2779.3,-4509.53 2768.93,-4507.35 2769.83,-4514.29"/>
</g>
<!-- telegram_bot.load_profiles -->
<g id="node138" class="node">
<title>telegram_bot.load_profiles</title>
<g id="a_node138"><a xlink:title="Populate the global ``profiles`` mapping.">
<polygon fill="none" stroke="black" points="2692.39,-2712.12 2486.39,-2712.12 2486.39,-2676.12 2692.39,-2676.12 2692.39,-2712.12"/>
<text text-anchor="middle" x="2589.39" y="-2690.42" font-family="Times,serif" font-size="14.00">telegram_bot.load_profiles</text>
</a>
</g>
</g>
<!-- telegram_bot.load_profiles&#45;&gt;serde_utils.read_text -->
<g id="edge206" class="edge">
<title>telegram_bot.load_profiles&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M2605.79,-2676.07C2659.91,-2614.16 2849.26,-2409.98 3056.39,-2332.12 3297.26,-2241.56 3385.71,-2364.31 3634.39,-2298.12 3772.54,-2261.34 3919.43,-2172.55 3985.1,-2129.84"/>
<polygon fill="black" stroke="black" points="3987.37,-2132.54 3993.82,-2124.13 3983.54,-2126.68 3987.37,-2132.54"/>
</g>
<!-- telegram_bot.load_state -->
<g id="node139" class="node">
<title>telegram_bot.load_state</title>
<g id="a_node139"><a xlink:title="Populate ``processed_ids`` from ``STATE_PATH``.">
<polygon fill="none" stroke="black" points="2683.39,-3460.12 2495.39,-3460.12 2495.39,-3424.12 2683.39,-3424.12 2683.39,-3460.12"/>
<text text-anchor="middle" x="2589.39" y="-3438.42" font-family="Times,serif" font-size="14.00">telegram_bot.load_state</text>
</a>
</g>
</g>
<!-- telegram_bot.load_state&#45;&gt;serde_utils.read_text -->
<g id="edge207" class="edge">
<title>telegram_bot.load_state&#45;&gt;serde_utils.read_text</title>
<path fill="none" stroke="black" d="M2670.67,-3460.18C2763.11,-3479.98 2919.8,-3510.48 3056.39,-3522.12 3313.3,-3544.01 3389.95,-3554.19 3634.39,-3472.12 3758.41,-3430.47 3821.33,-3442.64 3894.39,-3334.12 3963.74,-3231.1 4010.8,-2308 4019.08,-2134.25"/>
<polygon fill="black" stroke="black" points="4022.58,-2134.27 4019.56,-2124.12 4015.59,-2133.94 4022.58,-2134.27"/>
</g>
<!-- telegram_bot.save_state -->
<g id="node140" class="node">
<title>telegram_bot.save_state</title>
<polygon fill="none" stroke="black" points="2978.89,-2750.12 2787.89,-2750.12 2787.89,-2714.12 2978.89,-2714.12 2978.89,-2750.12"/>
<text text-anchor="middle" x="2883.39" y="-2728.42" font-family="Times,serif" font-size="14.00">telegram_bot.save_state</text>
</g>
<!-- telegram_bot.scan_embeddings -->
<g id="node141" class="node">
<title>telegram_bot.scan_embeddings</title>
<g id="a_node141"><a xlink:title="Load new embeddings and return list of new lot ids.">
<polygon fill="none" stroke="black" points="3311.39,-2685.12 3069.39,-2685.12 3069.39,-2649.12 3311.39,-2649.12 3311.39,-2685.12"/>
<text text-anchor="middle" x="3190.39" y="-2663.42" font-family="Times,serif" font-size="14.00">telegram_bot.scan_embeddings</text>
</a>
</g>
</g>
<!-- telegram_bot.scan_embeddings&#45;&gt;similar_utils._load_embeddings -->
<g id="edge208" class="edge">
<title>telegram_bot.scan_embeddings&#45;&gt;similar_utils._load_embeddings</title>
<path fill="none" stroke="black" d="M3311.06,-2649.07C3329.66,-2646.26 3348.95,-2643.35 3367.74,-2640.52"/>
<polygon fill="black" stroke="black" points="3368.45,-2643.95 3377.81,-2639 3367.4,-2637.03 3368.45,-2643.95"/>
</g>
<!-- telegram_bot._should_suggest -->
<g id="node142" class="node">
<title>telegram_bot._should_suggest</title>
<polygon fill="none" stroke="black" points="2999.89,-3762.12 2766.89,-3762.12 2766.89,-3726.12 2999.89,-3726.12 2999.89,-3762.12"/>
<text text-anchor="middle" x="2883.39" y="-3740.42" font-family="Times,serif" font-size="14.00">telegram_bot._should_suggest</text>
</g>
<!-- telegram_bot._should_suggest&#45;&gt;similar_utils._cos_sim -->
<g id="edge209" class="edge">
<title>telegram_bot._should_suggest&#45;&gt;similar_utils._cos_sim</title>
<path fill="none" stroke="black" d="M3000.06,-3727.11C3007.15,-3724.26 3013.99,-3720.96 3020.39,-3717.12 3042.05,-3704.11 3034.99,-3686.55 3056.39,-3673.12 3068.12,-3665.75 3081.42,-3660.08 3094.95,-3655.71"/>
<polygon fill="black" stroke="black" points="3096.25,-3658.98 3104.82,-3652.76 3094.24,-3652.27 3096.25,-3658.98"/>
</g>
<!-- telegram_bot.enqueue_new_ids -->
<g id="node143" class="node">
<title>telegram_bot.enqueue_new_ids</title>
<polygon fill="none" stroke="black" points="2709.39,-3762.12 2469.39,-3762.12 2469.39,-3726.12 2709.39,-3726.12 2709.39,-3762.12"/>
<text text-anchor="middle" x="2589.39" y="-3740.42" font-family="Times,serif" font-size="14.00">telegram_bot.enqueue_new_ids</text>
</g>
<!-- telegram_bot.enqueue_new_ids&#45;&gt;telegram_bot.save_profiles -->
<g id="edge210" class="edge">
<title>telegram_bot.enqueue_new_ids&#45;&gt;telegram_bot.save_profiles</title>
<path fill="none" stroke="black" d="M2649.59,-3762.12C2672.46,-3772.19 2696.43,-3787.24 2710.39,-3809.12 2780.33,-3918.73 2684.96,-4278.52 2746.39,-4393.12 2765.56,-4428.87 2803.15,-4455.85 2833.96,-4473.21"/>
<polygon fill="black" stroke="black" points="2832.41,-4476.35 2842.86,-4478.07 2835.76,-4470.21 2832.41,-4476.35"/>
</g>
<!-- telegram_bot.enqueue_new_ids&#45;&gt;telegram_bot._should_suggest -->
<g id="edge211" class="edge">
<title>telegram_bot.enqueue_new_ids&#45;&gt;telegram_bot._should_suggest</title>
<path fill="none" stroke="black" d="M2709.58,-3744.12C2725.1,-3744.12 2741.04,-3744.12 2756.67,-3744.12"/>
<polygon fill="black" stroke="black" points="2756.88,-3747.62 2766.88,-3744.12 2756.88,-3740.62 2756.88,-3747.62"/>
</g>
<!-- telegram_bot._send_queue -->
<g id="node144" class="node">
<title>telegram_bot._send_queue</title>
<polygon fill="none" stroke="black" points="2692.39,-3540.12 2486.39,-3540.12 2486.39,-3504.12 2692.39,-3504.12 2692.39,-3540.12"/>
<text text-anchor="middle" x="2589.39" y="-3518.42" font-family="Times,serif" font-size="14.00">telegram_bot._send_queue</text>
</g>
<!-- telegram_bot._send_queue&#45;&gt;telegram_bot.save_profiles -->
<g id="edge212" class="edge">
<title>telegram_bot._send_queue&#45;&gt;telegram_bot.save_profiles</title>
<path fill="none" stroke="black" d="M2623.8,-3540.22C2652.44,-3557.76 2691.9,-3587.24 2710.39,-3625.12 2785.34,-3778.65 2666.78,-4241.94 2746.39,-4393.12 2765.23,-4428.89 2802.65,-4455.8 2833.48,-4473.13"/>
<polygon fill="black" stroke="black" points="2831.94,-4476.27 2842.39,-4477.98 2835.28,-4470.13 2831.94,-4476.27"/>
</g>
<!-- lot_io.get_lot -->
<g id="node145" class="node">
<title>lot_io.get_lot</title>
<g id="a_node145"><a xlink:title="Return the lot identified by ``lot_id`` or ``None`` when missing.">
<polygon fill="none" stroke="black" points="3244.39,-3513.12 3136.39,-3513.12 3136.39,-3477.12 3244.39,-3477.12 3244.39,-3513.12"/>
<text text-anchor="middle" x="3190.39" y="-3491.42" font-family="Times,serif" font-size="14.00">lot_io.get_lot</text>
</a>
</g>
</g>
<!-- telegram_bot._send_queue&#45;&gt;lot_io.get_lot -->
<g id="edge213" class="edge">
<title>telegram_bot._send_queue&#45;&gt;lot_io.get_lot</title>
<path fill="none" stroke="black" d="M2692.68,-3517.5C2816.89,-3511.91 3022.57,-3502.63 3125.94,-3497.98"/>
<polygon fill="black" stroke="black" points="3126.39,-3501.46 3136.22,-3497.51 3126.08,-3494.47 3126.39,-3501.46"/>
</g>
<!-- lot_io.get_lot&#45;&gt;lot_io.read_lots -->
<g id="edge268" class="edge">
<title>lot_io.get_lot&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M3244.61,-3498.21C3272.33,-3496.79 3304.51,-3489.85 3324.39,-3468.12 3421.59,-3361.86 3262.96,-3252.16 3360.39,-3146.12 3376.7,-3128.36 3401.08,-3120.36 3424.71,-3117.21"/>
<polygon fill="black" stroke="black" points="3425.19,-3120.68 3434.76,-3116.14 3424.45,-3113.72 3425.19,-3120.68"/>
</g>
<!-- lot_io.get_lot&#45;&gt;lot_io.parse_lot_id -->
<g id="edge269" class="edge">
<title>lot_io.get_lot&#45;&gt;lot_io.parse_lot_id</title>
<path fill="none" stroke="black" d="M3244.58,-3503.18C3339.2,-3514.14 3536.04,-3521.12 3634.39,-3409.12 3676.92,-3360.68 3648.02,-2890.57 3670.39,-2830.12 3688.34,-2781.59 3727.94,-2735.69 3754.65,-2708.47"/>
<polygon fill="black" stroke="black" points="3757.22,-2710.85 3761.81,-2701.31 3752.27,-2705.9 3757.22,-2710.85"/>
</g>
<!-- telegram_bot.send_alert -->
<g id="node146" class="node">
<title>telegram_bot.send_alert</title>
<g id="a_node146"><a xlink:title="Broadcast ``text`` to all registered users.">
<polygon fill="none" stroke="black" points="2415.89,-2723.12 2225.89,-2723.12 2225.89,-2687.12 2415.89,-2687.12 2415.89,-2723.12"/>
<text text-anchor="middle" x="2320.89" y="-2701.42" font-family="Times,serif" font-size="14.00">telegram_bot.send_alert</text>
</a>
</g>
</g>
<!-- telegram_bot.send_alert&#45;&gt;telegram_bot.load_profiles -->
<g id="edge214" class="edge">
<title>telegram_bot.send_alert&#45;&gt;telegram_bot.load_profiles</title>
<path fill="none" stroke="black" d="M2416.22,-2701.22C2435.56,-2700.42 2456.1,-2699.58 2476.01,-2698.75"/>
<polygon fill="black" stroke="black" points="2476.19,-2702.25 2486.03,-2698.34 2475.9,-2695.26 2476.19,-2702.25"/>
</g>
<!-- telegram_bot.start_cmd -->
<g id="node147" class="node">
<title>telegram_bot.start_cmd</title>
<polygon fill="none" stroke="black" points="2414.39,-4579.12 2227.39,-4579.12 2227.39,-4543.12 2414.39,-4543.12 2414.39,-4579.12"/>
<text text-anchor="middle" x="2320.89" y="-4557.42" font-family="Times,serif" font-size="14.00">telegram_bot.start_cmd</text>
</g>
<!-- telegram_bot.start_cmd&#45;&gt;telegram_bot._t -->
<g id="edge215" class="edge">
<title>telegram_bot.start_cmd&#45;&gt;telegram_bot._t</title>
<path fill="none" stroke="black" d="M2414.72,-4570.52C2447.52,-4573.84 2483.92,-4577.53 2514.89,-4580.67"/>
<polygon fill="black" stroke="black" points="2514.87,-4584.19 2525.17,-4581.71 2515.58,-4577.22 2514.87,-4584.19"/>
</g>
<!-- telegram_bot.start_cmd&#45;&gt;telegram_bot.ensure_profile -->
<g id="edge216" class="edge">
<title>telegram_bot.start_cmd&#45;&gt;telegram_bot.ensure_profile</title>
<path fill="none" stroke="black" d="M2414.72,-4551.71C2432.8,-4549.88 2451.98,-4547.94 2470.74,-4546.03"/>
<polygon fill="black" stroke="black" points="2471.21,-4549.51 2480.81,-4545.01 2470.5,-4542.54 2471.21,-4549.51"/>
</g>
<!-- telegram_bot.lang_cmd -->
<g id="node148" class="node">
<title>telegram_bot.lang_cmd</title>
<polygon fill="none" stroke="black" points="2412.39,-4525.12 2229.39,-4525.12 2229.39,-4489.12 2412.39,-4489.12 2412.39,-4525.12"/>
<text text-anchor="middle" x="2320.89" y="-4503.42" font-family="Times,serif" font-size="14.00">telegram_bot.lang_cmd</text>
</g>
<!-- telegram_bot.lang_cmd&#45;&gt;telegram_bot._t -->
<g id="edge217" class="edge">
<title>telegram_bot.lang_cmd&#45;&gt;telegram_bot._t</title>
<path fill="none" stroke="black" d="M2409.88,-4525.13C2417.64,-4527.76 2425.25,-4530.74 2432.39,-4534.12 2450.47,-4542.66 2450.23,-4552.73 2468.39,-4561.12 2483,-4567.86 2499.41,-4572.97 2515.29,-4576.83"/>
<polygon fill="black" stroke="black" points="2514.56,-4580.25 2525.09,-4579.07 2516.12,-4573.43 2514.56,-4580.25"/>
</g>
<!-- telegram_bot.lang_cmd&#45;&gt;telegram_bot.ensure_profile -->
<g id="edge218" class="edge">
<title>telegram_bot.lang_cmd&#45;&gt;telegram_bot.ensure_profile</title>
<path fill="none" stroke="black" d="M2412.48,-4516.29C2431.12,-4518.18 2450.99,-4520.2 2470.43,-4522.16"/>
<polygon fill="black" stroke="black" points="2470.24,-4525.66 2480.54,-4523.19 2470.95,-4518.7 2470.24,-4525.66"/>
</g>
<!-- telegram_bot.lang_cmd&#45;&gt;telegram_bot.save_profiles -->
<g id="edge219" class="edge">
<title>telegram_bot.lang_cmd&#45;&gt;telegram_bot.save_profiles</title>
<path fill="none" stroke="black" d="M2412.56,-4505.34C2509.66,-4503.43 2663.92,-4500.4 2768.98,-4498.34"/>
<polygon fill="black" stroke="black" points="2769.06,-4501.84 2778.99,-4498.14 2768.92,-4494.84 2769.06,-4501.84"/>
</g>
<!-- telegram_bot.vote_callback -->
<g id="node149" class="node">
<title>telegram_bot.vote_callback</title>
<polygon fill="none" stroke="black" points="2426.39,-4633.12 2215.39,-4633.12 2215.39,-4597.12 2426.39,-4597.12 2426.39,-4633.12"/>
<text text-anchor="middle" x="2320.89" y="-4611.42" font-family="Times,serif" font-size="14.00">telegram_bot.vote_callback</text>
</g>
<!-- telegram_bot.vote_callback&#45;&gt;telegram_bot._t -->
<g id="edge220" class="edge">
<title>telegram_bot.vote_callback&#45;&gt;telegram_bot._t</title>
<path fill="none" stroke="black" d="M2426.45,-4604.52C2456.06,-4601.52 2487.66,-4598.32 2515,-4595.55"/>
<polygon fill="black" stroke="black" points="2515.67,-4599 2525.26,-4594.51 2514.96,-4592.04 2515.67,-4599"/>
</g>
<!-- telegram_bot.vote_callback&#45;&gt;telegram_bot.ensure_profile -->
<g id="edge221" class="edge">
<title>telegram_bot.vote_callback&#45;&gt;telegram_bot.ensure_profile</title>
<path fill="none" stroke="black" d="M2409.88,-4597.1C2417.64,-4594.47 2425.25,-4591.49 2432.39,-4588.12 2450.47,-4579.57 2450.23,-4569.5 2468.39,-4561.12 2472.7,-4559.12 2477.18,-4557.27 2481.75,-4555.56"/>
<polygon fill="black" stroke="black" points="2482.98,-4558.83 2491.25,-4552.21 2480.65,-4552.23 2482.98,-4558.83"/>
</g>
<!-- telegram_bot.vote_callback&#45;&gt;telegram_bot.save_profiles -->
<g id="edge222" class="edge">
<title>telegram_bot.vote_callback&#45;&gt;telegram_bot.save_profiles</title>
<path fill="none" stroke="black" d="M2426.67,-4631.74C2506.34,-4640.44 2617.68,-4644.06 2710.39,-4615.12 2769.18,-4596.76 2825.58,-4550.48 2856.94,-4521.35"/>
<polygon fill="black" stroke="black" points="2859.49,-4523.75 2864.36,-4514.33 2854.69,-4518.66 2859.49,-4523.75"/>
</g>
<!-- telegram_bot.main -->
<g id="node150" class="node">
<title>telegram_bot.main</title>
<polygon fill="none" stroke="black" points="2396.39,-2788.12 2245.39,-2788.12 2245.39,-2752.12 2396.39,-2752.12 2396.39,-2788.12"/>
<text text-anchor="middle" x="2320.89" y="-2766.42" font-family="Times,serif" font-size="14.00">telegram_bot.main</text>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot.load_profiles -->
<g id="edge223" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot.load_profiles</title>
<path fill="none" stroke="black" d="M2380.57,-2752.03C2407.31,-2743.91 2439.39,-2734.33 2468.39,-2726.12 2481.57,-2722.38 2495.61,-2718.52 2509.26,-2714.84"/>
<polygon fill="black" stroke="black" points="2510.37,-2718.17 2519.12,-2712.19 2508.55,-2711.41 2510.37,-2718.17"/>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot.load_state -->
<g id="edge224" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot.load_state</title>
<path fill="none" stroke="black" d="M2323.81,-2788.15C2334.01,-2880.68 2384.47,-3301.58 2468.39,-3397.12 2476.56,-3406.41 2486.84,-3413.8 2497.94,-3419.66"/>
<polygon fill="black" stroke="black" points="2496.46,-3422.83 2506.98,-3424.04 2499.51,-3416.53 2496.46,-3422.83"/>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot.save_state -->
<g id="edge225" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot.save_state</title>
<path fill="none" stroke="black" d="M2396.61,-2765.05C2494.44,-2758.42 2666.5,-2746.75 2777.4,-2739.23"/>
<polygon fill="black" stroke="black" points="2777.86,-2742.71 2787.6,-2738.54 2777.39,-2735.73 2777.86,-2742.71"/>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot.scan_embeddings -->
<g id="edge226" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot.scan_embeddings</title>
<path fill="none" stroke="black" d="M2396.59,-2777.86C2554.5,-2792.82 2916.25,-2819.19 3020.39,-2759.12 3047.32,-2743.58 3031.32,-2717.52 3056.39,-2699.12 3061.23,-2695.56 3066.42,-2692.39 3071.83,-2689.58"/>
<polygon fill="black" stroke="black" points="3073.61,-2692.61 3081.14,-2685.15 3070.6,-2686.28 3073.61,-2692.61"/>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot.enqueue_new_ids -->
<g id="edge227" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot.enqueue_new_ids</title>
<path fill="none" stroke="black" d="M2322.66,-2788.23C2327.88,-2902.86 2360.97,-3527.73 2468.39,-3679.12 2481.7,-3697.88 2502.19,-3711.77 2522.49,-3721.77"/>
<polygon fill="black" stroke="black" points="2521.23,-3725.05 2531.77,-3726.1 2524.19,-3718.7 2521.23,-3725.05"/>
</g>
<!-- telegram_bot.main&#45;&gt;telegram_bot._send_queue -->
<g id="edge228" class="edge">
<title>telegram_bot.main&#45;&gt;telegram_bot._send_queue</title>
<path fill="none" stroke="black" d="M2323.45,-2788.12C2332.31,-2886.51 2379.04,-3358.79 2468.39,-3469.12 2479.05,-3482.28 2493.65,-3492.27 2509,-3499.82"/>
<polygon fill="black" stroke="black" points="2507.55,-3503.01 2518.1,-3503.99 2510.47,-3496.64 2507.55,-3503.01"/>
</g>
<!-- log_utils._extract_tb_lineno -->
<g id="node151" class="node">
<title>log_utils._extract_tb_lineno</title>
<g id="a_node151"><a xlink:title="Return the last line number from a traceback.">
<polygon fill="none" stroke="black" points="3295.89,-4288.12 3084.89,-4288.12 3084.89,-4252.12 3295.89,-4252.12 3295.89,-4288.12"/>
<text text-anchor="middle" x="3190.39" y="-4266.42" font-family="Times,serif" font-size="14.00">log_utils._extract_tb_lineno</text>
</a>
</g>
</g>
<!-- log_utils._add_exc_line -->
<g id="node152" class="node">
<title>log_utils._add_exc_line</title>
<g id="a_node152"><a xlink:title="Attach ``line`` from traceback to structured log events.">
<polygon fill="none" stroke="black" points="2972.39,-4276.12 2794.39,-4276.12 2794.39,-4240.12 2972.39,-4240.12 2972.39,-4276.12"/>
<text text-anchor="middle" x="2883.39" y="-4254.42" font-family="Times,serif" font-size="14.00">log_utils._add_exc_line</text>
</a>
</g>
</g>
<!-- log_utils._add_exc_line&#45;&gt;log_utils._extract_tb_lineno -->
<g id="edge229" class="edge">
<title>log_utils._add_exc_line&#45;&gt;log_utils._extract_tb_lineno</title>
<path fill="none" stroke="black" d="M2972.61,-4261.59C3004.33,-4262.83 3040.61,-4264.26 3074.29,-4265.59"/>
<polygon fill="black" stroke="black" points="3074.52,-4269.1 3084.65,-4265.99 3074.79,-4262.1 3074.52,-4269.1"/>
</g>
<!-- log_utils.init_logger -->
<g id="node153" class="node">
<title>log_utils.init_logger</title>
<g id="a_node153"><a xlink:title="Initialize logger writing to ``LOGFILE``.&#10;&#10;``LOG_LEVEL`` may be set in ``config.py`` or via an environment&#10;variable. &#160;The level accepts ``DEBUG``, ``INFO`` or ``ERROR`` and&#10;defaults to ``INFO``. &#160;The function falls back to the standard&#10;``logging`` module if ``structlog`` isn&#39;t available so the scripts&#10;can still run in minimal environments.">
<polygon fill="none" stroke="black" points="2962.39,-4384.12 2804.39,-4384.12 2804.39,-4348.12 2962.39,-4348.12 2962.39,-4384.12"/>
<text text-anchor="middle" x="2883.39" y="-4362.42" font-family="Times,serif" font-size="14.00">log_utils.init_logger</text>
</a>
</g>
</g>
<!-- log_utils.init_logger&#45;&gt;log_utils._extract_tb_lineno -->
<g id="edge230" class="edge">
<title>log_utils.init_logger&#45;&gt;log_utils._extract_tb_lineno</title>
<path fill="none" stroke="black" d="M2962.69,-4353.23C2981.75,-4349.37 3001.94,-4344.66 3020.39,-4339.12 3062.38,-4326.5 3108.34,-4307.37 3141.72,-4292.45"/>
<polygon fill="black" stroke="black" points="3143.54,-4295.47 3151.22,-4288.16 3140.66,-4289.09 3143.54,-4295.47"/>
</g>
<!-- log_utils.get_logger -->
<g id="node154" class="node">
<title>log_utils.get_logger</title>
<g id="a_node154"><a xlink:title="Return the singleton logger instance.">
<polygon fill="none" stroke="black" points="3268.89,-4384.12 3111.89,-4384.12 3111.89,-4348.12 3268.89,-4348.12 3268.89,-4384.12"/>
<text text-anchor="middle" x="3190.39" y="-4362.42" font-family="Times,serif" font-size="14.00">log_utils.get_logger</text>
</a>
</g>
</g>
<!-- log_utils.init_logger&#45;&gt;log_utils.get_logger -->
<g id="edge231" class="edge">
<title>log_utils.init_logger&#45;&gt;log_utils.get_logger</title>
<path fill="none" stroke="black" d="M2962.54,-4360.14C3005.03,-4359.18 3057.72,-4359.11 3101.62,-4359.94"/>
<polygon fill="black" stroke="black" points="3101.64,-4363.44 3111.71,-4360.15 3101.78,-4356.44 3101.64,-4363.44"/>
</g>
<!-- log_utils.get_logger&#45;&gt;log_utils.init_logger -->
<g id="edge232" class="edge">
<title>log_utils.get_logger&#45;&gt;log_utils.init_logger</title>
<path fill="none" stroke="black" d="M3111.71,-4372.08C3069.29,-4373.05 3016.61,-4373.12 2972.64,-4372.3"/>
<polygon fill="black" stroke="black" points="2972.61,-4368.8 2962.54,-4372.09 2972.46,-4375.8 2972.61,-4368.8"/>
</g>
<!-- log_utils.install_excepthook -->
<g id="node155" class="node">
<title>log_utils.install_excepthook</title>
<g id="a_node155"><a xlink:title="Redirect uncaught exceptions to ``logger.exception``.">
<polygon fill="none" stroke="black" points="2989.89,-4092.12 2776.89,-4092.12 2776.89,-4056.12 2989.89,-4056.12 2989.89,-4092.12"/>
<text text-anchor="middle" x="2883.39" y="-4070.42" font-family="Times,serif" font-size="14.00">log_utils.install_excepthook</text>
</a>
</g>
</g>
<!-- log_utils.install_excepthook&#45;&gt;log_utils._extract_tb_lineno -->
<g id="edge233" class="edge">
<title>log_utils.install_excepthook&#45;&gt;log_utils._extract_tb_lineno</title>
<path fill="none" stroke="black" d="M2915.49,-4092.25C2945.2,-4110.73 2989.85,-4141.66 3020.39,-4177.12 3042.19,-4202.43 3029.5,-4223.27 3056.39,-4243.12 3062.25,-4247.44 3068.64,-4251.12 3075.34,-4254.24"/>
<polygon fill="black" stroke="black" points="3074.08,-4257.51 3084.66,-4258.16 3076.8,-4251.05 3074.08,-4257.51"/>
</g>
<!-- scan_ontology.collect_ontology -->
<g id="node156" class="node">
<title>scan_ontology.collect_ontology</title>
<g id="a_node156"><a xlink:title="Return counts per field, value counters, misparsed lots and broken metadata.">
<polygon fill="none" stroke="black" points="3000.39,-2178.12 2766.39,-2178.12 2766.39,-2142.12 3000.39,-2142.12 3000.39,-2178.12"/>
<text text-anchor="middle" x="2883.39" y="-2156.42" font-family="Times,serif" font-size="14.00">scan_ontology.collect_ontology</text>
</a>
</g>
</g>
<!-- scan_ontology.collect_ontology&#45;&gt;post_io.raw_post_path -->
<g id="edge236" class="edge">
<title>scan_ontology.collect_ontology&#45;&gt;post_io.raw_post_path</title>
<path fill="none" stroke="black" d="M2937.81,-2142C2966.95,-2129.3 3000.95,-2109.3 3020.39,-2080.12 3085.79,-1981.92 2973.93,-1901.5 3056.39,-1817.12 3140.7,-1730.84 3241.99,-1862.23 3324.39,-1774.12 3383.83,-1710.54 3302.12,-1448.77 3360.39,-1384.12 3370.9,-1372.45 3384.88,-1364.98 3399.88,-1360.32"/>
<polygon fill="black" stroke="black" points="3401.1,-1363.62 3409.86,-1357.65 3399.29,-1356.85 3401.1,-1363.62"/>
</g>
<!-- scan_ontology.collect_ontology&#45;&gt;post_io.read_post -->
<g id="edge235" class="edge">
<title>scan_ontology.collect_ontology&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M2940.68,-2141.98C2969.79,-2129.47 3002.82,-2109.66 3020.39,-2080.12 3080.9,-1978.35 2971.26,-1097.41 3056.39,-1015.12 3105.93,-967.22 3303.96,-993.74 3416.73,-1013.61"/>
<polygon fill="black" stroke="black" points="3416.24,-1017.08 3426.7,-1015.39 3417.47,-1010.18 3416.24,-1017.08"/>
</g>
<!-- scan_ontology.collect_ontology&#45;&gt;moderation.is_misparsed -->
<g id="edge234" class="edge">
<title>scan_ontology.collect_ontology&#45;&gt;moderation.is_misparsed</title>
<path fill="none" stroke="black" d="M2991.4,-2178.26C3002.62,-2184.19 3012.71,-2191.96 3020.39,-2202.12 3072.59,-2271.19 3000.82,-3693.72 3056.39,-3760.12 3063.57,-3768.69 3072.65,-3775.02 3082.7,-3779.63"/>
<polygon fill="black" stroke="black" points="3081.58,-3782.95 3092.16,-3783.4 3084.17,-3776.45 3081.58,-3782.95"/>
</g>
<!-- scan_ontology.collect_ontology&#45;&gt;lot_io.read_lots -->
<g id="edge238" class="edge">
<title>scan_ontology.collect_ontology&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M2990.9,-2178.22C3002.28,-2184.16 3012.55,-2191.93 3020.39,-2202.12 3079.82,-2279.3 2989.31,-3007.47 3056.39,-3078.12 3068.87,-3091.26 3302.73,-3107.34 3424.3,-3114.86"/>
<polygon fill="black" stroke="black" points="3424.44,-3118.38 3434.63,-3115.5 3424.86,-3111.39 3424.44,-3118.38"/>
</g>
<!-- message_utils.gather_chop_input -->
<g id="node157" class="node">
<title>message_utils.gather_chop_input</title>
<g id="a_node157"><a xlink:title="Return the exact text fed to the lot parser for ``msg_path``.">
<polygon fill="none" stroke="black" points="3317.39,-2117.12 3063.39,-2117.12 3063.39,-2081.12 3317.39,-2081.12 3317.39,-2117.12"/>
<text text-anchor="middle" x="3190.39" y="-2095.42" font-family="Times,serif" font-size="14.00">message_utils.gather_chop_input</text>
</a>
</g>
</g>
<!-- scan_ontology.collect_ontology&#45;&gt;message_utils.gather_chop_input -->
<g id="edge237" class="edge">
<title>scan_ontology.collect_ontology&#45;&gt;message_utils.gather_chop_input</title>
<path fill="none" stroke="black" d="M2974.66,-2142.06C3010.63,-2134.87 3052.17,-2126.56 3089.07,-2119.18"/>
<polygon fill="black" stroke="black" points="3090.23,-2122.52 3099.35,-2117.12 3088.85,-2115.65 3090.23,-2122.52"/>
</g>
<!-- message_utils.gather_chop_input&#45;&gt;caption_io.read_caption -->
<g id="edge243" class="edge">
<title>message_utils.gather_chop_input&#45;&gt;caption_io.read_caption</title>
<path fill="none" stroke="black" d="M3274.73,-2081.08C3314.49,-2072.48 3362.2,-2062.15 3403.16,-2053.29"/>
<polygon fill="black" stroke="black" points="3404.11,-2056.66 3413.15,-2051.13 3402.63,-2049.82 3404.11,-2056.66"/>
</g>
<!-- message_utils.gather_chop_input&#45;&gt;post_io.read_post -->
<g id="edge244" class="edge">
<title>message_utils.gather_chop_input&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M3229.82,-2081.06C3261.32,-2063.99 3303.91,-2035.17 3324.39,-1996.12 3393.21,-1864.85 3325.27,-1474.11 3360.39,-1330.12 3386.48,-1223.12 3449.96,-1107.26 3480.05,-1056.05"/>
<polygon fill="black" stroke="black" points="3483.17,-1057.65 3485.26,-1047.26 3477.15,-1054.08 3483.17,-1057.65"/>
</g>
<!-- message_utils.build_prompt -->
<g id="node160" class="node">
<title>message_utils.build_prompt</title>
<g id="a_node160"><a xlink:title="Return prompt combining message text with captioned file names.">
<polygon fill="none" stroke="black" points="3605.89,-2235.12 3388.89,-2235.12 3388.89,-2199.12 3605.89,-2199.12 3605.89,-2235.12"/>
<text text-anchor="middle" x="3497.39" y="-2213.42" font-family="Times,serif" font-size="14.00">message_utils.build_prompt</text>
</a>
</g>
</g>
<!-- message_utils.gather_chop_input&#45;&gt;message_utils.build_prompt -->
<g id="edge245" class="edge">
<title>message_utils.gather_chop_input&#45;&gt;message_utils.build_prompt</title>
<path fill="none" stroke="black" d="M3299.6,-2117.21C3308.4,-2121.01 3316.8,-2125.59 3324.39,-2131.12 3349.22,-2149.2 3335.2,-2172.53 3360.39,-2190.12 3366.16,-2194.14 3372.38,-2197.6 3378.88,-2200.57"/>
<polygon fill="black" stroke="black" points="3378,-2204 3388.58,-2204.58 3380.68,-2197.53 3378,-2204"/>
</g>
<!-- scan_ontology.main -->
<g id="node158" class="node">
<title>scan_ontology.main</title>
<polygon fill="none" stroke="black" points="2666.89,-2963.12 2511.89,-2963.12 2511.89,-2927.12 2666.89,-2927.12 2666.89,-2963.12"/>
<text text-anchor="middle" x="2589.39" y="-2941.42" font-family="Times,serif" font-size="14.00">scan_ontology.main</text>
</g>
<!-- scan_ontology.main&#45;&gt;serde_utils.write_json -->
<g id="edge239" class="edge">
<title>scan_ontology.main&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M2667.24,-2946.13C2832.25,-2948.32 3220.08,-2953.46 3400.7,-2955.85"/>
<polygon fill="black" stroke="black" points="3400.68,-2959.35 3410.72,-2955.98 3400.77,-2952.35 3400.68,-2959.35"/>
</g>
<!-- scan_ontology.main&#45;&gt;log_utils.install_excepthook -->
<g id="edge240" class="edge">
<title>scan_ontology.main&#45;&gt;log_utils.install_excepthook</title>
<path fill="none" stroke="black" d="M2597.64,-2963.38C2619.4,-3019.17 2684.27,-3192.73 2710.39,-3343.12 2723.79,-3420.28 2695.16,-3987.87 2746.39,-4047.12 2752.39,-4054.06 2759.63,-4059.54 2767.59,-4063.83"/>
<polygon fill="black" stroke="black" points="2766.33,-4067.1 2776.87,-4068.18 2769.3,-4060.76 2766.33,-4067.1"/>
</g>
<!-- scan_ontology.main&#45;&gt;scan_ontology.collect_ontology -->
<g id="edge241" class="edge">
<title>scan_ontology.main&#45;&gt;scan_ontology.collect_ontology</title>
<path fill="none" stroke="black" d="M2603.52,-2927.1C2629.41,-2890.48 2686.57,-2803.78 2710.39,-2721.12 2742.4,-2610.02 2674.57,-2292.71 2746.39,-2202.12 2752.37,-2194.57 2759.68,-2188.35 2767.78,-2183.22"/>
<polygon fill="black" stroke="black" points="2769.52,-2186.26 2776.48,-2178.27 2766.06,-2180.17 2769.52,-2186.26"/>
</g>
<!-- notes_utils.collect_notes -->
<g id="node159" class="node">
<title>notes_utils.collect_notes</title>
<g id="a_node159"><a xlink:title="Return combined notes if ``notes/`` exists.">
<polygon fill="none" stroke="black" points="3592.89,-425.12 3401.89,-425.12 3401.89,-389.12 3592.89,-389.12 3592.89,-425.12"/>
<text text-anchor="middle" x="3497.39" y="-403.42" font-family="Times,serif" font-size="14.00">notes_utils.collect_notes</text>
</a>
</g>
</g>
<!-- notes_utils.collect_notes&#45;&gt;serde_utils.read_md -->
<g id="edge242" class="edge">
<title>notes_utils.collect_notes&#45;&gt;serde_utils.read_md</title>
<path fill="none" stroke="black" d="M3593,-415.35C3608.34,-420.39 3622.93,-427.93 3634.39,-439.12 3713.29,-516.12 3764.51,-871.11 3777.89,-974.06"/>
<polygon fill="black" stroke="black" points="3774.43,-974.54 3779.17,-984.02 3781.37,-973.65 3774.43,-974.54"/>
</g>
<!-- chop.process_message -->
<g id="node161" class="node">
<title>chop.process_message</title>
<polygon fill="none" stroke="black" points="2972.89,-2071.12 2793.89,-2071.12 2793.89,-2035.12 2972.89,-2035.12 2972.89,-2071.12"/>
<text text-anchor="middle" x="2883.39" y="-2049.42" font-family="Times,serif" font-size="14.00">chop.process_message</text>
</g>
<!-- chop.process_message&#45;&gt;caption_io.has_caption -->
<g id="edge246" class="edge">
<title>chop.process_message&#45;&gt;caption_io.has_caption</title>
<path fill="none" stroke="black" d="M2934.05,-2035.1C2963.96,-2021.61 3000.07,-2000.09 3020.39,-1969.12 3081.72,-1875.62 2973.79,-1795.49 3056.39,-1720.12 3104.58,-1676.13 3283.95,-1680.56 3398.25,-1688.4"/>
<polygon fill="black" stroke="black" points="3398.2,-1691.91 3408.42,-1689.12 3398.69,-1684.92 3398.2,-1691.91"/>
</g>
<!-- chop.process_message&#45;&gt;caption_io.read_caption -->
<g id="edge247" class="edge">
<title>chop.process_message&#45;&gt;caption_io.read_caption</title>
<path fill="none" stroke="black" d="M2973.05,-2050.22C3084.91,-2046.56 3276.84,-2040.29 3394.58,-2036.44"/>
<polygon fill="black" stroke="black" points="3394.8,-2039.94 3404.68,-2036.11 3394.57,-2032.94 3394.8,-2039.94"/>
</g>
<!-- chop.process_message&#45;&gt;post_io.read_post -->
<g id="edge250" class="edge">
<title>chop.process_message&#45;&gt;post_io.read_post</title>
<path fill="none" stroke="black" d="M2936.92,-2035.07C2966.92,-2021.8 3002.11,-2000.54 3020.39,-1969.12 3075.85,-1873.78 2977,-1053.68 3056.39,-977.12 3142.13,-894.43 3206.56,-959.69 3324.39,-977.12 3364.13,-982.99 3407.42,-996.12 3440.62,-1007.71"/>
<polygon fill="black" stroke="black" points="3439.55,-1011.04 3450.15,-1011.09 3441.9,-1004.45 3439.55,-1011.04"/>
</g>
<!-- chop.process_message&#45;&gt;moderation.should_skip_message -->
<g id="edge248" class="edge">
<title>chop.process_message&#45;&gt;moderation.should_skip_message</title>
<path fill="none" stroke="black" d="M2973.22,-2060.28C2990.5,-2065.24 3007.29,-2073.02 3020.39,-2085.12 3058.81,-2120.58 3018.06,-2161.55 3056.39,-2197.12 3059.81,-2200.29 3063.49,-2203.17 3067.37,-2205.77"/>
<polygon fill="black" stroke="black" points="3065.78,-2208.9 3076.16,-2211.05 3069.39,-2202.9 3065.78,-2208.9"/>
</g>
<!-- chop.process_message&#45;&gt;token_utils.estimate_tokens -->
<g id="edge249" class="edge">
<title>chop.process_message&#45;&gt;token_utils.estimate_tokens</title>
<path fill="none" stroke="black" d="M2932.92,-2035.1C2962.77,-2021.5 2999.24,-1999.87 3020.39,-1969.12 3069.09,-1898.3 2997.12,-1841.36 3056.39,-1779.12 3061.51,-1773.74 3067.37,-1769.19 3073.7,-1765.36"/>
<polygon fill="black" stroke="black" points="3075.46,-1768.39 3082.61,-1760.57 3072.15,-1762.22 3075.46,-1768.39"/>
</g>
<!-- chop.process_message&#45;&gt;lot_io.needs_cleanup -->
<g id="edge254" class="edge">
<title>chop.process_message&#45;&gt;lot_io.needs_cleanup</title>
<path fill="none" stroke="black" d="M2939.04,-2071.17C2968.21,-2083.77 3001.83,-2103.69 3020.39,-2133.12 3069.78,-2211.41 2988.16,-2485.55 3056.39,-2548.12 3100.28,-2588.37 3265.19,-2554.61 3324.39,-2548.12 3340.68,-2546.33 3344.35,-2543.49 3360.39,-2540.12 3374.74,-2537.1 3389.97,-2533.98 3404.84,-2530.99"/>
<polygon fill="black" stroke="black" points="3405.94,-2534.34 3415.06,-2528.95 3404.57,-2527.48 3405.94,-2534.34"/>
</g>
<!-- chop.process_message&#45;&gt;message_utils.build_prompt -->
<g id="edge251" class="edge">
<title>chop.process_message&#45;&gt;message_utils.build_prompt</title>
<path fill="none" stroke="black" d="M2973.1,-2065.6C2989.54,-2070.21 3006.04,-2076.5 3020.39,-2085.12 3041.18,-2097.6 3035.16,-2114.39 3056.39,-2126.12 3161.98,-2184.44 3210.8,-2128.48 3324.39,-2169.12 3341.83,-2175.36 3343.06,-2183.55 3360.39,-2190.12 3366.3,-2192.35 3372.42,-2194.42 3378.66,-2196.32"/>
<polygon fill="black" stroke="black" points="3377.96,-2199.76 3388.54,-2199.17 3379.91,-2193.03 3377.96,-2199.76"/>
</g>
<!-- embed.embed_file -->
<g id="node162" class="node">
<title>embed.embed_file</title>
<g id="a_node162"><a xlink:title="Embed ``path`` and write the result beside it under ``EMBED_DIR``.">
<polygon fill="none" stroke="black" points="3263.39,-3069.12 3117.39,-3069.12 3117.39,-3033.12 3263.39,-3033.12 3263.39,-3069.12"/>
<text text-anchor="middle" x="3190.39" y="-3047.42" font-family="Times,serif" font-size="14.00">embed.embed_file</text>
</a>
</g>
</g>
<!-- chop.process_message&#45;&gt;embed.embed_file -->
<g id="edge252" class="edge">
<title>chop.process_message&#45;&gt;embed.embed_file</title>
<path fill="none" stroke="black" d="M2940.26,-2071.15C2969.43,-2083.66 3002.65,-2103.51 3020.39,-2133.12 3071.31,-2218.11 2992.15,-2948.68 3056.39,-3024.12 3069.14,-3039.08 3087.71,-3047.16 3106.95,-3051.25"/>
<polygon fill="black" stroke="black" points="3106.59,-3054.74 3117.04,-3053.04 3107.81,-3047.85 3106.59,-3054.74"/>
</g>
<!-- lot_io.valid_lots -->
<g id="node163" class="node">
<title>lot_io.valid_lots</title>
<g id="a_node163"><a xlink:title="Return ``True`` when every lot contains the required translations.">
<polygon fill="none" stroke="black" points="3560.89,-2289.12 3433.89,-2289.12 3433.89,-2253.12 3560.89,-2253.12 3560.89,-2289.12"/>
<text text-anchor="middle" x="3497.39" y="-2267.42" font-family="Times,serif" font-size="14.00">lot_io.valid_lots</text>
</a>
</g>
</g>
<!-- chop.process_message&#45;&gt;lot_io.valid_lots -->
<g id="edge253" class="edge">
<title>chop.process_message&#45;&gt;lot_io.valid_lots</title>
<path fill="none" stroke="black" d="M2973.12,-2061.93C2990.11,-2066.8 3006.81,-2074.14 3020.39,-2085.12 3049.46,-2108.61 3026.41,-2138.79 3056.39,-2161.12 3153.03,-2233.09 3219.05,-2143.61 3324.39,-2202.12 3345.88,-2214.05 3339.16,-2231.71 3360.39,-2244.12 3379.4,-2255.23 3402.2,-2261.85 3423.65,-2265.77"/>
<polygon fill="black" stroke="black" points="3423.28,-2269.26 3433.72,-2267.43 3424.42,-2262.35 3423.28,-2269.26"/>
</g>
<!-- embed.embed_file&#45;&gt;serde_utils.write_json -->
<g id="edge256" class="edge">
<title>embed.embed_file&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M3263.41,-3045.05C3284.07,-3041.1 3305.98,-3034.64 3324.39,-3024.12 3345.15,-3012.25 3339.6,-2995.94 3360.39,-2984.12 3372.8,-2977.06 3386.76,-2971.82 3400.89,-2967.94"/>
<polygon fill="black" stroke="black" points="3401.84,-2971.31 3410.68,-2965.47 3400.12,-2964.53 3401.84,-2971.31"/>
</g>
<!-- embed.embed_file&#45;&gt;lot_io.read_lots -->
<g id="edge257" class="edge">
<title>embed.embed_file&#45;&gt;lot_io.read_lots</title>
<path fill="none" stroke="black" d="M3263.55,-3068.35C3283.28,-3073.1 3304.67,-3078.28 3324.39,-3083.12 3340.41,-3087.04 3344.29,-3088.51 3360.39,-3092.12 3381.18,-3096.78 3403.85,-3101.44 3424.62,-3105.55"/>
<polygon fill="black" stroke="black" points="3424.16,-3109.03 3434.64,-3107.52 3425.51,-3102.16 3424.16,-3109.03"/>
</g>
<!-- lot_io.make_lot_id -->
<g id="node165" class="node">
<title>lot_io.make_lot_id</title>
<g id="a_node165"><a xlink:title="Return lot id string for ``rel`` and ``index``.&#10;&#10;``rel`` is the JSON file path relative to the ``data/lots`` directory&#10;without the ``.json`` suffix.">
<polygon fill="none" stroke="black" points="3568.89,-3083.12 3425.89,-3083.12 3425.89,-3047.12 3568.89,-3047.12 3568.89,-3083.12"/>
<text text-anchor="middle" x="3497.39" y="-3061.42" font-family="Times,serif" font-size="14.00">lot_io.make_lot_id</text>
</a>
</g>
</g>
<!-- embed.embed_file&#45;&gt;lot_io.make_lot_id -->
<g id="edge258" class="edge">
<title>embed.embed_file&#45;&gt;lot_io.make_lot_id</title>
<path fill="none" stroke="black" d="M3263.67,-3054.43C3309.29,-3056.53 3368.31,-3059.24 3415.49,-3061.4"/>
<polygon fill="black" stroke="black" points="3415.53,-3064.91 3425.68,-3061.87 3415.85,-3057.91 3415.53,-3064.91"/>
</g>
<!-- chop.main -->
<g id="node164" class="node">
<title>chop.main</title>
<g id="a_node164"><a xlink:title="Process a single message file passed on the command line.">
<polygon fill="none" stroke="black" points="1370.89,-2263.12 1280.89,-2263.12 1280.89,-2227.12 1370.89,-2227.12 1370.89,-2263.12"/>
<text text-anchor="middle" x="1325.89" y="-2241.42" font-family="Times,serif" font-size="14.00">chop.main</text>
</a>
</g>
</g>
<!-- chop.main&#45;&gt;chop.process_message -->
<g id="edge255" class="edge">
<title>chop.main&#45;&gt;chop.process_message</title>
<path fill="none" stroke="black" d="M1371.12,-2243.92C1457.48,-2241.69 1654.58,-2237.12 1820.39,-2237.12 1820.39,-2237.12 1820.39,-2237.12 2321.89,-2237.12 2494.88,-2237.12 2568.08,-2311.48 2710.39,-2213.12 2742.46,-2190.95 2720.36,-2162.14 2746.39,-2133.12 2768.65,-2108.29 2800.49,-2088.98 2827.77,-2075.56"/>
<polygon fill="black" stroke="black" points="2829.31,-2078.7 2836.83,-2071.24 2826.3,-2072.39 2829.31,-2078.7"/>
</g>
<!-- embed.main -->
<g id="node166" class="node">
<title>embed.main</title>
<g id="a_node166"><a xlink:title="Embed the file given on the command line.">
<polygon fill="none" stroke="black" points="794.5,-3069.12 690.5,-3069.12 690.5,-3033.12 794.5,-3033.12 794.5,-3069.12"/>
<text text-anchor="middle" x="742.5" y="-3047.42" font-family="Times,serif" font-size="14.00">embed.main</text>
</a>
</g>
</g>
<!-- embed.main&#45;&gt;embed.embed_file -->
<g id="edge259" class="edge">
<title>embed.main&#45;&gt;embed.embed_file</title>
<path fill="none" stroke="black" d="M794.53,-3051.12C864.36,-3051.12 993.61,-3051.12 1103.89,-3051.12 1103.89,-3051.12 1103.89,-3051.12 2590.39,-3051.12 2774.87,-3051.12 2991.31,-3051.12 3106.83,-3051.12"/>
<polygon fill="black" stroke="black" points="3107.01,-3054.62 3117.01,-3051.12 3107.01,-3047.62 3107.01,-3054.62"/>
</g>
<!-- lot_io.get_timestamp -->
<g id="node168" class="node">
<title>lot_io.get_timestamp</title>
<g id="a_node168"><a xlink:title="Return ``lot[&#39;timestamp&#39;]`` as a timezone&#45;aware ``datetime``.">
<polygon fill="none" stroke="black" points="3580.39,-3751.12 3414.39,-3751.12 3414.39,-3715.12 3580.39,-3715.12 3580.39,-3751.12"/>
<text text-anchor="middle" x="3497.39" y="-3729.42" font-family="Times,serif" font-size="14.00">lot_io.get_timestamp</text>
</a>
</g>
</g>
<!-- lot_io.write_lots -->
<g id="node169" class="node">
<title>lot_io.write_lots</title>
<g id="a_node169"><a xlink:title="Write lots to ``path`` using consistent JSON formatting.">
<polygon fill="none" stroke="black" points="3255.39,-3751.12 3125.39,-3751.12 3125.39,-3715.12 3255.39,-3715.12 3255.39,-3751.12"/>
<text text-anchor="middle" x="3190.39" y="-3729.42" font-family="Times,serif" font-size="14.00">lot_io.write_lots</text>
</a>
</g>
</g>
<!-- lot_io.write_lots&#45;&gt;serde_utils.write_json -->
<g id="edge262" class="edge">
<title>lot_io.write_lots&#45;&gt;serde_utils.write_json</title>
<path fill="none" stroke="black" d="M3255.55,-3733.38C3280.81,-3729.96 3307.71,-3721.22 3324.39,-3701.12 3426.23,-3578.32 3256.1,-3104.84 3360.39,-2984.12 3371.01,-2971.82 3385.48,-2964.13 3401.04,-2959.48"/>
<polygon fill="black" stroke="black" points="3402.03,-2962.84 3410.84,-2956.95 3400.28,-2956.06 3402.03,-2962.84"/>
</g>
<!-- lot_io.write_lots&#45;&gt;lot_io.get_seller -->
<g id="edge264" class="edge">
<title>lot_io.write_lots&#45;&gt;lot_io.get_seller</title>
<path fill="none" stroke="black" d="M3255.56,-3745.03C3277.48,-3749.39 3302.08,-3754.62 3324.39,-3760.12 3359.14,-3768.68 3397.41,-3779.65 3429.01,-3789.13"/>
<polygon fill="black" stroke="black" points="3428.01,-3792.48 3438.59,-3792.02 3430.03,-3785.78 3428.01,-3792.48"/>
</g>
<!-- lot_io.write_lots&#45;&gt;lot_io._clean_lot -->
<g id="edge263" class="edge">
<title>lot_io.write_lots&#45;&gt;lot_io._clean_lot</title>
<path fill="none" stroke="black" d="M3255.56,-3722.73C3363.9,-3704.1 3576.93,-3662.41 3634.39,-3614.12 3724.22,-3538.62 3763.14,-3395.52 3776.08,-3335.13"/>
<polygon fill="black" stroke="black" points="3779.54,-3335.68 3778.13,-3325.18 3772.68,-3334.26 3779.54,-3335.68"/>
</g>
<!-- lot_io.write_lots&#45;&gt;lot_io.get_timestamp -->
<g id="edge265" class="edge">
<title>lot_io.write_lots&#45;&gt;lot_io.get_timestamp</title>
<path fill="none" stroke="black" d="M3255.7,-3733.12C3298.77,-3733.12 3356.15,-3733.12 3404.08,-3733.12"/>
<polygon fill="black" stroke="black" points="3404.16,-3736.62 3414.16,-3733.12 3404.16,-3729.62 3404.16,-3736.62"/>
</g>
<!-- build_site -->
<g id="node171" class="node">
<title>build_site</title>
<ellipse fill="none" stroke="black" cx="129.5" cy="-3244.12" rx="55.79" ry="18"/>
<text text-anchor="middle" x="129.5" y="-3240.42" font-family="Times,serif" font-size="14.00">build_site</text>
</g>
<!-- build_site&#45;&gt;build_site.main -->
<g id="edge270" class="edge">
<title>build_site:cli&#45;&gt;build_site.main</title>
<path fill="none" stroke="black" d="M151.83,-3260.91C213.7,-3307.86 400.08,-3437.12 577,-3437.12 577,-3437.12 577,-3437.12 1822.39,-3437.12 2054.52,-3437.12 2246.8,-3700.87 2303.14,-3786.57"/>
<polygon fill="black" stroke="black" points="2300.23,-3788.5 2308.61,-3794.98 2306.09,-3784.69 2300.23,-3788.5"/>
</g>
<!-- embed -->
<g id="node172" class="node">
<title>embed</title>
<ellipse fill="none" stroke="black" cx="384" cy="-3051.12" rx="42.49" ry="18"/>
<text text-anchor="middle" x="384" y="-3047.42" font-family="Times,serif" font-size="14.00">embed</text>
</g>
<!-- build_site&#45;&gt;embed -->
<!-- embed&#45;&gt;embed.main -->
<g id="edge272" class="edge">
<title>embed:cli&#45;&gt;embed.main</title>
<path fill="none" stroke="black" d="M426.59,-3051.12C489.09,-3051.12 607.6,-3051.12 680.07,-3051.12"/>
<polygon fill="black" stroke="black" points="680.42,-3054.62 690.42,-3051.12 680.42,-3047.62 680.42,-3054.62"/>
</g>
<!-- caption -->
<g id="node173" class="node">
<title>caption</title>
<ellipse fill="none" stroke="black" cx="578" cy="-2854.12" rx="44.69" ry="18"/>
<text text-anchor="middle" x="578" y="-2850.42" font-family="Times,serif" font-size="14.00">caption</text>
</g>
<!-- embed&#45;&gt;caption -->
<!-- caption&#45;&gt;caption.main -->
<g id="edge274" class="edge">
<title>caption:cli&#45;&gt;caption.main</title>
<path fill="none" stroke="black" d="M622.97,-2854.12C639.87,-2854.12 659.5,-2854.12 677.88,-2854.12"/>
<polygon fill="black" stroke="black" points="677.93,-2857.62 687.93,-2854.12 677.93,-2850.62 677.93,-2857.62"/>
</g>
<!-- tg_client -->
<g id="node174" class="node">
<title>tg_client</title>
<ellipse fill="none" stroke="black" cx="742.5" cy="-2222.12" rx="50.89" ry="18"/>
<text text-anchor="middle" x="742.5" y="-2218.42" font-family="Times,serif" font-size="14.00">tg_client</text>
</g>
<!-- caption&#45;&gt;tg_client -->
<!-- tg_client&#45;&gt;tg_client.main -->
<g id="edge276" class="edge">
<title>tg_client:cli&#45;&gt;tg_client.main</title>
<path fill="none" stroke="black" d="M745.37,-2204.13C761.94,-2044.48 883.75,-870.95 904.27,-673.33"/>
<polygon fill="black" stroke="black" points="907.77,-673.49 905.32,-663.18 900.8,-672.77 907.77,-673.49"/>
</g>
<!-- debug_dump -->
<g id="node175" class="node">
<title>debug_dump</title>
<ellipse fill="none" stroke="black" cx="908.19" cy="-2222.12" rx="70.39" ry="18"/>
<text text-anchor="middle" x="908.19" y="-2218.42" font-family="Times,serif" font-size="14.00">debug_dump</text>
</g>
<!-- tg_client&#45;&gt;debug_dump -->
<!-- debug_dump&#45;&gt;debug_dump.main -->
<g id="edge278" class="edge">
<title>debug_dump:cli&#45;&gt;debug_dump.main</title>
<path fill="none" stroke="black" d="M974.65,-2216.25C1056.49,-2209.44 1200.93,-2199.12 1324.89,-2199.12 1324.89,-2199.12 1324.89,-2199.12 2321.89,-2199.12 2433.56,-2199.12 2735.49,-2028.42 2843.39,-1965.25"/>
<polygon fill="black" stroke="black" points="2845.17,-1968.27 2852.03,-1960.19 2841.63,-1962.23 2845.17,-1968.27"/>
</g>
<!-- chop -->
<g id="node176" class="node">
<title>chop</title>
<ellipse fill="none" stroke="black" cx="1104.89" cy="-2245.12" rx="32.49" ry="18"/>
<text text-anchor="middle" x="1104.89" y="-2241.42" font-family="Times,serif" font-size="14.00">chop</text>
</g>
<!-- debug_dump&#45;&gt;chop -->
<!-- chop&#45;&gt;chop.main -->
<g id="edge280" class="edge">
<title>chop:cli&#45;&gt;chop.main</title>
<path fill="none" stroke="black" d="M1137.73,-2245.12C1172.47,-2245.12 1228.7,-2245.12 1270.47,-2245.12"/>
<polygon fill="black" stroke="black" points="1270.49,-2248.62 1280.49,-2245.12 1270.49,-2241.62 1270.49,-2248.62"/>
</g>
<!-- clean_data -->
<g id="node177" class="node">
<title>clean_data</title>
<ellipse fill="none" stroke="black" cx="1325.89" cy="-2648.12" rx="59.59" ry="18"/>
<text text-anchor="middle" x="1325.89" y="-2644.42" font-family="Times,serif" font-size="14.00">clean_data</text>
</g>
<!-- chop&#45;&gt;clean_data -->
<!-- clean_data&#45;&gt;clean_data.main -->
<g id="edge282" class="edge">
<title>clean_data:cli&#45;&gt;clean_data.main</title>
<path fill="none" stroke="black" d="M1385.76,-2648.12C1478.28,-2648.12 1663.38,-2648.12 1820.39,-2648.12 1820.39,-2648.12 1820.39,-2648.12 2321.89,-2648.12 2495.72,-2648.12 2699.63,-2636.93 2807.17,-2630.16"/>
<polygon fill="black" stroke="black" points="2807.51,-2633.65 2817.27,-2629.52 2807.07,-2626.66 2807.51,-2633.65"/>
</g>
<!-- moderation -->
<g id="node178" class="node">
<title>moderation</title>
<ellipse fill="none" stroke="black" cx="1573.39" cy="-2694.12" rx="63.89" ry="18"/>
<text text-anchor="middle" x="1573.39" y="-2690.42" font-family="Times,serif" font-size="14.00">moderation</text>
</g>
<!-- clean_data&#45;&gt;moderation -->
<!-- moderation&#45;&gt;moderation.apply_to_history -->
<g id="edge284" class="edge">
<title>moderation:cli&#45;&gt;moderation.apply_to_history</title>
<path fill="none" stroke="black" d="M1618.64,-2681.27C1703.72,-2657.74 1896.35,-2610.12 2061.89,-2610.12 2061.89,-2610.12 2061.89,-2610.12 2321.89,-2610.12 2555.77,-2610.12 2547.47,-2422.12 2746.39,-2299.12 2774.67,-2281.62 2807.83,-2264.49 2834.32,-2251.56"/>
<polygon fill="black" stroke="black" points="2835.92,-2254.67 2843.4,-2247.16 2832.87,-2248.37 2835.92,-2254.67"/>
</g>
<!-- scan_ontology -->
<g id="node179" class="node">
<title>scan_ontology</title>
<ellipse fill="none" stroke="black" cx="1821.39" cy="-2724.12" rx="76.09" ry="18"/>
<text text-anchor="middle" x="1821.39" y="-2720.42" font-family="Times,serif" font-size="14.00">scan_ontology</text>
</g>
<!-- moderation&#45;&gt;scan_ontology -->
<!-- scan_ontology&#45;&gt;scan_ontology.main -->
<g id="edge286" class="edge">
<title>scan_ontology:cli&#45;&gt;scan_ontology.main</title>
<path fill="none" stroke="black" d="M1845.58,-2741.45C1870.67,-2759.4 1912.46,-2787.03 1952.39,-2803.12 2140.2,-2878.76 2376.25,-2918.04 2501.3,-2934.83"/>
<polygon fill="black" stroke="black" points="2501.21,-2938.35 2511.58,-2936.19 2502.13,-2931.41 2501.21,-2938.35"/>
</g>
<!-- telegram_bot -->
<g id="node180" class="node">
<title>telegram_bot</title>
<ellipse fill="none" stroke="black" cx="2062.89" cy="-2724.12" rx="72.29" ry="18"/>
<text text-anchor="middle" x="2062.89" y="-2720.42" font-family="Times,serif" font-size="14.00">telegram_bot</text>
</g>
<!-- scan_ontology&#45;&gt;telegram_bot -->
<!-- telegram_bot&#45;&gt;telegram_bot.send_alert -->
<g id="edge288" class="edge">
<title>telegram_bot:cli&#45;&gt;telegram_bot.send_alert</title>
<path fill="none" stroke="black" d="M2132.15,-2719.05C2157.75,-2717.15 2187.45,-2714.95 2215.56,-2712.86"/>
<polygon fill="black" stroke="black" points="2216.13,-2716.33 2225.84,-2712.1 2215.61,-2709.35 2216.13,-2716.33"/>
</g>
<!-- telegram_bot&#45;&gt;telegram_bot.main -->
<g id="edge289" class="edge">
<title>telegram_bot:cli&#45;&gt;telegram_bot.main</title>
<path fill="none" stroke="black" d="M2121.98,-2734.55C2155.28,-2740.54 2197.7,-2748.16 2234.72,-2754.81"/>
<polygon fill="black" stroke="black" points="2234.54,-2758.34 2245,-2756.66 2235.78,-2751.45 2234.54,-2758.34"/>
</g>
</g>
</svg>
